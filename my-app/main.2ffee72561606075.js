"use strict";var wD=Object.defineProperty,ED=Object.defineProperties,bD=Object.getOwnPropertyDescriptors,ww=Object.getOwnPropertySymbols,DD=Object.prototype.hasOwnProperty,CD=Object.prototype.propertyIsEnumerable,Ew=(ht,ce,K)=>ce in ht?wD(ht,ce,{enumerable:!0,configurable:!0,writable:!0,value:K}):ht[ce]=K,St=(ht,ce)=>{for(var K in ce||(ce={}))DD.call(ce,K)&&Ew(ht,K,ce[K]);if(ww)for(var K of ww(ce))CD.call(ce,K)&&Ew(ht,K,ce[K]);return ht},Ei=(ht,ce)=>ED(ht,bD(ce));(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{3002:(ht,ce,K)=>{Object.defineProperty(ce,"__esModule",{value:!0});var ae,Ee,k=K(7796),v=K(5488),Ae=K(1544),ye=K(6433),Ve=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),de=new v.ErrorFactory("app","Firebase",Ve),ze="@firebase/app",Je="[DEFAULT]",qe=((Ee={})[ze]="fire-core",Ee["@firebase/analytics"]="fire-analytics",Ee["@firebase/auth"]="fire-auth",Ee["@firebase/database"]="fire-rtdb",Ee["@firebase/functions"]="fire-fn",Ee["@firebase/installations"]="fire-iid",Ee["@firebase/messaging"]="fire-fcm",Ee["@firebase/performance"]="fire-perf",Ee["@firebase/remote-config"]="fire-rc",Ee["@firebase/storage"]="fire-gcs",Ee["@firebase/firestore"]="fire-fst",Ee["fire-js"]="fire-js",Ee["firebase-wrapper"]="fire-js-all",Ee),tt=new ye.Logger("@firebase/app"),L=function(){function je(Te,ut,yt){var yn,hn,kn=this;this.firebase_=yt,this.isDeleted_=!1,this.name_=ut.name,this.automaticDataCollectionEnabled_=ut.automaticDataCollectionEnabled||!1,this.options_=v.deepCopy(Te),this.container=new Ae.ComponentContainer(ut.name),this._addComponent(new Ae.Component("app",function(){return kn},"PUBLIC"));try{for(var Tn=k.__values(this.firebase_.INTERNAL.components.values()),$t=Tn.next();!$t.done;$t=Tn.next())this._addComponent($t.value)}catch(Pe){yn={error:Pe}}finally{try{$t&&!$t.done&&(hn=Tn.return)&&hn.call(Tn)}finally{if(yn)throw yn.error}}}return Object.defineProperty(je.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Te){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Te},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),je.prototype.delete=function(){var Te=this;return new Promise(function(ut){Te.checkDestroyed_(),ut()}).then(function(){return Te.firebase_.INTERNAL.removeApp(Te.name_),Promise.all(Te.container.getProviders().map(function(ut){return ut.delete()}))}).then(function(){Te.isDeleted_=!0})},je.prototype._getService=function(Te,ut){return void 0===ut&&(ut=Je),this.checkDestroyed_(),this.container.getProvider(Te).getImmediate({identifier:ut})},je.prototype._removeServiceInstance=function(Te,ut){void 0===ut&&(ut=Je),this.container.getProvider(Te).clearInstance(ut)},je.prototype._addComponent=function(Te){try{this.container.addComponent(Te)}catch(ut){tt.debug("Component "+Te.name+" failed to register with FirebaseApp "+this.name,ut)}},je.prototype._addOrOverwriteComponent=function(Te){this.container.addOrOverwriteComponent(Te)},je.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},je}();L.prototype.name&&L.prototype.options||L.prototype.delete||console.log("dc");var U=function R(){var je=function(je){var Te={},ut=new Map,yt={__esModule:!0,initializeApp:function(Ke,_t){void 0===_t&&(_t={}),("object"!=typeof _t||null===_t)&&(_t={name:_t});var pt=_t;void 0===pt.name&&(pt.name=Je);var zt=pt.name;if("string"!=typeof zt||!zt)throw de.create("bad-app-name",{appName:String(zt)});if(v.contains(Te,zt))throw de.create("duplicate-app",{appName:zt});var Wt=new je(Ke,pt,yt);return Te[zt]=Wt,Wt},app:hn,registerVersion:function(Ke,_t,it){var pt,zt=null!==(pt=qe[Ke])&&void 0!==pt?pt:Ke;it&&(zt+="-"+it);var Wt=zt.match(/\s|\//),Bn=_t.match(/\s|\//);if(Wt||Bn){var dn=['Unable to register library "'+zt+'" with version "'+_t+'":'];return Wt&&dn.push('library name "'+zt+'" contains illegal characters (whitespace or "/")'),Wt&&Bn&&dn.push("and"),Bn&&dn.push('version name "'+_t+'" contains illegal characters (whitespace or "/")'),void tt.warn(dn.join(" "))}$t(new Ae.Component(zt+"-version",function(){return{library:zt,version:_t}},"VERSION"))},setLogLevel:ye.setLogLevel,onLog:function(Ke,_t){if(null!==Ke&&"function"!=typeof Ke)throw de.create("invalid-log-argument",{appName:name});ye.setUserLogHandler(Ke,_t)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:$t,removeApp:function(Ke){delete Te[Ke]},components:ut,useAsService:function(Ke,_t){return"serverAuth"===_t?null:_t}}};function hn(Ke){if(!v.contains(Te,Ke=Ke||Je))throw de.create("no-app",{appName:Ke});return Te[Ke]}function $t(Ke){var _t,it,pt=Ke.name;if(ut.has(pt))return tt.debug("There were multiple attempts to register component "+pt+"."),"PUBLIC"===Ke.type?yt[pt]:null;if(ut.set(pt,Ke),"PUBLIC"===Ke.type){var zt=function(ir){if(void 0===ir&&(ir=hn()),"function"!=typeof ir[pt])throw de.create("invalid-app-argument",{appName:pt});return ir[pt]()};void 0!==Ke.serviceProps&&v.deepExtend(zt,Ke.serviceProps),yt[pt]=zt,je.prototype[pt]=function(){for(var ir=[],Yr=0;Yr<arguments.length;Yr++)ir[Yr]=arguments[Yr];return this._getService.bind(this,pt).apply(this,Ke.multipleInstances?ir:[])}}try{for(var Wt=k.__values(Object.keys(Te)),Bn=Wt.next();!Bn.done;Bn=Wt.next())Te[Bn.value]._addComponent(Ke)}catch(ir){_t={error:ir}}finally{try{Bn&&!Bn.done&&(it=Wt.return)&&it.call(Wt)}finally{if(_t)throw _t.error}}return"PUBLIC"===Ke.type?yt[pt]:null}return yt.default=yt,Object.defineProperty(yt,"apps",{get:function(){return Object.keys(Te).map(function(Ke){return Te[Ke]})}}),hn.App=je,yt}(L);return je.INTERNAL=k.__assign(k.__assign({},je.INTERNAL),{createFirebaseNamespace:R,extendNamespace:function(ut){v.deepExtend(je,ut)},createSubscribe:v.createSubscribe,ErrorFactory:v.ErrorFactory,deepExtend:v.deepExtend}),je}(),F=function(){function je(Te){this.container=Te}return je.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ut){if(function(je){var Te=je.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(ut)){var yt=ut.getImmediate();return yt.library+"/"+yt.version}return null}).filter(function(ut){return ut}).join(" ")},je}();if(v.isBrowser()&&void 0!==self.firebase){tt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&tt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fe=U.initializeApp;U.initializeApp=function(){for(var je=[],Te=0;Te<arguments.length;Te++)je[Te]=arguments[Te];return v.isNode()&&tt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),fe.apply(void 0,je)};var je,et=U;(je=et).INTERNAL.registerComponent(new Ae.Component("platform-logger",function(ut){return new F(ut)},"PRIVATE")),je.registerVersion(ze,"0.6.11",undefined),je.registerVersion("fire-js",""),ce.default=et,ce.firebase=et},1544:(ht,ce,K)=>{Object.defineProperty(ce,"__esModule",{value:!0});var k=K(5385),v=K(5488),Ae=function(){function Ce(q,Y,_e){this.name=q,this.instanceFactory=Y,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ce.prototype.setInstantiationMode=function(q){return this.instantiationMode=q,this},Ce.prototype.setMultipleInstances=function(q){return this.multipleInstances=q,this},Ce.prototype.setServiceProps=function(q){return this.serviceProps=q,this},Ce}(),ye="[DEFAULT]",ae=function(){function Ce(q,Y){this.name=q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ce.prototype.get=function(q){void 0===q&&(q=ye);var Y=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Y)){var _e=new v.Deferred;this.instancesDeferred.set(Y,_e);try{var Ie=this.getOrInitializeService(Y);Ie&&_e.resolve(Ie)}catch(ie){}}return this.instancesDeferred.get(Y).promise},Ce.prototype.getImmediate=function(q){var Y=k.__assign({identifier:ye,optional:!1},q),Ie=Y.optional,ie=this.normalizeInstanceIdentifier(Y.identifier);try{var Oe=this.getOrInitializeService(ie);if(!Oe){if(Ie)return null;throw Error("Service "+this.name+" is not available")}return Oe}catch(Ge){if(Ie)return null;throw Ge}},Ce.prototype.getComponent=function(){return this.component},Ce.prototype.setComponent=function(q){var Y,_e;if(q.name!==this.name)throw Error("Mismatching Component "+q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=q,function(Ce){return"EAGER"===Ce.instantiationMode}(q))try{this.getOrInitializeService(ye)}catch(me){}try{for(var Ie=k.__values(this.instancesDeferred.entries()),ie=Ie.next();!ie.done;ie=Ie.next()){var Oe=k.__read(ie.value,2),Me=Oe[1],we=this.normalizeInstanceIdentifier(Oe[0]);try{var ve=this.getOrInitializeService(we);Me.resolve(ve)}catch(me){}}}catch(me){Y={error:me}}finally{try{ie&&!ie.done&&(_e=Ie.return)&&_e.call(Ie)}finally{if(Y)throw Y.error}}},Ce.prototype.clearInstance=function(q){void 0===q&&(q=ye),this.instancesDeferred.delete(q),this.instances.delete(q)},Ce.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){var q;return k.__generator(this,function(Y){switch(Y.label){case 0:return q=Array.from(this.instances.values()),[4,Promise.all(k.__spread(q.filter(function(_e){return"INTERNAL"in _e}).map(function(_e){return _e.INTERNAL.delete()}),q.filter(function(_e){return"_delete"in _e}).map(function(_e){return _e._delete()})))];case 1:return Y.sent(),[2]}})})},Ce.prototype.isComponentSet=function(){return null!=this.component},Ce.prototype.getOrInitializeService=function(q){var Y=this.instances.get(q);return!Y&&this.component&&(Y=this.component.instanceFactory(this.container,function(Ce){return Ce===ye?void 0:Ce}(q)),this.instances.set(q,Y)),Y||null},Ce.prototype.normalizeInstanceIdentifier=function(q){return this.component?this.component.multipleInstances?q:ye:q},Ce}(),ze=function(){function Ce(q){this.name=q,this.providers=new Map}return Ce.prototype.addComponent=function(q){var Y=this.getProvider(q.name);if(Y.isComponentSet())throw new Error("Component "+q.name+" has already been registered with "+this.name);Y.setComponent(q)},Ce.prototype.addOrOverwriteComponent=function(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)},Ce.prototype.getProvider=function(q){if(this.providers.has(q))return this.providers.get(q);var Y=new ae(q,this);return this.providers.set(q,Y),Y},Ce.prototype.getProviders=function(){return Array.from(this.providers.values())},Ce}();ce.Component=Ae,ce.ComponentContainer=ze,ce.Provider=ae},684:(ht,ce,K)=>{var a,v=K(5704),Ae=K(3002),ye=K(6433),ae=K(5488),Ve=K(9057),de=K(1544),Ce=(a=Ae)&&"object"==typeof a&&"default"in a?a:{default:a},q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(a){function n(s,c){var d=this;return(d=a.call(this,c)||this).code=s,d.message=c,d.name="FirebaseError",d.toString=function(){return d.name+": [code="+d.code+"]: "+d.message},d}return v.__extends(n,a),n}(Error),_e=new ye.Logger("@firebase/firestore");function Ie(){return _e.logLevel}function ie(a){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(_e.logLevel<=ye.LogLevel.DEBUG){var c=n.map(Me);_e.debug.apply(_e,v.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function Oe(a){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(_e.logLevel<=ye.LogLevel.ERROR){var c=n.map(Me);_e.error.apply(_e,v.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function Ge(a){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(_e.logLevel<=ye.LogLevel.WARN){var c=n.map(Me);_e.warn.apply(_e,v.__spreadArrays(["Firestore (7.24.0): "+a],c))}}function Me(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(s){return a}}function we(a){void 0===a&&(a="Unexpected state");var n="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+a;throw Oe(n),new Error(n)}function ve(a,n){a||we()}function me(a,n){return a}function Ee(a){var n=0;for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n++;return n}function Je(a,n){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n(s,a[s])}function qe(a){for(var n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}var tt=function(){function a(n,s,c){void 0===s?s=0:s>n.length&&we(),void 0===c?c=n.length-s:c>n.length-s&&we(),this.segments=n,this.offset=s,this.t=c}return Object.defineProperty(a.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){return 0===a.i(this,n)},a.prototype.child=function(n){var s=this.segments.slice(this.offset,this.limit());return n instanceof a?n.forEach(function(c){s.push(c)}):s.push(n),this.o(s)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.u=function(n){return this.o(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)},a.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},a.prototype.l=function(){return this.segments[this.offset]},a.prototype._=function(){return this.get(this.length-1)},a.prototype.get=function(n){return this.segments[this.offset+n]},a.prototype.m=function(){return 0===this.length},a.prototype.T=function(n){if(n.length<this.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0},a.prototype.I=function(n){if(this.length+1!==n.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0},a.prototype.forEach=function(n){for(var s=this.offset,c=this.limit();s<c;s++)n(this.segments[s])},a.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},a.i=function(n,s){for(var c=Math.min(n.length,s.length),d=0;d<c;d++){var y=n.get(d),w=s.get(d);if(y<w)return-1;if(y>w)return 1}return n.length<s.length?-1:n.length>s.length?1:0},a}(),L=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.o=function(s,c,d){return new n(s,c,d)},n.prototype.R=function(){return this.A().join("/")},n.prototype.toString=function(){return this.R()},n.g=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];for(var d=[],y=0,w=s;y<w.length;y++){var D=w[y];if(D.indexOf("//")>=0)throw new Y(q.INVALID_ARGUMENT,"Invalid segment ("+D+"). Paths must not contain // in them.");d.push.apply(d,D.split("/").filter(function(N){return N.length>0}))}return new n(d)},n.P=function(){return new n([])},n}(tt),H=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.o=function(s,c,d){return new n(s,c,d)},n.V=function(s){return H.test(s)},n.prototype.R=function(){return this.A().map(function(s){return s=s.replace("\\","\\\\").replace("`","\\`"),n.V(s)||(s="`"+s+"`"),s}).join(".")},n.prototype.toString=function(){return this.R()},n.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},n.v=function(){return new n(["__name__"])},n.S=function(s){for(var c=[],d="",y=0,w=function(){if(0===d.length)throw new Y(q.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(d),d=""},D=!1;y<s.length;){var N=s[y];if("\\"===N){if(y+1===s.length)throw new Y(q.INVALID_ARGUMENT,"Path has trailing escape character: "+s);var B=s[y+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Y(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);d+=B,y+=2}else"`"===N?(D=!D,y++):"."!==N||D?(d+=N,y++):(w(),y++)}if(w(),D)throw new Y(q.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new n(c)},n.P=function(){return new n([])},n}(tt),R=function(){function a(n){this.path=n}return a.D=function(n){return new a(L.g(n))},a.C=function(n){return new a(L.g(n).u(5))},a.prototype.N=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},a.prototype.isEqual=function(n){return null!==n&&0===L.i(this.path,n.path)},a.prototype.toString=function(){return this.path.toString()},a.i=function(n,s){return L.i(n.path,s.path)},a.F=function(n){return n.length%2==0},a.$=function(n){return new a(new L(n.slice()))},a}();function U(a,n){if(0!==n.length)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() does not support arguments, but was called with "+Be(n.length,"argument")+".")}function F(a,n,s){if(n.length!==s)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires "+Be(s,"argument")+", but was called with "+Be(n.length,"argument")+".")}function J(a,n,s){if(n.length<s)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires at least "+Be(s,"argument")+", but was called with "+Be(n.length,"argument")+".")}function Z(a,n,s,c){if(n.length<s||n.length>c)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires between "+s+" and "+c+" arguments, but was called with "+Be(n.length,"argument")+".")}function Re(a,n,s,c){yt(a,n,Pe(s)+" argument",c)}function fe(a,n,s,c){void 0!==c&&Re(a,n,s,c)}function et(a,n,s,c){yt(a,n,s+" option",c)}function je(a,n,s,c){void 0!==c&&et(a,n,s,c)}function Te(a,n,s,c,d){void 0!==c&&function(y,w,D,N,B){for(var W=[],re=0,te=B;re<te.length;re++){var he=te[re];if(he===N)return;W.push(hn(he))}var Se=hn(N);throw new Y(q.INVALID_ARGUMENT,"Invalid value "+Se+" provided to function "+y+'() for option "'+D+'". Acceptable values: '+W.join(", "))}(a,0,s,c,d)}function ut(a,n,s,c){if(!n.some(function(d){return d===c}))throw new Y(q.INVALID_ARGUMENT,"Invalid value "+hn(c)+" provided to function "+a+"() for its "+Pe(s)+" argument. Acceptable values: "+n.join(", "));return c}function yt(a,n,s,c){if(!("object"===n?yn(c):"non-empty string"===n?"string"==typeof c&&""!==c:typeof c===n)){var d=hn(c);throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires its "+s+" to be of type "+n+", but it was: "+d)}}function yn(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function hn(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var n=function(s){if(s.constructor){var c=/function\s+([^\s(]+)\s*\(/.exec(s.constructor.toString());if(c&&c.length>1)return c[1]}return null}(a);return n?"a custom "+n+" object":"an object"}return"function"==typeof a?"a function":we()}function kn(a,n,s){if(void 0===s)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires a valid "+Pe(n)+" argument, but it was undefined.")}function Tn(a,n,s){Je(n,function(c,d){if(s.indexOf(c)<0)throw new Y(q.INVALID_ARGUMENT,"Unknown option '"+c+"' passed to function "+a+"(). Available options: "+s.join(", "))})}function $t(a,n,s,c){var d=hn(c);return new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires its "+Pe(s)+" argument to be a "+n+", but it was: "+d)}function lt(a,n,s){if(s<=0)throw new Y(q.INVALID_ARGUMENT,"Function "+a+"() requires its "+Pe(n)+" argument to be a positive number, but it was: "+s+".")}function Pe(a){switch(a){case 1:return"first";case 2:return"second";case 3:return"third";default:return a+"th"}}function Be(a,n){return a+" "+n+(1===a?"":"s")}function Ke(a){var n="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(s);else for(var c=0;c<a;c++)s[c]=Math.floor(256*Math.random());return s}var _t=function(){function a(){}return a.k=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/n.length)*n.length,c="";c.length<20;)for(var d=Ke(40),y=0;y<d.length;++y)c.length<20&&d[y]<s&&(c+=n.charAt(d[y]%n.length));return c},a}();function it(a,n){return a<n?-1:a>n?1:0}function pt(a,n,s){return a.length===n.length&&a.every(function(c,d){return s(c,n[d])})}function zt(a){return a+"\0"}var Wt=function(){function a(n){this.M=n}return a.fromBase64String=function(n){return new a(atob(n))},a.fromUint8Array=function(n){return new a(function(s){for(var c="",d=0;d<s.length;++d)c+=String.fromCharCode(s[d]);return c}(n))},a.prototype.toBase64=function(){return btoa(this.M)},a.prototype.toUint8Array=function(){return function(n){for(var s=new Uint8Array(n.length),c=0;c<n.length;c++)s[c]=n.charCodeAt(c);return s}(this.M)},a.prototype.O=function(){return 2*this.M.length},a.prototype.L=function(n){return it(this.M,n.M)},a.prototype.isEqual=function(n){return this.M===n.M},a}();Wt.B=new Wt("");var Bn=function(){function a(n){this.q=n}return a.fromBase64String=function(n){try{return new a(Wt.fromBase64String(n))}catch(s){throw new Y(q.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+s)}},a.fromUint8Array=function(n){return new a(Wt.fromUint8Array(n))},a.prototype.toBase64=function(){return this.q.toBase64()},a.prototype.toUint8Array=function(){return this.q.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(n){return this.q.isEqual(n.q)},a}();function dn(){if("undefined"==typeof Uint8Array)throw new Y(q.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ir(){if("undefined"==typeof atob)throw new Y(q.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yr=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.fromBase64String=function(s){F("Blob.fromBase64String",arguments,1),Re("Blob.fromBase64String","string",1,s),ir();try{return new n(Wt.fromBase64String(s))}catch(c){throw new Y(q.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+c)}},n.fromUint8Array=function(s){if(F("Blob.fromUint8Array",arguments,1),dn(),!(s instanceof Uint8Array))throw $t("Blob.fromUint8Array","Uint8Array",1,s);return new n(Wt.fromUint8Array(s))},n.prototype.toBase64=function(){return F("Blob.toBase64",arguments,0),ir(),a.prototype.toBase64.call(this)},n.prototype.toUint8Array=function(){return F("Blob.toUint8Array",arguments,0),dn(),a.prototype.toUint8Array.call(this)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(Bn),bo=function(a,n,s,c,d,y){this.U=a,this.persistenceKey=n,this.host=s,this.ssl=c,this.forceLongPolling=d,this.W=y},Ji=function(){function a(n,s){this.projectId=n,this.database=s||"(default)"}return Object.defineProperty(a.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){return n instanceof a&&n.projectId===this.projectId&&n.database===this.database},a.prototype.L=function(n){return it(this.projectId,n.projectId)||it(this.database,n.database)},a}(),En=function(){function a(n,s){this.K=n,this.G=s,this.H={}}return a.prototype.get=function(n){var s=this.K(n),c=this.H[s];if(void 0!==c)for(var d=0,y=c;d<y.length;d++){var w=y[d],N=w[1];if(this.G(w[0],n))return N}},a.prototype.has=function(n){return void 0!==this.get(n)},a.prototype.set=function(n,s){var c=this.K(n),d=this.H[c];if(void 0!==d){for(var y=0;y<d.length;y++)if(this.G(d[y][0],n))return void(d[y]=[n,s]);d.push([n,s])}else this.H[c]=[[n,s]]},a.prototype.delete=function(n){var s=this.K(n),c=this.H[s];if(void 0===c)return!1;for(var d=0;d<c.length;d++)if(this.G(c[d][0],n))return 1===c.length?delete this.H[s]:c.splice(d,1),!0;return!1},a.prototype.forEach=function(n){Je(this.H,function(s,c){for(var d=0,y=c;d<y.length;d++){var w=y[d];n(w[0],w[1])}})},a.prototype.m=function(){return qe(this.H)},a}(),pn=function(){function a(n,s){if(this.seconds=n,this.nanoseconds=s,s<0)throw new Y(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Y(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(n<-62135596800)throw new Y(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Y(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(n){return a.fromMillis(n.getTime())},a.fromMillis=function(n){var s=Math.floor(n/1e3);return new a(s,1e6*(n-1e3*s))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype.Y=function(n){return this.seconds===n.seconds?it(this.nanoseconds,n.nanoseconds):it(this.seconds,n.seconds)},a.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),Ot=function(){function a(n){this.timestamp=n}return a.J=function(n){return new a(n)},a.min=function(){return new a(new pn(0,0))},a.prototype.L=function(n){return this.timestamp.Y(n.timestamp)},a.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},a.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.Z=function(){return this.timestamp},a}();function ee(a){return null==a}function X(a){return 0===a&&1/a==-1/0}function le(a){return"number"==typeof a&&Number.isInteger(a)&&!X(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var be=function(a,n,s,c,d,y,w){void 0===n&&(n=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===d&&(d=null),void 0===y&&(y=null),void 0===w&&(w=null),this.path=a,this.collectionGroup=n,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=y,this.endAt=w,this.tt=null};function pe(a,n,s,c,d,y,w){return void 0===n&&(n=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===d&&(d=null),void 0===y&&(y=null),void 0===w&&(w=null),new be(a,n,s,c,d,y,w)}function ct(a){var n=me(a);if(null===n.tt){var s=n.path.R();null!==n.collectionGroup&&(s+="|cg:"+n.collectionGroup),s+="|f:",s+=n.filters.map(function(c){return(d=c).field.R()+d.op.toString()+Li(d.value);var d}).join(","),s+="|ob:",s+=n.orderBy.map(function(c){return(d=c).field.R()+d.dir;var d}).join(","),ee(n.limit)||(s+="|l:",s+=n.limit),n.startAt&&(s+="|lb:",s+=Ks(n.startAt)),n.endAt&&(s+="|ub:",s+=Ks(n.endAt)),n.tt=s}return n.tt}function Et(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(var s=0;s<a.orderBy.length;s++)if(!Cr(a.orderBy[s],n.orderBy[s]))return!1;if(a.filters.length!==n.filters.length)return!1;for(var c=0;c<a.filters.length;c++)if((d=a.filters[c]).op!==(y=n.filters[c]).op||!d.field.isEqual(y.field)||!Hn(d.value,y.value))return!1;var d,y;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!bu(a.startAt,n.startAt)&&bu(a.endAt,n.endAt)}function bt(a){return R.F(a.path)&&null===a.collectionGroup&&0===a.filters.length}var xt,nt,vn=function(){function a(n,s,c,d,y,w,D){void 0===y&&(y=Ot.min()),void 0===w&&(w=Ot.min()),void 0===D&&(D=Wt.B),this.target=n,this.targetId=s,this.et=c,this.sequenceNumber=d,this.nt=y,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=D}return a.prototype.st=function(n){return new a(this.target,this.targetId,this.et,n,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.it=function(n,s){return new a(this.target,this.targetId,this.et,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,n)},a.prototype.rt=function(n){return new a(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,n,this.resumeToken)},a}(),Ut=function(a){this.count=a};function qn(a){switch(a){default:return we();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function si(a){if(void 0===a)return Oe("GRPC error has no .code"),q.UNKNOWN;switch(a){case xt.OK:return q.OK;case xt.CANCELLED:return q.CANCELLED;case xt.UNKNOWN:return q.UNKNOWN;case xt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case xt.INTERNAL:return q.INTERNAL;case xt.UNAVAILABLE:return q.UNAVAILABLE;case xt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case xt.NOT_FOUND:return q.NOT_FOUND;case xt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case xt.ABORTED:return q.ABORTED;case xt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case xt.DATA_LOSS:return q.DATA_LOSS;default:return we()}}(nt=xt||(xt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";var Qn=function(){function a(n,s){this.i=n,this.root=s||Xi.EMPTY}return a.prototype.ot=function(n,s){return new a(this.i,this.root.ot(n,s,this.i).copy(null,null,Xi.at,null,null))},a.prototype.remove=function(n){return new a(this.i,this.root.remove(n,this.i).copy(null,null,Xi.at,null,null))},a.prototype.get=function(n){for(var s=this.root;!s.m();){var c=this.i(n,s.key);if(0===c)return s.value;c<0?s=s.left:c>0&&(s=s.right)}return null},a.prototype.indexOf=function(n){for(var s=0,c=this.root;!c.m();){var d=this.i(n,c.key);if(0===d)return s+c.left.size;d<0?c=c.left:(s+=c.left.size+1,c=c.right)}return-1},a.prototype.m=function(){return this.root.m()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.ct=function(){return this.root.ct()},a.prototype.ut=function(){return this.root.ut()},a.prototype.ht=function(n){return this.root.ht(n)},a.prototype.forEach=function(n){this.ht(function(s,c){return n(s,c),!1})},a.prototype.toString=function(){var n=[];return this.ht(function(s,c){return n.push(s+":"+c),!1}),"{"+n.join(", ")+"}"},a.prototype.lt=function(n){return this.root.lt(n)},a.prototype._t=function(){return new ln(this.root,null,this.i,!1)},a.prototype.ft=function(n){return new ln(this.root,n,this.i,!1)},a.prototype.dt=function(){return new ln(this.root,null,this.i,!0)},a.prototype.wt=function(n){return new ln(this.root,n,this.i,!0)},a}(),ln=function(){function a(n,s,c,d){this.Tt=d,this.Et=[];for(var y=1;!n.m();)if(y=s?c(n.key,s):1,d&&(y*=-1),y<0)n=this.Tt?n.left:n.right;else{if(0===y){this.Et.push(n);break}this.Et.push(n),n=this.Tt?n.right:n.left}}return a.prototype.It=function(){var n=this.Et.pop(),s={key:n.key,value:n.value};if(this.Tt)for(n=n.left;!n.m();)this.Et.push(n),n=n.right;else for(n=n.right;!n.m();)this.Et.push(n),n=n.left;return s},a.prototype.At=function(){return this.Et.length>0},a.prototype.Rt=function(){if(0===this.Et.length)return null;var n=this.Et[this.Et.length-1];return{key:n.key,value:n.value}},a}(),Xi=function(){function a(n,s,c,d,y){this.key=n,this.value=s,this.color=null!=c?c:a.RED,this.left=null!=d?d:a.EMPTY,this.right=null!=y?y:a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(n,s,c,d,y){return new a(null!=n?n:this.key,null!=s?s:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=y?y:this.right)},a.prototype.m=function(){return!1},a.prototype.ht=function(n){return this.left.ht(n)||n(this.key,this.value)||this.right.ht(n)},a.prototype.lt=function(n){return this.right.lt(n)||n(this.key,this.value)||this.left.lt(n)},a.prototype.min=function(){return this.left.m()?this:this.left.min()},a.prototype.ct=function(){return this.min().key},a.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},a.prototype.ot=function(n,s,c){var d=this,y=c(n,d.key);return(d=y<0?d.copy(null,null,null,d.left.ot(n,s,c),null):0===y?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.ot(n,s,c))).gt()},a.prototype.Pt=function(){if(this.left.m())return a.EMPTY;var n=this;return n.left.yt()||n.left.left.yt()||(n=n.Vt()),(n=n.copy(null,null,null,n.left.Pt(),null)).gt()},a.prototype.remove=function(n,s){var c,d=this;if(s(n,d.key)<0)d.left.m()||d.left.yt()||d.left.left.yt()||(d=d.Vt()),d=d.copy(null,null,null,d.left.remove(n,s),null);else{if(d.left.yt()&&(d=d.bt()),d.right.m()||d.right.yt()||d.right.left.yt()||(d=d.vt()),0===s(n,d.key)){if(d.right.m())return a.EMPTY;c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.Pt())}d=d.copy(null,null,null,null,d.right.remove(n,s))}return d.gt()},a.prototype.yt=function(){return this.color},a.prototype.gt=function(){var n=this;return n.right.yt()&&!n.left.yt()&&(n=n.St()),n.left.yt()&&n.left.left.yt()&&(n=n.bt()),n.left.yt()&&n.right.yt()&&(n=n.Dt()),n},a.prototype.Vt=function(){var n=this.Dt();return n.right.left.yt()&&(n=(n=(n=n.copy(null,null,null,null,n.right.bt())).St()).Dt()),n},a.prototype.vt=function(){var n=this.Dt();return n.left.left.yt()&&(n=(n=n.bt()).Dt()),n},a.prototype.St=function(){var n=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},a.prototype.bt=function(){var n=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},a.prototype.Dt=function(){var n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)},a.prototype.Ct=function(){var n=this.Nt();return Math.pow(2,n)<=this.size+1},a.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw we();var n=this.left.Nt();if(n!==this.right.Nt())throw we();return n+(this.yt()?0:1)},a}();Xi.EMPTY=null,Xi.RED=!0,Xi.at=!1,Xi.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),a.prototype.copy=function(n,s,c,d,y){return this},a.prototype.ot=function(n,s,c){return new Xi(n,s)},a.prototype.remove=function(n,s){return this},a.prototype.m=function(){return!0},a.prototype.ht=function(n){return!1},a.prototype.lt=function(n){return!1},a.prototype.ct=function(){return null},a.prototype.ut=function(){return null},a.prototype.yt=function(){return!1},a.prototype.Ct=function(){return!0},a.prototype.Nt=function(){return 0},a}());var Zn=function(){function a(n){this.i=n,this.data=new Qn(this.i)}return a.prototype.has=function(n){return null!==this.data.get(n)},a.prototype.first=function(){return this.data.ct()},a.prototype.last=function(){return this.data.ut()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(n){return this.data.indexOf(n)},a.prototype.forEach=function(n){this.data.ht(function(s,c){return n(s),!1})},a.prototype.Ft=function(n,s){for(var c=this.data.ft(n[0]);c.At();){var d=c.It();if(this.i(d.key,n[1])>=0)return;s(d.key)}},a.prototype.xt=function(n,s){var c;for(c=void 0!==s?this.data.ft(s):this.data._t();c.At();)if(!n(c.It().key))return},a.prototype.$t=function(n){var s=this.data.ft(n);return s.At()?s.It().key:null},a.prototype._t=function(){return new hi(this.data._t())},a.prototype.ft=function(n){return new hi(this.data.ft(n))},a.prototype.add=function(n){return this.copy(this.data.remove(n).ot(n,!0))},a.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},a.prototype.m=function(){return this.data.m()},a.prototype.kt=function(n){var s=this;return s.size<n.size&&(s=n,n=this),n.forEach(function(c){s=s.add(c)}),s},a.prototype.isEqual=function(n){if(!(n instanceof a)||this.size!==n.size)return!1;for(var s=this.data._t(),c=n.data._t();s.At();){var d=s.It().key,y=c.It().key;if(0!==this.i(d,y))return!1}return!0},a.prototype.A=function(){var n=[];return this.forEach(function(s){n.push(s)}),n},a.prototype.toString=function(){var n=[];return this.forEach(function(s){return n.push(s)}),"SortedSet("+n.toString()+")"},a.prototype.copy=function(n){var s=new a(this.i);return s.data=n,s},a}(),hi=function(){function a(n){this.Mt=n}return a.prototype.It=function(){return this.Mt.It().key},a.prototype.At=function(){return this.Mt.At()},a}(),nn=new Qn(R.i);function xr(){return nn}function or(){return xr()}var eo=new Qn(R.i);function to(){return eo}var Cn=new Qn(R.i),Tt=new Zn(R.i);function rn(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];for(var s=Tt,c=0,d=a;c<d.length;c++){var y=d[c];s=s.add(y)}return s}var hr=new Zn(it);function Fr(){return hr}var zo=function(){function a(n){this.i=n?function(s,c){return n(s,c)||R.i(s.key,c.key)}:function(s,c){return R.i(s.key,c.key)},this.Ot=to(),this.Lt=new Qn(this.i)}return a.Bt=function(n){return new a(n.i)},a.prototype.has=function(n){return null!=this.Ot.get(n)},a.prototype.get=function(n){return this.Ot.get(n)},a.prototype.first=function(){return this.Lt.ct()},a.prototype.last=function(){return this.Lt.ut()},a.prototype.m=function(){return this.Lt.m()},a.prototype.indexOf=function(n){var s=this.Ot.get(n);return s?this.Lt.indexOf(s):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(n){this.Lt.ht(function(s,c){return n(s),!1})},a.prototype.add=function(n){var s=this.delete(n.key);return s.copy(s.Ot.ot(n.key,n),s.Lt.ot(n,null))},a.prototype.delete=function(n){var s=this.get(n);return s?this.copy(this.Ot.remove(n),this.Lt.remove(s)):this},a.prototype.isEqual=function(n){if(!(n instanceof a)||this.size!==n.size)return!1;for(var s=this.Lt._t(),c=n.Lt._t();s.At();){var d=s.It().key,y=c.It().key;if(!d.isEqual(y))return!1}return!0},a.prototype.toString=function(){var n=[];return this.forEach(function(s){n.push(s.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},a.prototype.copy=function(n,s){var c=new a;return c.i=this.i,c.Ot=n,c.Lt=s,c},a}(),Fi=function(){function a(){this.qt=new Qn(R.i)}return a.prototype.track=function(n){var s=n.doc.key,c=this.qt.get(s);c?0!==n.type&&3===c.type?this.qt=this.qt.ot(s,n):3===n.type&&1!==c.type?this.qt=this.qt.ot(s,{type:c.type,doc:n.doc}):2===n.type&&2===c.type?this.qt=this.qt.ot(s,{type:2,doc:n.doc}):2===n.type&&0===c.type?this.qt=this.qt.ot(s,{type:0,doc:n.doc}):1===n.type&&0===c.type?this.qt=this.qt.remove(s):1===n.type&&2===c.type?this.qt=this.qt.ot(s,{type:1,doc:c.doc}):0===n.type&&1===c.type?this.qt=this.qt.ot(s,{type:2,doc:n.doc}):we():this.qt=this.qt.ot(s,n)},a.prototype.Ut=function(){var n=[];return this.qt.ht(function(s,c){n.push(c)}),n},a}(),bi=function(){function a(n,s,c,d,y,w,D,N){this.query=n,this.docs=s,this.Qt=c,this.docChanges=d,this.Wt=y,this.fromCache=w,this.jt=D,this.Kt=N}return a.Gt=function(n,s,c,d){var y=[];return s.forEach(function(w){y.push({type:0,doc:w})}),new a(n,s,zo.Bt(s),y,c,d,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.jt===n.jt&&this.Wt.isEqual(n.Wt)&&bn(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.Qt.isEqual(n.Qt)))return!1;var s=this.docChanges,c=n.docChanges;if(s.length!==c.length)return!1;for(var d=0;d<s.length;d++)if(s[d].type!==c[d].type||!s[d].doc.isEqual(c[d].doc))return!1;return!0},a}(),no=function(){function a(n,s,c,d,y){this.nt=n,this.zt=s,this.Ht=c,this.Yt=d,this.Jt=y}return a.Xt=function(n,s){var c=new Map;return c.set(n,qo.Zt(n,s)),new a(Ot.min(),c,Fr(),xr(),rn())},a}(),qo=function(){function a(n,s,c,d,y){this.resumeToken=n,this.te=s,this.ee=c,this.ne=d,this.se=y}return a.Zt=function(n,s){return new a(Wt.B,s,rn(),rn(),rn())},a}(),ro=function(a,n,s,c){this.ie=a,this.removedTargetIds=n,this.key=s,this.re=c},di=function(a,n){this.targetId=a,this.oe=n},Xt=function(a,n,s,c){void 0===s&&(s=Wt.B),void 0===c&&(c=null),this.state=a,this.targetIds=n,this.resumeToken=s,this.cause=c},Vn=function(){function a(){this.ae=0,this.ce=Un(),this.ue=Wt.B,this.he=!1,this.le=!0}return Object.defineProperty(a.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),a.prototype.de=function(n){n.O()>0&&(this.le=!0,this.ue=n)},a.prototype.we=function(){var n=rn(),s=rn(),c=rn();return this.ce.forEach(function(d,y){switch(y){case 0:n=n.add(d);break;case 2:s=s.add(d);break;case 1:c=c.add(d);break;default:we()}}),new qo(this.ue,this.he,n,s,c)},a.prototype.me=function(){this.le=!1,this.ce=Un()},a.prototype.Te=function(n,s){this.le=!0,this.ce=this.ce.ot(n,s)},a.prototype.Ee=function(n){this.le=!0,this.ce=this.ce.remove(n)},a.prototype.Ie=function(){this.ae+=1},a.prototype.Ae=function(){this.ae-=1},a.prototype.Re=function(){this.le=!0,this.he=!0},a}(),Di=function(){function a(n){this.ge=n,this.Pe=new Map,this.ye=xr(),this.Ve=Ci(),this.pe=new Zn(it)}return a.prototype.be=function(n){for(var s=0,c=n.ie;s<c.length;s++){var d=c[s];n.re instanceof Zt?this.ve(d,n.re):n.re instanceof Pn&&this.Se(d,n.key,n.re)}for(var y=0,w=n.removedTargetIds;y<w.length;y++)this.Se(w[y],n.key,n.re)},a.prototype.De=function(n){var s=this;this.Ce(n,function(c){var d=s.Ne(c);switch(n.state){case 0:s.Fe(c)&&d.de(n.resumeToken);break;case 1:d.Ae(),d._e||d.me(),d.de(n.resumeToken);break;case 2:d.Ae(),d._e||s.removeTarget(c);break;case 3:s.Fe(c)&&(d.Re(),d.de(n.resumeToken));break;case 4:s.Fe(c)&&(s.xe(c),d.de(n.resumeToken));break;default:we()}})},a.prototype.Ce=function(n,s){var c=this;n.targetIds.length>0?n.targetIds.forEach(s):this.Pe.forEach(function(d,y){c.Fe(y)&&s(y)})},a.prototype.$e=function(n){var s=n.targetId,c=n.oe.count,d=this.ke(s);if(d){var y=d.target;if(bt(y))if(0===c){var w=new R(y.path);this.Se(s,w,new Pn(w,Ot.min()))}else ve(1===c);else this.Me(s)!==c&&(this.xe(s),this.pe=this.pe.add(s))}},a.prototype.Oe=function(n){var s=this,c=new Map;this.Pe.forEach(function(w,D){var N=s.ke(D);if(N){if(w.te&&bt(N.target)){var B=new R(N.target.path);null!==s.ye.get(B)||s.Le(D,B)||s.Se(D,B,new Pn(B,n))}w.fe&&(c.set(D,w.we()),w.me())}});var d=rn();this.Ve.forEach(function(w,D){var N=!0;D.xt(function(B){var W=s.ke(B);return!W||2===W.et||(N=!1,!1)}),N&&(d=d.add(w))});var y=new no(n,c,this.pe,this.ye,d);return this.ye=xr(),this.Ve=Ci(),this.pe=new Zn(it),y},a.prototype.ve=function(n,s){if(this.Fe(n)){var c=this.Le(n,s.key)?2:0;this.Ne(n).Te(s.key,c),this.ye=this.ye.ot(s.key,s),this.Ve=this.Ve.ot(s.key,this.Be(s.key).add(n))}},a.prototype.Se=function(n,s,c){if(this.Fe(n)){var d=this.Ne(n);this.Le(n,s)?d.Te(s,1):d.Ee(s),this.Ve=this.Ve.ot(s,this.Be(s).delete(n)),c&&(this.ye=this.ye.ot(s,c))}},a.prototype.removeTarget=function(n){this.Pe.delete(n)},a.prototype.Me=function(n){var s=this.Ne(n).we();return this.ge.qe(n).size+s.ee.size-s.se.size},a.prototype.Ie=function(n){this.Ne(n).Ie()},a.prototype.Ne=function(n){var s=this.Pe.get(n);return s||(s=new Vn,this.Pe.set(n,s)),s},a.prototype.Be=function(n){var s=this.Ve.get(n);return s||(s=new Zn(it),this.Ve=this.Ve.ot(n,s)),s},a.prototype.Fe=function(n){var s=null!==this.ke(n);return s||ie("WatchChangeAggregator","Detected inactive target",n),s},a.prototype.ke=function(n){var s=this.Pe.get(n);return s&&s._e?null:this.ge.Ue(n)},a.prototype.xe=function(n){var s=this;this.Pe.set(n,new Vn),this.ge.qe(n).forEach(function(c){s.Se(n,c,null)})},a.prototype.Le=function(n,s){return this.ge.qe(n).has(s)},a}();function Ci(){return new Qn(R.i)}function Un(){return new Qn(R.i)}function Jn(a){var n,s;return"server_timestamp"===(null===(s=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function Xe(a){var n=a.mapValue.fields.__previous_value__;return Jn(n)?Xe(n):n}function Rt(a){var n=wt(a.mapValue.fields.__local_write_time__.timestampValue);return new pn(n.seconds,n.nanos)}var _n=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function In(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Jn(a)?4:10:we()}function Hn(a,n){var d,s=In(a);if(s!==In(n))return!1;switch(s){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return Rt(a).isEqual(Rt(n));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;var y=wt(c.timestampValue),w=wt(d.timestampValue);return y.seconds===w.seconds&&y.nanos===w.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return d=n,sr(a.bytesValue).isEqual(sr(d.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(c,d){return fn(c.geoPointValue.latitude)===fn(d.geoPointValue.latitude)&&fn(c.geoPointValue.longitude)===fn(d.geoPointValue.longitude)}(a,n);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return fn(c.integerValue)===fn(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){var y=fn(c.doubleValue),w=fn(d.doubleValue);return y===w?X(y)===X(w):isNaN(y)&&isNaN(w)}return!1}(a,n);case 9:return pt(a.arrayValue.values||[],n.arrayValue.values||[],Hn);case 10:return function(c,d){var y=c.mapValue.fields||{},w=d.mapValue.fields||{};if(Ee(y)!==Ee(w))return!1;for(var D in y)if(y.hasOwnProperty(D)&&(void 0===w[D]||!Hn(y[D],w[D])))return!1;return!0}(a,n);default:return we()}}function cn(a,n){return void 0!==(a.values||[]).find(function(s){return Hn(s,n)})}function _r(a,n){var d,y,w,D,s=In(a),c=In(n);if(s!==c)return it(s,c);switch(s){case 0:return 0;case 1:return it(a.booleanValue,n.booleanValue);case 2:return y=n,(w=fn((d=a).integerValue||d.doubleValue))<(D=fn(y.integerValue||y.doubleValue))?-1:w>D?1:w===D?0:isNaN(w)?isNaN(D)?0:-1:1;case 3:return Sn(a.timestampValue,n.timestampValue);case 4:return Sn(Rt(a),Rt(n));case 5:return it(a.stringValue,n.stringValue);case 6:return function(d,y){var w=sr(d),D=sr(y);return w.L(D)}(a.bytesValue,n.bytesValue);case 7:return function(d,y){for(var w=d.split("/"),D=y.split("/"),N=0;N<w.length&&N<D.length;N++){var B=it(w[N],D[N]);if(0!==B)return B}return it(w.length,D.length)}(a.referenceValue,n.referenceValue);case 8:return function(d,y){var w=it(fn(d.latitude),fn(y.latitude));return 0!==w?w:it(fn(d.longitude),fn(y.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(d,y){for(var w=d.values||[],D=y.values||[],N=0;N<w.length&&N<D.length;++N){var B=_r(w[N],D[N]);if(B)return B}return it(w.length,D.length)}(a.arrayValue,n.arrayValue);case 10:return function(d,y){var w=d.fields||{},D=Object.keys(w),N=y.fields||{},B=Object.keys(N);D.sort(),B.sort();for(var W=0;W<D.length&&W<B.length;++W){var re=it(D[W],B[W]);if(0!==re)return re;var te=_r(w[D[W]],N[B[W]]);if(0!==te)return te}return it(D.length,B.length)}(a.mapValue,n.mapValue);default:throw we()}}function Sn(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return it(a,n);var s=wt(a),c=wt(n),d=it(s.seconds,c.seconds);return 0!==d?d:it(s.nanos,c.nanos)}function Li(a){return Lr(a)}function Lr(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(d=wt(a.timestampValue)).seconds+","+d.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?sr(a.bytesValue).toBase64():"referenceValue"in a?R.C(a.referenceValue).toString():"geoPointValue"in a?"geo("+(n=a.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in a?function(c){for(var d="[",y=!0,w=0,D=c.values||[];w<D.length;w++)y?y=!1:d+=",",d+=Lr(D[w]);return d+"]"}(a.arrayValue):"mapValue"in a?function(c){for(var d="{",y=!0,w=0,D=Object.keys(c.fields||{}).sort();w<D.length;w++){var N=D[w];y?y=!1:d+=",",d+=N+":"+Lr(c.fields[N])}return d+"}"}(a.mapValue):we();var d,n}function wt(a){if(ve(!!a),"string"==typeof a){var n=0,s=_n.exec(a);if(ve(!!s),s[1]){var c=s[1];c=(c+"000000000").substr(0,9),n=Number(c)}var d=new Date(a);return{seconds:Math.floor(d.getTime()/1e3),nanos:n}}return{seconds:fn(a.seconds),nanos:fn(a.nanos)}}function fn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function sr(a){return"string"==typeof a?Wt.fromBase64String(a):Wt.fromUint8Array(a)}function Gn(a,n){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+n.path.R()}}function ar(a){return!!a&&"integerValue"in a}function Mn(a){return!!a&&"arrayValue"in a}function pi(a){return!!a&&"nullValue"in a}function dr(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Xn(a){return!!a&&"mapValue"in a}var sn={asc:"ASCENDING",desc:"DESCENDING"},Hs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ai=function(a,n){this.U=a,this.Qe=n};function kr(a){return{integerValue:""+a}}function Nn(a,n){if(a.Qe){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X(n)?"-0":n}}function io(a,n){return le(n)?kr(n):Nn(a,n)}function Vr(a,n){return a.Qe?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function Tr(a,n){return a.Qe?n.toBase64():n.toUint8Array()}function pr(a,n){return Vr(a,n.Z())}function On(a){return ve(!!a),Ot.J((s=wt(a),new pn(s.seconds,s.nanos)));var s}function wr(a,n){return(s=a,new L(["projects",s.projectId,"databases",s.database])).child("documents").child(n).R();var s}function Ir(a){var n=L.g(a);return ve(on(n)),n}function Mr(a,n){return wr(a.U,n.path)}function wn(a,n){var s=Ir(n);return ve(s.get(1)===a.U.projectId),ve(!s.get(3)&&!a.U.database||s.get(3)===a.U.database),new R(Vi(s))}function Do(a,n){return wr(a.U,n)}function An(a){var n=Ir(a);return 4===n.length?L.P():Vi(n)}function ki(a){return new L(["projects",a.U.projectId,"databases",a.U.database]).R()}function Vi(a){return ve(a.length>4&&"documents"===a.get(4)),a.u(5)}function Co(a,n,s){return{name:Mr(a,n),fields:s.proto.mapValue.fields}}function Si(a,n){var s,d;if(n instanceof We)s={update:Co(a,n.key,n.value)};else if(n instanceof Ht)s={delete:Mr(a,n.key)};else if(n instanceof Vt)s={update:Co(a,n.key,n.data),updateMask:wu(n.We)};else if(n instanceof qt)s={transform:{document:Mr(a,n.key),fieldTransforms:n.fieldTransforms.map(function(c){return function(d,y){var w=y.transform;if(w instanceof gr)return{fieldPath:y.field.R(),setToServerValue:"REQUEST_TIME"};if(w instanceof Er)return{fieldPath:y.field.R(),appendMissingElements:{values:w.elements}};if(w instanceof Bi)return{fieldPath:y.field.R(),removeAllFromArray:{values:w.elements}};if(w instanceof vs)return{fieldPath:y.field.R(),increment:w.je};throw we()}(0,c)})}};else{if(!(n instanceof ur))return we();s={verify:Mr(a,n.key)}}return n.Ge.Ke||(s.currentDocument=void 0!==(d=n.Ge).updateTime?{updateTime:pr(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:we()),s}function Gs(a,n){var W,s=n.currentDocument?void 0!==(W=n.currentDocument).updateTime?an.updateTime(On(W.updateTime)):void 0!==W.exists?an.exists(W.exists):an.ze():an.ze();if(n.update){var c=wn(a,n.update.name),d=new $n({mapValue:{fields:n.update.fields}});if(n.updateMask){var y=function(W){return new Nr((W.fieldPaths||[]).map(function(te){return T.S(te)}))}(n.updateMask);return new Vt(c,d,y,s)}return new We(c,d,s)}if(n.delete){var w=wn(a,n.delete);return new Ht(w,s)}if(n.transform){var D=wn(a,n.transform.document),N=n.transform.fieldTransforms.map(function(W){return function(re,te){var he=null;"setToServerValue"in te?(ve("REQUEST_TIME"===te.setToServerValue),he=new gr):"appendMissingElements"in te?he=new Er(te.appendMissingElements.values||[]):"removeAllFromArray"in te?he=new Bi(te.removeAllFromArray.values||[]):"increment"in te?he=new vs(re,te.increment):we();var dt=T.S(te.fieldPath);return new Hi(dt,he)}(a,W)});return ve(!0===s.exists),new qt(D,N)}if(n.verify){var B=wn(a,n.verify);return new ur(B,s)}return we()}function vu(a,n){return{documents:[Do(a,n.path)]}}function $s(a,n){var s={structuredQuery:{}},c=n.path;null!==n.collectionGroup?(s.parent=Do(a,c),s.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(s.parent=Do(a,c.h()),s.structuredQuery.from=[{collectionId:c._()}]);var d=function(D){if(0!==D.length){var N=D.map(function(B){return function(W){if("=="===W.op){if(dr(W.value))return{unaryFilter:{field:Ur(W.field),op:"IS_NAN"}};if(pi(W.value))return{unaryFilter:{field:Ur(W.field),op:"IS_NULL"}}}else if("!="===W.op){if(dr(W.value))return{unaryFilter:{field:Ur(W.field),op:"IS_NOT_NAN"}};if(pi(W.value))return{unaryFilter:{field:Ur(W.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(W.field),op:So(W.op),value:W.value}}}(B)});return 1===N.length?N[0]:{compositeFilter:{op:"AND",filters:N}}}}(n.filters);d&&(s.structuredQuery.where=d);var y=function(D){if(0!==D.length)return D.map(function(N){return{field:Ur((B=N).field),direction:_u(B.dir)};var B})}(n.orderBy);y&&(s.structuredQuery.orderBy=y);var N,w=(N=n.limit,a.Qe||ee(N)?N:{value:N});return null!==w&&(s.structuredQuery.limit=w),n.startAt&&(s.structuredQuery.startAt=Ui(n.startAt)),n.endAt&&(s.structuredQuery.endAt=Ui(n.endAt)),s}function Wo(a){var n=An(a.parent),s=a.structuredQuery,c=s.from?s.from.length:0,d=null;if(c>0){ve(1===c);var y=s.from[0];y.allDescendants?d=y.collectionId:n=n.child(y.collectionId)}var w=[];s.where&&(w=zs(s.where));var D=[];s.orderBy&&(D=s.orderBy.map(function(re){return new Jo(ji((te=re).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction));var te}));var re,te,N=null;s.limit&&(N=ee(te="object"==typeof(re=s.limit)?re.value:re)?null:te);var B=null;s.startAt&&(B=qs(s.startAt));var W=null;return s.endAt&&(W=qs(s.endAt)),Zr(_s(n,d,D,w,N,"F",B,W))}function zs(a){return a?void 0!==a.unaryFilter?[Ft(a)]:void 0!==a.fieldFilter?[Ao(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(n){return zs(n)}).reduce(function(n,s){return n.concat(s)}):we():[]}function Ui(a){return{before:a.before,values:a.position}}function qs(a){return new Kn(a.values||[],!!a.before)}function _u(a){return sn[a]}function So(a){return Hs[a]}function Ur(a){return{fieldPath:a.R()}}function ji(a){return T.S(a.fieldPath)}function Ao(a){return lr.create(ji(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(a.fieldFilter.op),a.fieldFilter.value)}function Ft(a){switch(a.unaryFilter.op){case"IS_NAN":var n=ji(a.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":var s=ji(a.unaryFilter.field);return lr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var c=ji(a.unaryFilter.field);return lr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var d=ji(a.unaryFilter.field);return lr.create(d,"!=",{nullValue:"NULL_VALUE"});default:return we()}}function wu(a){var n=[];return a.fields.forEach(function(s){return n.push(s.R())}),{fieldPaths:n}}function on(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}var gi=function(){this.He=void 0};function Ws(a,n,s){return a instanceof gr?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(c=s).seconds,nanos:c.nanoseconds}}}},(d=n)&&(y.fields.__previous_value__=d),{mapValue:y}):a instanceof Er?To(a,n):a instanceof Bi?Ta(a,n):function(c,d){var y=Ko(c,d),w=Wn(y)+Wn(c.je);return ar(y)&&ar(c.je)?kr(w):Nn(c.serializer,w)}(a,n);var c,d,y}function rl(a,n,s){return a instanceof Er?To(a,n):a instanceof Bi?Ta(a,n):s}function Ko(a,n){return a instanceof vs?ar(s=n)||(c=s)&&"doubleValue"in c?n:{integerValue:0}:null;var c,s}var gr=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n}(gi),Er=function(a){function n(s){var c=this;return(c=a.call(this)||this).elements=s,c}return v.__extends(n,a),n}(gi);function To(a,n){for(var s=mr(n),c=function(w){s.some(function(D){return Hn(D,w)})||s.push(w)},d=0,y=a.elements;d<y.length;d++)c(y[d]);return{arrayValue:{values:s}}}var Bi=function(a){function n(s){var c=this;return(c=a.call(this)||this).elements=s,c}return v.__extends(n,a),n}(gi);function Ta(a,n){for(var s=mr(n),c=function(w){s=s.filter(function(D){return!Hn(D,w)})},d=0,y=a.elements;d<y.length;d++)c(y[d]);return{arrayValue:{values:s}}}var vs=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).serializer=s,d.je=c,d}return v.__extends(n,a),n}(gi);function Wn(a){return fn(a.integerValue||a.doubleValue)}function mr(a){return Mn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var Nr=function(){function a(n){this.fields=n,n.sort(T.i)}return a.prototype.Ye=function(n){for(var s=0,c=this.fields;s<c.length;s++)if(c[s].T(n))return!0;return!1},a.prototype.isEqual=function(n){return pt(this.fields,n.fields,function(s,c){return s.isEqual(c)})},a}(),Hi=function(a,n){this.field=a,this.transform=n},Ia=function(a,n){this.version=a,this.transformResults=n},an=function(){function a(n,s){this.updateTime=n,this.exists=s}return a.ze=function(){return new a},a.exists=function(n){return new a(void 0,n)},a.updateTime=function(n){return new a(n)},Object.defineProperty(a.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},a}();function I(a,n){return void 0!==a.updateTime?n instanceof Zt&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n instanceof Zt}var j=function(){};function M(a,n,s){return a instanceof We?new Zt((c=a).key,s.version,c.value,{hasCommittedMutations:!0}):a instanceof Vt?function(c,d,y){if(!I(c.Ge,d))return new br(c.key,y.version);var w=Nt(c,d);return new Zt(c.key,y.version,w,{hasCommittedMutations:!0})}(a,n,s):a instanceof qt?function(c,d,y){if(ve(null!=y.transformResults),!I(c.Ge,d))return new br(c.key,y.version);var w=Qt(0,d),D=function(W,re,te){var he=[];ve(W.length===te.length);for(var Se=0;Se<te.length;Se++){var ke=W[Se],dt=ke.transform,ft=null;re instanceof Zt&&(ft=re.field(ke.field)),he.push(rl(dt,ft,te[Se]))}return he}(c.fieldTransforms,d,y.transformResults),N=y.version,B=jn(c,w.data(),D);return new Zt(c.key,N,B,{hasCommittedMutations:!0})}(a,n,s):function(c,d,y){return new Pn(c.key,y.version,{hasCommittedMutations:!0})}(a,0,s);var c}function $(a,n,s,c){return a instanceof We?function(d,y){if(!I(d.Ge,y))return y;var w=xe(y);return new Zt(d.key,w,d.value,{Je:!0})}(a,n):a instanceof Vt?function(d,y){if(!I(d.Ge,y))return y;var w=xe(y),D=Nt(d,y);return new Zt(d.key,w,D,{Je:!0})}(a,n):a instanceof qt?function(d,y,w,D){if(!I(d.Ge,y))return y;var N=Qt(0,y),B=function(re,te,he,Se){for(var ke=[],dt=0,ft=re;dt<ft.length;dt++){var Ct=ft[dt],kt=Ct.transform,tn=null;he instanceof Zt&&(tn=he.field(Ct.field)),null===tn&&Se instanceof Zt&&(tn=Se.field(Ct.field)),ke.push(Ws(kt,tn,te))}return ke}(d.fieldTransforms,w,y,D),W=jn(d,N.data(),B);return new Zt(d.key,N.version,W,{Je:!0})}(a,n,c,s):I((d=a).Ge,y=n)?new Pn(d.key,Ot.min()):y;var d,y}function se(a,n){return a instanceof qt?function(s,c){for(var d=null,y=0,w=s.fieldTransforms;y<w.length;y++){var D=w[y],N=c instanceof Zt?c.field(D.field):void 0,B=Ko(D.transform,N||null);null!=B&&(d=null==d?(new zn).set(D.field,B):d.set(D.field,B))}return d?d.Xe():null}(a,n):null}function Ne(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.Ge.isEqual(n.Ge)&&(0===a.type?a.value.isEqual(n.value):1===a.type?a.data.isEqual(n.data)&&a.We.isEqual(n.We):2!==a.type||pt(a.fieldTransforms,a.fieldTransforms,function(s,c){return(d=s).field.isEqual((y=c).field)&&(D=y.transform,(w=d.transform)instanceof Er&&D instanceof Er||w instanceof Bi&&D instanceof Bi?pt(w.elements,D.elements,Hn):w instanceof vs&&D instanceof vs?Hn(w.je,D.je):w instanceof gr&&D instanceof gr);var d,y,w,D}))}function xe(a){return a instanceof Zt?a.version:Ot.min()}var We=function(a){function n(s,c,d){var y=this;return(y=a.call(this)||this).key=s,y.value=c,y.Ge=d,y.type=0,y}return v.__extends(n,a),n}(j),Vt=function(a){function n(s,c,d,y){var w=this;return(w=a.call(this)||this).key=s,w.data=c,w.We=d,w.Ge=y,w.type=1,w}return v.__extends(n,a),n}(j);function Nt(a,n){return s=a,c=n instanceof Zt?n.data():$n.empty(),d=new zn(c),s.We.fields.forEach(function(y){if(!y.m()){var w=s.data.field(y);null!==w?d.set(y,w):d.delete(y)}}),d.Xe();var s,c,d}var qt=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).key=s,d.fieldTransforms=c,d.type=2,d.Ge=an.exists(!0),d}return v.__extends(n,a),n}(j);function Qt(a,n){return n}function jn(a,n,s){for(var c=new zn(n),d=0;d<a.fieldTransforms.length;d++)c.set(a.fieldTransforms[d].field,s[d]);return c.Xe()}var Ht=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).key=s,d.Ge=c,d.type=3,d}return v.__extends(n,a),n}(j),ur=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).key=s,d.Ge=c,d.type=4,d}return v.__extends(n,a),n}(j),$n=function(){function a(n){this.proto=n}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(n){if(n.m())return this.proto;for(var s=this.proto,c=0;c<n.length-1;++c)if(!s.mapValue.fields||!Xn(s=s.mapValue.fields[n.get(c)]))return null;return(s=(s.mapValue.fields||{})[n._()])||null},a.prototype.isEqual=function(n){return Hn(this.proto,n.proto)},a}(),zn=function(){function a(n){void 0===n&&(n=$n.empty()),this.Ze=n,this.tn=new Map}return a.prototype.set=function(n,s){return this.en(n,s),this},a.prototype.delete=function(n){return this.en(n,null),this},a.prototype.en=function(n,s){for(var c=this.tn,d=0;d<n.length-1;++d){var y=n.get(d),w=c.get(y);w instanceof Map?c=w:w&&10===In(w)?(w=new Map(Object.entries(w.mapValue.fields||{})),c.set(y,w),c=w):(w=new Map,c.set(y,w),c=w)}c.set(n._(),s)},a.prototype.Xe=function(){var n=this.nn(T.P(),this.tn);return null!=n?new $n(n):this.Ze},a.prototype.nn=function(n,s){var c=this,d=!1,y=this.Ze.field(n),w=Xn(y)?Object.assign({},y.mapValue.fields):{};return s.forEach(function(D,N){if(D instanceof Map){var B=c.nn(n.child(N),D);null!=B&&(w[N]=B,d=!0)}else null!==D?(w[N]=D,d=!0):w.hasOwnProperty(N)&&(delete w[N],d=!0)}),d?{mapValue:{fields:w}}:null},a}();function Kt(a){var n=[];return Je(a.fields||{},function(s,c){var d=new T([s]);if(Xn(c)){var y=Kt(c.mapValue).fields;if(0===y.length)n.push(d);else for(var w=0,D=y;w<D.length;w++)n.push(d.child(D[w]))}else n.push(d)}),new Nr(n)}var Qr=function(a,n){this.key=a,this.version=n},Zt=function(a){function n(s,c,d,y){var w=this;return(w=a.call(this,s,c)||this).sn=d,w.Je=!!y.Je,w.hasCommittedMutations=!!y.hasCommittedMutations,w}return v.__extends(n,a),n.prototype.field=function(s){return this.sn.field(s)},n.prototype.data=function(){return this.sn},n.prototype.rn=function(){return this.sn.proto},n.prototype.isEqual=function(s){return s instanceof n&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.Je===s.Je&&this.hasCommittedMutations===s.hasCommittedMutations&&this.sn.isEqual(s.sn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}(Qr),Pn=function(a){function n(s,c,d){var y=this;return(y=a.call(this,s,c)||this).hasCommittedMutations=!(!d||!d.hasCommittedMutations),y}return v.__extends(n,a),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(s){return s instanceof n&&s.hasCommittedMutations===this.hasCommittedMutations&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},n}(Qr),br=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(s){return s instanceof n&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},n}(Qr),Ai=function(a,n,s,c,d,y,w,D){void 0===n&&(n=null),void 0===s&&(s=[]),void 0===c&&(c=[]),void 0===d&&(d=null),void 0===y&&(y="F"),void 0===w&&(w=null),void 0===D&&(D=null),this.path=a,this.collectionGroup=n,this.on=s,this.filters=c,this.limit=d,this.an=y,this.startAt=w,this.endAt=D,this.cn=null,this.un=null};function _s(a,n,s,c,d,y,w,D){return new Ai(a,n,s,c,d,y,w,D)}function Dt(a){return new Ai(a)}function Ma(a){return!ee(a.limit)&&"F"===a.an}function Yo(a){return!ee(a.limit)&&"L"===a.an}function Qo(a){return a.on.length>0?a.on[0].field:null}function Gi(a){for(var n=0,s=a.filters;n<s.length;n++){var c=s[n];if(c.hn())return c.field}return null}function Na(a){return null!==a.collectionGroup}function Io(a){var n=me(a);if(null===n.cn){n.cn=[];var s=Gi(n),c=Qo(n);if(null!==s&&null===c)s.p()||n.cn.push(new Jo(s)),n.cn.push(new Jo(T.v(),"asc"));else{for(var d=!1,y=0,w=n.on;y<w.length;y++){var D=w[y];n.cn.push(D),D.field.p()&&(d=!0)}if(!d){var N=n.on.length>0?n.on[n.on.length-1].dir:"asc";n.cn.push(new Jo(T.v(),N))}}}return n.cn}function Zr(a){var n=me(a);if(!n.un)if("F"===n.an)n.un=pe(n.path,n.collectionGroup,Io(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var s=[],c=0,d=Io(n);c<d.length;c++){var y=d[c];s.push(new Jo(y.field,"desc"===y.dir?"asc":"desc"))}var D=n.endAt?new Kn(n.endAt.position,!n.endAt.before):null,N=n.startAt?new Kn(n.startAt.position,!n.startAt.before):null;n.un=pe(n.path,n.collectionGroup,s,n.filters,n.limit,D,N)}return n.un}function $e(a,n,s){return new Ai(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),n,s,a.startAt,a.endAt)}function Yt(a,n){return new Ai(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,n,a.endAt)}function Zo(a,n){return new Ai(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,a.startAt,n)}function bn(a,n){return Et(Zr(a),Zr(n))&&a.an===n.an}function ui(a){return ct(Zr(a))+"|lt:"+a.an}function jr(a){return"Query(target="+(s=(n=Zr(a)).path.R(),null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=", filters: ["+n.filters.map(function(c){return(d=c).field.R()+" "+d.op+" "+Li(d.value);var d}).join(", ")+"]"),ee(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=", orderBy: ["+n.orderBy.map(function(c){return(d=c).field.R()+" ("+d.dir+")";var d}).join(", ")+"]"),n.startAt&&(s+=", startAt: "+Ks(n.startAt)),n.endAt&&(s+=", endAt: "+Ks(n.endAt)),"Target("+s+"); limitType=")+a.an+")";var n,s}function Br(a,n){return d=(c=n).key.path,(null!==(s=a).collectionGroup?c.key.N(s.collectionGroup)&&s.path.T(d):R.F(s.path)?s.path.isEqual(d):s.path.I(d))&&function(s,c){for(var d=0,y=s.on;d<y.length;d++){var w=y[d];if(!w.field.p()&&null===c.field(w.field))return!1}return!0}(a,n)&&function(s,c){for(var d=0,y=s.filters;d<y.length;d++)if(!y[d].matches(c))return!1;return!0}(a,n)&&function(s,c){return!(s.startAt&&!Mo(s.startAt,Io(s),c)||s.endAt&&Mo(s.endAt,Io(s),c))}(a,n);var s,c,d}function ws(a){return function(n,s){for(var c=!1,d=0,y=Io(a);d<y.length;d++){var w=y[d],D=Ds(w,n,s);if(0!==D)return D;c=c||w.field.p()}return 0}}var lr=function(a){function n(s,c,d){var y=this;return(y=a.call(this)||this).field=s,y.op=c,y.value=d,y}return v.__extends(n,a),n.create=function(s,c,d){if(s.p())return"in"===c||"not-in"===c?this.ln(s,c,d):new Es(s,c,d);if(pi(d)){if("=="!==c&&"!="!==c)throw new Y(q.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new n(s,c,d)}if(dr(d)){if("=="!==c&&"!="!==c)throw new Y(q.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new n(s,c,d)}return"array-contains"===c?new Dr(s,d):"in"===c?new Jr(s,d):"not-in"===c?new Oa(s,d):"array-contains-any"===c?new oo(s,d):new n(s,c,d)},n.ln=function(s,c,d){return"in"===c?new Eu(s,d):new bs(s,d)},n.prototype.matches=function(s){var c=s.field(this.field);return"!="===this.op?null!==c&&this._n(_r(c,this.value)):null!==c&&In(this.value)===In(c)&&this._n(_r(c,this.value))},n.prototype._n=function(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return we()}},n.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),Es=function(a){function n(s,c,d){var y=this;return(y=a.call(this,s,c,d)||this).key=R.C(d.referenceValue),y}return v.__extends(n,a),n.prototype.matches=function(s){var c=R.i(s.key,this.key);return this._n(c)},n}(lr),Eu=function(a){function n(s,c){var d=this;return(d=a.call(this,s,"in",c)||this).keys=$i(0,c),d}return v.__extends(n,a),n.prototype.matches=function(s){return this.keys.some(function(c){return c.isEqual(s.key)})},n}(lr),bs=function(a){function n(s,c){var d=this;return(d=a.call(this,s,"not-in",c)||this).keys=$i(0,c),d}return v.__extends(n,a),n.prototype.matches=function(s){return!this.keys.some(function(c){return c.isEqual(s.key)})},n}(lr);function $i(a,n){var s;return((null===(s=n.arrayValue)||void 0===s?void 0:s.values)||[]).map(function(c){return R.C(c.referenceValue)})}var Dr=function(a){function n(s,c){return a.call(this,s,"array-contains",c)||this}return v.__extends(n,a),n.prototype.matches=function(s){var c=s.field(this.field);return Mn(c)&&cn(c.arrayValue,this.value)},n}(lr),Jr=function(a){function n(s,c){return a.call(this,s,"in",c)||this}return v.__extends(n,a),n.prototype.matches=function(s){var c=s.field(this.field);return null!==c&&cn(this.value.arrayValue,c)},n}(lr),Oa=function(a){function n(s,c){return a.call(this,s,"not-in",c)||this}return v.__extends(n,a),n.prototype.matches=function(s){if(cn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var c=s.field(this.field);return null!==c&&!cn(this.value.arrayValue,c)},n}(lr),oo=function(a){function n(s,c){return a.call(this,s,"array-contains-any",c)||this}return v.__extends(n,a),n.prototype.matches=function(s){var c=this,d=s.field(this.field);return!(!Mn(d)||!d.arrayValue.values)&&d.arrayValue.values.some(function(y){return cn(c.value.arrayValue,y)})},n}(lr),Kn=function(a,n){this.position=a,this.before=n};function Ks(a){return(a.before?"b":"a")+":"+a.position.map(function(n){return Li(n)}).join(",")}function Mo(a,n,s){for(var c=0,d=0;d<a.position.length;d++){var y=n[d],w=a.position[d];if(c=y.field.p()?R.i(R.C(w.referenceValue),s.key):_r(w,s.field(y.field)),"desc"===y.dir&&(c*=-1),0!==c)break}return a.before?c<=0:c<0}function bu(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(var s=0;s<a.position.length;s++)if(!Hn(a.position[s],n.position[s]))return!1;return!0}var Jo=function(a,n){void 0===n&&(n="asc"),this.field=a,this.dir=n};function Ds(a,n,s){var d,w,D,N,c=a.field.p()?R.i(n.key,s.key):(w=s,D=n.field(d=a.field),N=w.field(d),null!==D&&null!==N?_r(D,N):we());switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return we()}}function Cr(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}var cr=function(){var a=this;this.promise=new Promise(function(n,s){a.resolve=n,a.reject=s})},No=function(){function a(n,s,c,d,y){void 0===c&&(c=1e3),void 0===d&&(d=1.5),void 0===y&&(y=6e4),this.fn=n,this.dn=s,this.wn=c,this.mn=d,this.Tn=y,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return a.prototype.reset=function(){this.En=0},a.prototype.Rn=function(){this.En=this.Tn},a.prototype.gn=function(n){var s=this;this.cancel();var c=Math.floor(this.En+this.Pn()),d=Math.max(0,Date.now()-this.An),y=Math.max(0,c-d);y>0&&ie("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.En+" ms, delay with jitter: "+c+" ms, last attempt: "+d+" ms ago)"),this.In=this.fn.yn(this.dn,y,function(){return s.An=Date.now(),n()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},a.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},a.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},a.prototype.Pn=function(){return(Math.random()-.5)*this.En},a}(),Ye=function(){function a(n){var s=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,n(function(c){s.Sn=!0,s.result=c,s.bn&&s.bn(c)},function(c){s.Sn=!0,s.error=c,s.vn&&s.vn(c)})}return a.prototype.catch=function(n){return this.next(void 0,n)},a.prototype.next=function(n,s){var c=this;return this.Dn&&we(),this.Dn=!0,this.Sn?this.error?this.Cn(s,this.error):this.Nn(n,this.result):new a(function(d,y){c.bn=function(w){c.Nn(n,w).next(d,y)},c.vn=function(w){c.Cn(s,w).next(d,y)}})},a.prototype.Fn=function(){var n=this;return new Promise(function(s,c){n.next(s,c)})},a.prototype.xn=function(n){try{var s=n();return s instanceof a?s:a.resolve(s)}catch(c){return a.reject(c)}},a.prototype.Nn=function(n,s){return n?this.xn(function(){return n(s)}):a.resolve(s)},a.prototype.Cn=function(n,s){return n?this.xn(function(){return n(s)}):a.reject(s)},a.resolve=function(n){return new a(function(s,c){s(n)})},a.reject=function(n){return new a(function(s,c){c(n)})},a.$n=function(n){return new a(function(s,c){var d=0,y=0,w=!1;n.forEach(function(D){++d,D.next(function(){++y,w&&y===d&&s()},function(N){return c(N)})}),w=!0,y===d&&s()})},a.kn=function(n){for(var s=a.resolve(!1),c=function(w){s=s.next(function(D){return D?a.resolve(D):w()})},d=0,y=n;d<y.length;d++)c(y[d]);return s},a.forEach=function(n,s){var c=this,d=[];return n.forEach(function(y,w){d.push(s.call(c,y,w))}),this.$n(d)},a}(),so=function(){function a(n,s,c){this.name=n,this.version=s,this.Mn=c,12.2===a.On(ae.getUA())&&Oe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(n){return ie("SimpleDb","Removing database:",n),Ti(window.indexedDB.deleteDatabase(n)).Fn()},a.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(a.Bn())return!0;var n=ae.getUA(),s=a.On(n),c=0<s&&s<10,d=a.qn(n),y=0<d&&d<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||c||y)},a.Bn=function(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Un)},a.Qn=function(n,s){return n.store(s)},a.On=function(n){var s=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(c)},a.qn=function(n){var s=n.match(/Android ([\d.]+)/i),c=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(c)},a.prototype.Wn=function(n){return v.__awaiter(this,void 0,void 0,function(){var s,c=this;return v.__generator(this,function(d){switch(d.label){case 0:return this.db?[3,2]:(ie("SimpleDb","Opening database:",this.name),s=this,[4,new Promise(function(y,w){var D=indexedDB.open(c.name,c.version);D.onsuccess=function(N){y(N.target.result)},D.onblocked=function(){w(new ao(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},D.onerror=function(N){var B=N.target.error;w("VersionError"===B.name?new Y(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ao(n,B))},D.onupgradeneeded=function(N){ie("SimpleDb",'Database "'+c.name+'" requires upgrade from version:',N.oldVersion),c.Mn.createOrUpgrade(N.target.result,D.transaction,N.oldVersion,c.version).next(function(){ie("SimpleDb","Database upgrade to version "+c.version+" complete")})}})]);case 1:s.db=d.sent(),d.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(y){return c.jn(y)}),this.db)]}})})},a.prototype.Kn=function(n){this.jn=n,this.db&&(this.db.onversionchange=function(s){return n(s)})},a.prototype.runTransaction=function(n,s,c,d){return v.__awaiter(this,void 0,void 0,function(){var y,w,D,N,B;return v.__generator(this,function(W){switch(W.label){case 0:y="readonly"===s,w=0,D=function(){var re,te,he,Se,ke;return v.__generator(this,function(dt){switch(dt.label){case 0:++w,dt.label=1;case 1:return dt.trys.push([1,4,,5]),[4,N.Wn(n)];case 2:return N.db=dt.sent(),re=Pa.open(N.db,n,y?"readonly":"readwrite",c),te=d(re).catch(function(ft){return re.abort(ft),Ye.reject(ft)}).Fn(),he={},te.catch(function(){}),[4,re.Gn];case 3:return[2,(he.value=(dt.sent(),te),he)];case 4:return ie("SimpleDb","Transaction failed with error:",(Se=dt.sent()).message,"Retrying:",ke="FirebaseError"!==Se.name&&w<3),N.close(),ke?[3,5]:[2,{value:Promise.reject(Se)}];case 5:return[2]}})},N=this,W.label=1;case 1:return[5,D()];case 2:if("object"==typeof(B=W.sent()))return[2,B.value];W.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),Ys=function(){function a(n){this.zn=n,this.Hn=!1,this.Yn=null}return Object.defineProperty(a.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(n){this.zn=n},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Hn=!0},a.prototype.Xn=function(n){this.Yn=n},a.prototype.delete=function(){return Ti(this.zn.delete())},a}(),ao=function(a){function n(s,c){var d=this;return(d=a.call(this,q.UNAVAILABLE,"IndexedDB transaction '"+s+"' failed: "+c)||this).name="IndexedDbTransactionError",d}return v.__extends(n,a),n}(Y);function uo(a){return"IndexedDbTransactionError"===a.name}var Pa=function(){function a(n,s){var c=this;this.action=n,this.transaction=s,this.aborted=!1,this.Zn=new cr,this.transaction.oncomplete=function(){c.Zn.resolve()},this.transaction.onabort=function(){s.error?c.Zn.reject(new ao(n,s.error)):c.Zn.resolve()},this.transaction.onerror=function(d){var y=C(d.target.error);c.Zn.reject(new ao(n,y))}}return a.open=function(n,s,c,d){try{return new a(s,n.transaction(d,c))}catch(y){throw new ao(s,y)}},Object.defineProperty(a.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(n){n&&this.Zn.reject(n),this.aborted||(ie("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(n){var s=this.transaction.objectStore(n);return new il(s)},a}(),il=function(){function a(n){this.store=n}return a.prototype.put=function(n,s){var c;return void 0!==s?(ie("SimpleDb","PUT",this.store.name,n,s),c=this.store.put(s,n)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",n),c=this.store.put(n)),Ti(c)},a.prototype.add=function(n){return ie("SimpleDb","ADD",this.store.name,n,n),Ti(this.store.add(n))},a.prototype.get=function(n){var s=this;return Ti(this.store.get(n)).next(function(c){return void 0===c&&(c=null),ie("SimpleDb","GET",s.store.name,n,c),c})},a.prototype.delete=function(n){return ie("SimpleDb","DELETE",this.store.name,n),Ti(this.store.delete(n))},a.prototype.count=function(){return ie("SimpleDb","COUNT",this.store.name),Ti(this.store.count())},a.prototype.ts=function(n,s){var c=this.cursor(this.options(n,s)),d=[];return this.es(c,function(y,w){d.push(w)}).next(function(){return d})},a.prototype.ns=function(n,s){ie("SimpleDb","DELETE ALL",this.store.name);var c=this.options(n,s);c.ss=!1;var d=this.cursor(c);return this.es(d,function(y,w,D){return D.delete()})},a.prototype.rs=function(n,s){var c;s?c=n:(c={},s=n);var d=this.cursor(c);return this.es(d,s)},a.prototype.os=function(n){var s=this.cursor({});return new Ye(function(c,d){s.onerror=function(y){var w=C(y.target.error);d(w)},s.onsuccess=function(y){var w=y.target.result;w?n(w.primaryKey,w.value).next(function(D){D?w.continue():c()}):c()}})},a.prototype.es=function(n,s){var c=[];return new Ye(function(d,y){n.onerror=function(w){y(w.target.error)},n.onsuccess=function(w){var D=w.target.result;if(D){var N=new Ys(D),B=s(D.primaryKey,D.value,N);if(B instanceof Ye){var W=B.catch(function(re){return N.done(),Ye.reject(re)});c.push(W)}N.Sn?d():null===N.Jn?D.continue():D.continue(N.Jn)}else d()}}).next(function(){return Ye.$n(c)})},a.prototype.options=function(n,s){var c=void 0;return void 0!==n&&("string"==typeof n?c=n:s=n),{index:c,range:s}},a.prototype.cursor=function(n){var s="next";if(n.reverse&&(s="prev"),n.index){var c=this.store.index(n.index);return n.ss?c.openKeyCursor(n.range,s):c.openCursor(n.range,s)}return this.store.openCursor(n.range,s)},a}();function Ti(a){return new Ye(function(n,s){a.onsuccess=function(c){n(c.target.result)},a.onerror=function(c){var d=C(c.target.error);s(d)}})}var m=!1;function C(a){var n=so.On(ae.getUA());if(n>=12.2&&n<13){var s="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(s)>=0){var c=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+s+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return m||(m=!0,setTimeout(function(){throw c},0)),c}}return a}function O(){return"undefined"!=typeof window?window:null}function z(){return"undefined"!=typeof document?document:null}var ne=function(){function a(n,s,c,d,y){this.cs=n,this.dn=s,this.us=c,this.op=d,this.hs=y,this.ls=new cr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(w){})}return a._s=function(n,s,c,d,y){var w=new a(n,s,Date.now()+c,d,y);return w.start(c),w},a.prototype.start=function(n){var s=this;this.fs=setTimeout(function(){return s.ds()},n)},a.prototype.pn=function(){return this.ds()},a.prototype.cancel=function(n){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Y(q.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},a.prototype.ds=function(){var n=this;this.cs.ws(function(){return null!==n.fs?(n.clearTimeout(),n.op().then(function(s){return n.ls.resolve(s)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},a}(),De=function(){function a(){var n=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new No(this,"async_queue_retry"),this.Vs=function(){var c=z();c&&ie("AsyncQueue","Visibility state changed to  ",c.visibilityState),n.ys.Vn()};var s=z();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(a.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),a.prototype.ws=function(n){this.enqueue(n)},a.prototype.bs=function(n){this.vs(),this.Ss(n)},a.prototype.Ds=function(){if(!this.Is){this.Is=!0;var n=z();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vs)}},a.prototype.enqueue=function(n){return this.vs(),this.Is?new Promise(function(s){}):this.Ss(n)},a.prototype.Cs=function(n){var s=this;this.ws(function(){return s.Es.push(n),s.Ns()})},a.prototype.Ns=function(){return v.__awaiter(this,void 0,void 0,function(){var n,s=this;return v.__generator(this,function(c){switch(c.label){case 0:if(0===this.Es.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return c.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!uo(n=c.sent()))throw n;return ie("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return s.Ns()}),c.label=5;case 5:return[2]}})})},a.prototype.Ss=function(n){var s=this,c=this.Ts.then(function(){return s.gs=!0,n().catch(function(d){throw s.Rs=d,s.gs=!1,Oe("INTERNAL UNHANDLED ERROR: ",(w=(y=d).message||"",y.stack&&(w=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),w)),d;var y,w}).then(function(d){return s.gs=!1,d})});return this.Ts=c,c},a.prototype.yn=function(n,s,c){var d=this;this.vs(),this.Ps.indexOf(n)>-1&&(s=0);var y=ne._s(this,n,s,c,function(w){return d.Fs(w)});return this.As.push(y),y},a.prototype.vs=function(){this.Rs&&we()},a.prototype.xs=function(){},a.prototype.$s=function(){return v.__awaiter(this,void 0,void 0,function(){var n;return v.__generator(this,function(s){switch(s.label){case 0:return[4,n=this.Ts];case 1:s.sent(),s.label=2;case 2:if(n!==this.Ts)return[3,0];s.label=3;case 3:return[2]}})})},a.prototype.ks=function(n){for(var s=0,c=this.As;s<c.length;s++)if(c[s].dn===n)return!0;return!1},a.prototype.Ms=function(n){var s=this;return this.$s().then(function(){s.As.sort(function(w,D){return w.us-D.us});for(var c=0,d=s.As;c<d.length;c++){var y=d[c];if(y.pn(),"all"!==n&&y.dn===n)break}return s.$s()})},a.prototype.Os=function(n){this.Ps.push(n)},a.prototype.Fs=function(n){var s=this.As.indexOf(n);this.As.splice(s,1)},a}();function st(a,n){if(Oe("AsyncQueue",n+": "+a),uo(a))return new Y(q.UNAVAILABLE,n+": "+a);throw a}var en=function(){this.Ls=void 0,this.listeners=[]},Jt=function(){this.Bs=new En(function(a){return ui(a)},bn),this.onlineState="Unknown",this.qs=new Set};function er(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d,y,w,D,N;return v.__generator(this,function(B){switch(B.label){case 0:if(s=me(a),d=!1,(y=s.Bs.get(c=n.query))||(d=!0,y=new en),!d)return[3,4];B.label=1;case 1:return B.trys.push([1,3,,4]),w=y,[4,s.Us(c)];case 2:return w.Ls=B.sent(),[3,4];case 3:return D=B.sent(),N=st(D,"Initialization of query '"+jr(n.query)+"' failed"),[2,void n.onError(N)];case 4:return s.Bs.set(c,y),y.listeners.push(n),n.Qs(s.onlineState),y.Ls&&n.Ws(y.Ls)&&lo(s),[2]}})})}function tr(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d,y,w;return v.__generator(this,function(D){return s=me(a),d=!1,(y=s.Bs.get(c=n.query))&&(w=y.listeners.indexOf(n))>=0&&(y.listeners.splice(w,1),d=0===y.listeners.length),d?[2,(s.Bs.delete(c),s.js(c))]:[2]})})}function Hr(a,n){for(var s=me(a),c=!1,d=0,y=n;d<y.length;d++){var w=y[d],N=s.Bs.get(w.query);if(N){for(var B=0,W=N.listeners;B<W.length;B++)W[B].Ws(w)&&(c=!0);N.Ls=w}}c&&lo(s)}function mi(a,n,s){var c=me(a),d=c.Bs.get(n);if(d)for(var y=0,w=d.listeners;y<w.length;y++)w[y].onError(s);c.Bs.delete(n)}function lo(a){a.qs.forEach(function(n){n.next()})}var Oo=function(){function a(n,s,c){this.query=n,this.Ks=s,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=c||{}}return a.prototype.Ws=function(n){if(!this.options.includeMetadataChanges){for(var s=[],c=0,d=n.docChanges;c<d.length;c++){var y=d[c];3!==y.type&&s.push(y)}n=new bi(n.query,n.docs,n.Qt,s,n.Wt,n.fromCache,n.jt,!0)}var w=!1;return this.Gs?this.Hs(n)&&(this.Ks.next(n),w=!0):this.Ys(n,this.onlineState)&&(this.Js(n),w=!0),this.zs=n,w},a.prototype.onError=function(n){this.Ks.error(n)},a.prototype.Qs=function(n){this.onlineState=n;var s=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,n)&&(this.Js(this.zs),s=!0),s},a.prototype.Ys=function(n,s){return!n.fromCache||!(this.options.Xs&&"Offline"!==s||n.docs.m()&&"Offline"!==s)},a.prototype.Hs=function(n){return n.docChanges.length>0||!!(n.jt||this.zs&&this.zs.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.Js=function(n){n=bi.Gt(n.query,n.docs,n.Wt,n.fromCache),this.Gs=!0,this.Ks.next(n)},a}(),Xr=function(){function a(n){this.uid=n}return a.prototype.Zs=function(){return null!=this.uid},a.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(n){return n.uid===this.uid},a}();Xr.UNAUTHENTICATED=new Xr(null),Xr.ei=new Xr("google-credentials-uid"),Xr.ni=new Xr("first-party-uid");var ei=function(){function a(n,s){var c=this;this.previousValue=n,s&&(s.si=function(d){return c.ii(d)},this.ri=function(d){return s.oi(d)})}return a.prototype.ii=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},a.prototype.next=function(){var n=++this.previousValue;return this.ri&&this.ri(n),n},a}();function Ii(a,n){return"firestore_clients_"+a+"_"+n}function Po(a,n,s){var c="firestore_mutations_"+a+"_"+s;return n.Zs()&&(c+="_"+n.uid),c}function Wl(a,n){return"firestore_targets_"+a+"_"+n}ei.ai=-1;var Ra=function(){function a(n,s,c,d){this.user=n,this.batchId=s,this.state=c,this.error=d}return a.ci=function(n,s,c){var d=JSON.parse(c),y="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error),w=void 0;return y&&d.error&&(y="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(w=new Y(d.error.code,d.error.message)),y?new a(n,s,d.state,w):(Oe("SharedClientState","Failed to parse mutation state for ID '"+s+"': "+c),null)},a.prototype.ui=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},a}(),Cs=function(){function a(n,s,c){this.targetId=n,this.state=s,this.error=c}return a.ci=function(n,s){var c=JSON.parse(s),d="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error),y=void 0;return d&&c.error&&(d="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(y=new Y(c.error.code,c.error.message)),d?new a(n,c.state,y):(Oe("SharedClientState","Failed to parse target state for ID '"+n+"': "+s),null)},a.prototype.ui=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},a}(),ol=function(){function a(n,s){this.clientId=n,this.activeTargetIds=s}return a.ci=function(n,s){for(var c=JSON.parse(s),d="object"==typeof c&&c.activeTargetIds instanceof Array,y=Fr(),w=0;d&&w<c.activeTargetIds.length;++w)d=le(c.activeTargetIds[w]),y=y.add(c.activeTargetIds[w]);return d?new a(n,y):(Oe("SharedClientState","Failed to parse client data for instance '"+n+"': "+s),null)},a}(),Wc=function(){function a(n,s){this.clientId=n,this.onlineState=s}return a.ci=function(n){var s=JSON.parse(n);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new a(s.clientId,s.onlineState):(Oe("SharedClientState","Failed to parse online state: "+n),null)},a}(),sl=function(){function a(){this.activeTargetIds=Fr()}return a.prototype.hi=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},a.prototype.li=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},a.prototype.ui=function(){var n={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(n)},a}(),Kc=function(){function a(n,s,c,d,y){this.window=n,this.fn=s,this.persistenceKey=c,this._i=d,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Qn(it),this.Ei=!1,this.Ii=[];var w=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ai=Ii(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new sl),this.gi=new RegExp("^firestore_clients_"+w+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+w+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+w+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return a.Ln=function(n){return!(!n||!n.localStorage)},a.prototype.start=function(){return v.__awaiter(this,void 0,void 0,function(){var n,s,c,d,y,w,D,N,B,W,te=this;return v.__generator(this,function(he){switch(he.label){case 0:return[4,this.fi.pi()];case 1:for(n=he.sent(),s=0,c=n;s<c.length;s++)(d=c[s])!==this._i&&(y=this.getItem(Ii(this.persistenceKey,d)))&&(w=ol.ci(d,y))&&(this.Ti=this.Ti.ot(w.clientId,w));for(this.bi(),(D=this.storage.getItem(this.Vi))&&(N=this.vi(D))&&this.Si(N),B=0,W=this.Ii;B<W.length;B++)this.mi(W[B]);return this.Ii=[],this.window.addEventListener("unload",function(){return te.Di()}),this.Ei=!0,[2]}})})},a.prototype.oi=function(n){this.setItem(this.Ri,JSON.stringify(n))},a.prototype.Ci=function(){return this.Ni(this.Ti)},a.prototype.Fi=function(n){var s=!1;return this.Ti.forEach(function(c,d){d.activeTargetIds.has(n)&&(s=!0)}),s},a.prototype.xi=function(n){this.$i(n,"pending")},a.prototype.ki=function(n,s,c){this.$i(n,s,c),this.Mi(n)},a.prototype.Oi=function(n){var s="not-current";if(this.Fi(n)){var c=this.storage.getItem(Wl(this.persistenceKey,n));if(c){var d=Cs.ci(n,c);d&&(s=d.state)}}return this.Li.hi(n),this.bi(),s},a.prototype.Bi=function(n){this.Li.li(n),this.bi()},a.prototype.qi=function(n){return this.Li.activeTargetIds.has(n)},a.prototype.Ui=function(n){this.removeItem(Wl(this.persistenceKey,n))},a.prototype.Qi=function(n,s,c){this.Wi(n,s,c)},a.prototype.ji=function(n,s,c){var d=this;s.forEach(function(y){d.Mi(y)}),this.currentUser=n,c.forEach(function(y){d.xi(y)})},a.prototype.Ki=function(n){this.Gi(n)},a.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},a.prototype.getItem=function(n){var s=this.storage.getItem(n);return ie("SharedClientState","READ",n,s),s},a.prototype.setItem=function(n,s){ie("SharedClientState","SET",n,s),this.storage.setItem(n,s)},a.prototype.removeItem=function(n){ie("SharedClientState","REMOVE",n),this.storage.removeItem(n)},a.prototype.mi=function(n){var s=this,c=n;if(c.storageArea===this.storage){if(ie("SharedClientState","EVENT",c.key,c.newValue),c.key===this.Ai)return void Oe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return v.__awaiter(s,void 0,void 0,function(){var d,y,w,D,N,B;return v.__generator(this,function(W){if(this.Ei){if(null!==c.key)if(this.gi.test(c.key)){if(null==c.newValue)return d=this.zi(c.key),[2,this.Hi(d,null)];if(y=this.Yi(c.key,c.newValue))return[2,this.Hi(y.clientId,y)]}else if(this.Pi.test(c.key)){if(null!==c.newValue&&(w=this.Ji(c.key,c.newValue)))return[2,this.Xi(w)]}else if(this.yi.test(c.key)){if(null!==c.newValue&&(D=this.Zi(c.key,c.newValue)))return[2,this.tr(D)]}else if(c.key===this.Vi){if(null!==c.newValue&&(N=this.vi(c.newValue)))return[2,this.Si(N)]}else c.key===this.Ri&&(B=function(re){var te=ei.ai;if(null!=re)try{var he=JSON.parse(re);ve("number"==typeof he),te=he}catch(Se){Oe("SharedClientState","Failed to read sequence number from WebStorage",Se)}return te}(c.newValue))!==ei.ai&&this.si(B)}else this.Ii.push(c);return[2]})})})}},Object.defineProperty(a.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),a.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},a.prototype.$i=function(n,s,c){var d=new Ra(this.currentUser,n,s,c),y=Po(this.persistenceKey,this.currentUser,n);this.setItem(y,d.ui())},a.prototype.Mi=function(n){var s=Po(this.persistenceKey,this.currentUser,n);this.removeItem(s)},a.prototype.Gi=function(n){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:n}))},a.prototype.Wi=function(n,s,c){var d=Wl(this.persistenceKey,n),y=new Cs(n,s,c);this.setItem(d,y.ui())},a.prototype.zi=function(n){var s=this.gi.exec(n);return s?s[1]:null},a.prototype.Yi=function(n,s){var c=this.zi(n);return ol.ci(c,s)},a.prototype.Ji=function(n,s){var c=this.Pi.exec(n),d=Number(c[1]);return Ra.ci(new Xr(void 0!==c[2]?c[2]:null),d,s)},a.prototype.Zi=function(n,s){var c=this.yi.exec(n),d=Number(c[1]);return Cs.ci(d,s)},a.prototype.vi=function(n){return Wc.ci(n)},a.prototype.Xi=function(n){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(s){return n.user.uid===this.currentUser.uid?[2,this.fi.er(n.batchId,n.state,n.error)]:(ie("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},a.prototype.tr=function(n){return this.fi.nr(n.targetId,n.state,n.error)},a.prototype.Hi=function(n,s){var c=this,d=s?this.Ti.ot(n,s):this.Ti.remove(n),y=this.Ni(this.Ti),w=this.Ni(d),D=[],N=[];return w.forEach(function(B){y.has(B)||D.push(B)}),y.forEach(function(B){w.has(B)||N.push(B)}),this.fi.sr(D,N).then(function(){c.Ti=d})},a.prototype.Si=function(n){this.Ti.get(n.clientId)&&this.di(n.onlineState)},a.prototype.Ni=function(n){var s=Fr();return n.forEach(function(c,d){s=s.kt(d.activeTargetIds)}),s},a}(),Yc=function(){function a(){this.ir=new sl,this.rr={},this.di=null,this.si=null}return a.prototype.xi=function(n){},a.prototype.ki=function(n,s,c){},a.prototype.Oi=function(n){return this.ir.hi(n),this.rr[n]||"not-current"},a.prototype.Qi=function(n,s,c){this.rr[n]=s},a.prototype.Bi=function(n){this.ir.li(n)},a.prototype.qi=function(n){return this.ir.activeTargetIds.has(n)},a.prototype.Ui=function(n){delete this.rr[n]},a.prototype.Ci=function(){return this.ir.activeTargetIds},a.prototype.Fi=function(n){return this.ir.activeTargetIds.has(n)},a.prototype.start=function(){return this.ir=new sl,Promise.resolve()},a.prototype.ji=function(n,s,c){},a.prototype.Ki=function(n){},a.prototype.Di=function(){},a.prototype.oi=function(n){},a}(),Ss=function(){function a(n,s,c,d){this.batchId=n,this.ar=s,this.baseMutations=c,this.mutations=d}return a.prototype.cr=function(n,s,c){for(var d=c.ur,y=0;y<this.mutations.length;y++){var w=this.mutations[y];w.key.isEqual(n)&&(s=M(w,s,d[y]))}return s},a.prototype.hr=function(n,s){for(var c=0,d=this.baseMutations;c<d.length;c++){var y=d[c];y.key.isEqual(n)&&(s=$(y,s,s,this.ar))}for(var w=s,D=0,N=this.mutations;D<N.length;D++){var B=N[D];B.key.isEqual(n)&&(s=$(B,s,w,this.ar))}return s},a.prototype.lr=function(n){var s=this,c=n;return this.mutations.forEach(function(d){var y=s.hr(d.key,n.get(d.key));y&&(c=c.ot(d.key,y))}),c},a.prototype.keys=function(){return this.mutations.reduce(function(n,s){return n.add(s.key)},rn())},a.prototype.isEqual=function(n){return this.batchId===n.batchId&&pt(this.mutations,n.mutations,function(s,c){return Ne(s,c)})&&pt(this.baseMutations,n.baseMutations,function(s,c){return Ne(s,c)})},a}(),Mi=function(){function a(n,s,c,d){this.batch=n,this._r=s,this.ur=c,this.dr=d}return a.from=function(n,s,c){ve(n.mutations.length===c.length);for(var d=Cn,y=n.mutations,w=0;w<y.length;w++)d=d.ot(y[w].key,c[w].version);return new a(n,s,c,d)},a}(),Du=function(){function a(){this.wr=new En(function(n){return n.toString()},function(n,s){return n.isEqual(s)}),this.mr=!1}return Object.defineProperty(a.prototype,"readTime",{get:function(){return this.Tr},set:function(n){this.Tr=n},enumerable:!1,configurable:!0}),a.prototype.Er=function(n,s){this.Ir(),this.readTime=s,this.wr.set(n.key,n)},a.prototype.Ar=function(n,s){this.Ir(),s&&(this.readTime=s),this.wr.set(n,null)},a.prototype.Rr=function(n,s){this.Ir();var c=this.wr.get(s);return void 0!==c?Ye.resolve(c):this.gr(n,s)},a.prototype.getEntries=function(n,s){return this.Pr(n,s)},a.prototype.apply=function(n){return this.Ir(),this.mr=!0,this.yr(n)},a.prototype.Ir=function(){},a}(),xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fa=function(){function a(){this.Vr=[]}return a.prototype.pr=function(n){this.Vr.push(n)},a.prototype.br=function(){this.Vr.forEach(function(n){return n()})},a}(),La=function(){function a(n,s,c){this.vr=n,this.Sr=s,this.Dr=c}return a.prototype.Cr=function(n,s){var c=this;return this.Sr.Nr(n,s).next(function(d){return c.Fr(n,s,d)})},a.prototype.Fr=function(n,s,c){return this.vr.Rr(n,s).next(function(d){for(var y=0,w=c;y<w.length;y++)d=w[y].hr(s,d);return d})},a.prototype.$r=function(n,s,c){var d=or();return s.forEach(function(y,w){for(var D=0,N=c;D<N.length;D++)w=N[D].hr(y,w);d=d.ot(y,w)}),d},a.prototype.kr=function(n,s){var c=this;return this.vr.getEntries(n,s).next(function(d){return c.Mr(n,d)})},a.prototype.Mr=function(n,s){var c=this;return this.Sr.Or(n,s).next(function(d){var y=c.$r(n,s,d),w=xr();return y.forEach(function(D,N){N||(N=new Pn(D,Ot.min())),w=w.ot(D,N)}),w})},a.prototype.Lr=function(n,s,c){return R.F((d=s).path)&&null===d.collectionGroup&&0===d.filters.length?this.Br(n,s.path):Na(s)?this.qr(n,s,c):this.Ur(n,s,c);var d},a.prototype.Br=function(n,s){return this.Cr(n,new R(s)).next(function(c){var d=to();return c instanceof Zt&&(d=d.ot(c.key,c)),d})},a.prototype.qr=function(n,s,c){var d=this,y=s.collectionGroup,w=to();return this.Dr.Qr(n,y).next(function(D){return Ye.forEach(D,function(N){var W,re,B=(W=s,re=N.child(y),new Ai(re,null,W.on.slice(),W.filters.slice(),W.limit,W.an,W.startAt,W.endAt));return d.Ur(n,B,c).next(function(W){W.forEach(function(re,te){w=w.ot(re,te)})})}).next(function(){return w})})},a.prototype.Ur=function(n,s,c){var d,y,w=this;return this.vr.Lr(n,s,c).next(function(D){return d=D,w.Sr.Wr(n,s)}).next(function(D){return w.jr(n,y=D,d).next(function(N){d=N;for(var B=0,W=y;B<W.length;B++)for(var re=W[B],te=0,he=re.mutations;te<he.length;te++){var Se=he[te],ke=Se.key,dt=d.get(ke),ft=$(Se,dt,dt,re.ar);d=ft instanceof Zt?d.ot(ke,ft):d.remove(ke)}})}).next(function(){return d.forEach(function(D,N){Br(s,N)||(d=d.remove(D))}),d})},a.prototype.jr=function(n,s,c){for(var d=rn(),y=0,w=s;y<w.length;y++)for(var D=0,N=w[y].mutations;D<N.length;D++){var B=N[D];B instanceof Vt&&null===c.get(B.key)&&(d=d.add(B.key))}var W=c;return this.vr.getEntries(n,d).next(function(re){return re.forEach(function(te,he){null!==he&&he instanceof Zt&&(W=W.ot(te,he))}),W})},a}(),ka=function(){function a(n,s,c,d){this.targetId=n,this.fromCache=s,this.Kr=c,this.Gr=d}return a.zr=function(n,s){for(var c=rn(),d=rn(),y=0,w=s.docChanges;y<w.length;y++){var D=w[y];switch(D.type){case 0:c=c.add(D.doc.key);break;case 1:d=d.add(D.doc.key)}}return new a(n,s.fromCache,c,d)},a}();function Qc(a,n){var c=a[1],y=n[1],w=it(a[0],n[0]);return 0===w?it(c,y):w}var Va=function(){function a(n){this.Hr=n,this.buffer=new Zn(Qc),this.Yr=0}return a.prototype.Jr=function(){return++this.Yr},a.prototype.Xr=function(n){var s=[n,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(s);else{var c=this.buffer.last();Qc(s,c)<0&&(this.buffer=this.buffer.delete(c).add(s))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),al={Zr:!1,eo:0,no:0,so:0},Rn=function(){function a(n,s,c){this.io=n,this.ro=s,this.oo=c}return a.ao=function(n){return new a(n,a.co,a.uo)},a}();Rn.ho=-1,Rn.lo=1048576,Rn._o=41943040,Rn.co=10,Rn.uo=1e3,Rn.fo=new Rn(Rn._o,Rn.co,Rn.uo),Rn.do=new Rn(Rn.ho,0,0);var Xf=function(){function a(n,s){this.wo=n,this.cs=s,this.mo=!1,this.To=null}return a.prototype.start=function(n){this.wo.params.io!==Rn.ho&&this.Eo(n)},a.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(a.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),a.prototype.Eo=function(n){var s=this,c=this.mo?3e5:6e4;ie("LruGarbageCollector","Garbage collection scheduled in "+c+"ms"),this.To=this.cs.yn("lru_garbage_collection",c,function(){return v.__awaiter(s,void 0,void 0,function(){var d;return v.__generator(this,function(y){switch(y.label){case 0:this.To=null,this.mo=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,n.Io(this.wo)];case 2:return y.sent(),[3,7];case 3:return uo(d=y.sent())?(ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d),[3,6]):[3,4];case 4:return[4,ta(d)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.Eo(n)];case 8:return y.sent(),[2]}})})})},a}(),Kl=function(){function a(n,s){this.Ao=n,this.params=s}return a.prototype.Ro=function(n,s){return this.Ao.Po(n).next(function(c){return Math.floor(s/100*c)})},a.prototype.yo=function(n,s){var c=this;if(0===s)return Ye.resolve(ei.ai);var d=new Va(s);return this.Ao.Ce(n,function(y){return d.Xr(y.sequenceNumber)}).next(function(){return c.Ao.Vo(n,function(y){return d.Xr(y)})}).next(function(){return d.maxValue})},a.prototype.po=function(n,s,c){return this.Ao.po(n,s,c)},a.prototype.bo=function(n,s){return this.Ao.bo(n,s)},a.prototype.vo=function(n,s){var c=this;return this.params.io===Rn.ho?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(al)):this.So(n).next(function(d){return d<c.params.io?(ie("LruGarbageCollector","Garbage collection skipped; Cache size "+d+" is lower than threshold "+c.params.io),al):c.Do(n,s)})},a.prototype.So=function(n){return this.Ao.So(n)},a.prototype.Do=function(n,s){var c,d,y,w,D,N,B,W=this,re=Date.now();return this.Ro(n,this.params.ro).next(function(te){return te>W.params.oo?(ie("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+W.params.oo+" from "+te),d=W.params.oo):d=te,w=Date.now(),W.yo(n,d)}).next(function(te){return c=te,D=Date.now(),W.po(n,c,s)}).next(function(te){return y=te,N=Date.now(),W.bo(n,c)}).next(function(te){return B=Date.now(),Ie()<=ye.LogLevel.DEBUG&&ie("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(w-re)+"ms\n\tDetermined least recently used "+d+" in "+(D-w)+"ms\n\tRemoved "+y+" targets in "+(N-D)+"ms\n\tRemoved "+te+" documents in "+(B-N)+"ms\nTotal Duration: "+(B-re)+"ms"),Ye.resolve({Zr:!0,eo:d,no:y,so:te})})},a}();function ti(a){for(var n="",s=0;s<a.length;s++)n.length>0&&(n=Cu(n)),n=Zc(a.get(s),n);return Cu(n)}function Zc(a,n){for(var s=n,c=a.length,d=0;d<c;d++){var y=a.charAt(d);switch(y){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=y}}return s}function Cu(a){return a+"\x01\x01"}function yi(a){var n=a.length;if(ve(n>=2),2===n)return ve("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),L.P();for(var s=n-2,c=[],d="",y=0;y<n;){var w=a.indexOf("\x01",y);switch((w<0||w>s)&&we(),a.charAt(w+1)){case"\x01":var D=a.substring(y,w),N=void 0;0===d.length?N=D:(N=d+=D,d=""),c.push(N);break;case"\x10":d+=a.substring(y,w),d+="\0";break;case"\x11":d+=a.substring(y,w+1);break;default:we()}y=w+2}return new L(c)}var Yl=function(a){this.Co=a};function Su(a,n){if(n.document)return N=!!n.hasCommittedMutations,B=wn(a.Co,(D=n.document).name),W=On(D.updateTime),re=new $n({mapValue:{fields:D.fields}}),new Zt(B,W,re,{hasCommittedMutations:!!N});var D,N,B,W,re;if(n.noDocument){var s=R.$(n.noDocument.path),c=Tu(n.noDocument.readTime);return new Pn(s,c,{hasCommittedMutations:!!n.hasCommittedMutations})}if(n.unknownDocument){var d=R.$(n.unknownDocument.path),y=Tu(n.unknownDocument.version);return new br(d,y)}return we()}function Au(a,n,s){var te,he,c=Ua(s),d=n.key.path.h().A();if(n instanceof Zt){var y={name:Mr(te=a.Co,(he=n).key),fields:he.rn().mapValue.fields,updateTime:Vr(te,he.version.Z())};return new nr(null,null,y,n.hasCommittedMutations,c,d)}if(n instanceof Pn){var D=n.key.path.A(),N=Qs(n.version),B=n.hasCommittedMutations;return new nr(null,new Od(D,N),null,B,c,d)}if(n instanceof br){var W=n.key.path.A(),re=Qs(n.version);return new nr(new Pd(W,re),null,null,!0,c,d)}return we()}function Ua(a){var n=a.Z();return[n.seconds,n.nanoseconds]}function Jc(a){var n=new pn(a[0],a[1]);return Ot.J(n)}function Qs(a){var n=a.Z();return new Ha(n.seconds,n.nanoseconds)}function Tu(a){var n=new pn(a.seconds,a.nanoseconds);return Ot.J(n)}function As(a,n){var s=(n.baseMutations||[]).map(function(y){return Gs(a.Co,y)}),c=n.mutations.map(function(y){return Gs(a.Co,y)}),d=pn.fromMillis(n.localWriteTimeMs);return new Ss(n.batchId,d,s,c)}function Xo(a){var n,s,c=Tu(a.readTime),d=void 0!==a.lastLimboFreeSnapshotVersion?Tu(a.lastLimboFreeSnapshotVersion):Ot.min();return void 0!==a.query.documents?(ve(1===(s=a.query).documents.length),n=Zr(Dt(An(s.documents[0])))):n=Wo(a.query),new vn(n,a.targetId,0,a.lastListenSequenceNumber,c,d,Wt.fromBase64String(a.resumeToken))}function Xc(a,n){var s,c=Qs(n.nt),d=Qs(n.lastLimboFreeSnapshotVersion);s=bt(n.target)?vu(a.Co,n.target):$s(a.Co,n.target);var y=n.resumeToken.toBase64();return new vi(n.targetId,ct(n.target),c,y,n.sequenceNumber,d,s)}var eh=function(){function a(n,s,c,d){this.userId=n,this.serializer=s,this.Dr=c,this.No=d,this.Fo={}}return a.xo=function(n,s,c,d){return ve(""!==n.uid),new a(n.Zs()?n.uid:"",s,c,d)},a.prototype.$o=function(n){var s=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zi(n).rs({index:Lt.userMutationsIndex,range:c},function(d,y,w){s=!1,w.done()}).next(function(){return s})},a.prototype.ko=function(n,s,c,d){var y=this,w=Zs(n),D=zi(n);return D.add({}).next(function(N){ve("number"==typeof N);for(var B=new Ss(N,s,c,d),W=function(ft,Ct,kt){var tn=kt.baseMutations.map(function(xn){return Si(ft.Co,xn)}),Dn=kt.mutations.map(function(xn){return Si(ft.Co,xn)});return new Lt(Ct,kt.batchId,kt.ar.toMillis(),tn,Dn)}(y.serializer,y.userId,B),re=[],te=new Zn(function(ft,Ct){return it(ft.R(),Ct.R())}),he=0,Se=d;he<Se.length;he++){var ke=Se[he],dt=ni.key(y.userId,ke.key.path,N);te=te.add(ke.key.path.h()),re.push(D.put(W)),re.push(w.put(dt,ni.PLACEHOLDER))}return te.forEach(function(ft){re.push(y.Dr.Mo(n,ft))}),n.pr(function(){y.Fo[N]=B.keys()}),Ye.$n(re).next(function(){return B})})},a.prototype.Oo=function(n,s){var c=this;return zi(n).get(s).next(function(d){return d?(ve(d.userId===c.userId),As(c.serializer,d)):null})},a.prototype.Lo=function(n,s){var c=this;return this.Fo[s]?Ye.resolve(this.Fo[s]):this.Oo(n,s).next(function(d){if(d){var y=d.keys();return c.Fo[s]=y,y}return null})},a.prototype.Bo=function(n,s){var c=this,d=s+1,y=IDBKeyRange.lowerBound([this.userId,d]),w=null;return zi(n).rs({index:Lt.userMutationsIndex,range:y},function(D,N,B){N.userId===c.userId&&(ve(N.batchId>=d),w=As(c.serializer,N)),B.done()}).next(function(){return w})},a.prototype.qo=function(n){var s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),c=-1;return zi(n).rs({index:Lt.userMutationsIndex,range:s,reverse:!0},function(d,y,w){c=y.batchId,w.done()}).next(function(){return c})},a.prototype.Uo=function(n){var s=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zi(n).ts(Lt.userMutationsIndex,c).next(function(d){return d.map(function(y){return As(s.serializer,y)})})},a.prototype.Nr=function(n,s){var c=this,d=ni.prefixForPath(this.userId,s.path),y=IDBKeyRange.lowerBound(d),w=[];return Zs(n).rs({range:y},function(D,N,B){var W=D[0],te=D[2],he=yi(D[1]);if(W===c.userId&&s.path.isEqual(he))return zi(n).get(te).next(function(Se){if(!Se)throw we();ve(Se.userId===c.userId),w.push(As(c.serializer,Se))});B.done()}).next(function(){return w})},a.prototype.Or=function(n,s){var c=this,d=new Zn(it),y=[];return s.forEach(function(w){var D=ni.prefixForPath(c.userId,w.path),N=IDBKeyRange.lowerBound(D),B=Zs(n).rs({range:N},function(W,re,te){var he=W[0],ke=W[2],dt=yi(W[1]);he===c.userId&&w.path.isEqual(dt)?d=d.add(ke):te.done()});y.push(B)}),Ye.$n(y).next(function(){return c.Qo(n,d)})},a.prototype.Wr=function(n,s){var c=this,d=s.path,y=d.length+1,w=ni.prefixForPath(this.userId,d),D=IDBKeyRange.lowerBound(w),N=new Zn(it);return Zs(n).rs({range:D},function(B,W,re){var te=B[0],Se=B[2],ke=yi(B[1]);te===c.userId&&d.T(ke)?ke.length===y&&(N=N.add(Se)):re.done()}).next(function(){return c.Qo(n,N)})},a.prototype.Qo=function(n,s){var c=this,d=[],y=[];return s.forEach(function(w){y.push(zi(n).get(w).next(function(D){if(null===D)throw we();ve(D.userId===c.userId),d.push(As(c.serializer,D))}))}),Ye.$n(y).next(function(){return d})},a.prototype.Wo=function(n,s){var c=this;return ja(n.jo,this.userId,s).next(function(d){return n.pr(function(){c.Ko(s.batchId)}),Ye.forEach(d,function(y){return c.No.Go(n,y)})})},a.prototype.Ko=function(n){delete this.Fo[n]},a.prototype.zo=function(n){var s=this;return this.$o(n).next(function(c){if(!c)return Ye.resolve();var d=IDBKeyRange.lowerBound(ni.prefixForUser(s.userId)),y=[];return Zs(n).rs({range:d},function(w,D,N){if(w[0]===s.userId){var B=yi(w[1]);y.push(B)}else N.done()}).next(function(){ve(0===y.length)})})},a.prototype.Ho=function(n,s){return Ts(n,this.userId,s)},a.prototype.Yo=function(n){var s=this;return Ql(n).get(this.userId).next(function(c){return c||new Is(s.userId,-1,"")})},a}();function Ts(a,n,s){var c=ni.prefixForPath(n,s.path),d=c[1],y=IDBKeyRange.lowerBound(c),w=!1;return Zs(a).rs({range:y,ss:!0},function(D,N,B){D[0]===n&&D[1]===d&&(w=!0),B.done()}).next(function(){return w})}function ja(a,n,s){var c=a.store(Lt.store),d=a.store(ni.store),y=[],w=IDBKeyRange.only(s.batchId),D=0,N=c.rs({range:w},function(Se,ke,dt){return D++,dt.delete()});y.push(N.next(function(){ve(1===D)}));for(var B=[],W=0,re=s.mutations;W<re.length;W++){var te=re[W],he=ni.key(n,te.key.path,s.batchId);y.push(d.delete(he)),B.push(te.key)}return Ye.$n(y).next(function(){return B})}function zi(a){return qi.Qn(a,Lt.store)}function Zs(a){return qi.Qn(a,ni.store)}function Ql(a){return qi.Qn(a,Is.store)}var Ro=function(){function a(n,s){this.serializer=n,this.Dr=s}return a.prototype.Er=function(n,s,c){return xo(n).put(es(s),c)},a.prototype.Ar=function(n,s){var c=xo(n),d=es(s);return c.delete(d)},a.prototype.updateMetadata=function(n,s){var c=this;return this.getMetadata(n).next(function(d){return d.byteSize+=s,c.Jo(n,d)})},a.prototype.Rr=function(n,s){var c=this;return xo(n).get(es(s)).next(function(d){return c.Xo(d)})},a.prototype.Zo=function(n,s){var c=this;return xo(n).get(es(s)).next(function(d){var y=c.Xo(d);return y?{ta:y,size:ts(d)}:null})},a.prototype.getEntries=function(n,s){var c=this,d=or();return this.ea(n,s,function(y,w){var D=c.Xo(w);d=d.ot(y,D)}).next(function(){return d})},a.prototype.na=function(n,s){var c=this,d=or(),y=new Qn(R.i);return this.ea(n,s,function(w,D){var N=c.Xo(D);N?(d=d.ot(w,N),y=y.ot(w,ts(D))):(d=d.ot(w,null),y=y.ot(w,0))}).next(function(){return{sa:d,ia:y}})},a.prototype.ea=function(n,s,c){if(s.m())return Ye.resolve();var d=IDBKeyRange.bound(s.first().path.A(),s.last().path.A()),y=s._t(),w=y.It();return xo(n).rs({range:d},function(D,N,B){for(var W=R.$(D);w&&R.i(w,W)<0;)c(w,null),w=y.It();w&&w.isEqual(W)&&(c(w,N),w=y.At()?y.It():null),w?B.Xn(w.path.A()):B.done()}).next(function(){for(;w;)c(w,null),w=y.At()?y.It():null})},a.prototype.Lr=function(n,s,c){var d=this,y=to(),w=s.path.length+1,D={};if(c.isEqual(Ot.min())){var N=s.path.A();D.range=IDBKeyRange.lowerBound(N)}else{var B=s.path.A(),W=Ua(c);D.range=IDBKeyRange.lowerBound([B,W],!0),D.index=nr.collectionReadTimeIndex}return xo(n).rs(D,function(re,te,he){if(re.length===w){var Se=Su(d.serializer,te);s.path.T(Se.key.path)?Se instanceof Zt&&Br(s,Se)&&(y=y.ot(Se.key,Se)):he.done()}}).next(function(){return y})},a.prototype.ra=function(n){return new ef(this,!!n&&n.oa)},a.prototype.aa=function(n){return this.getMetadata(n).next(function(s){return s.byteSize})},a.prototype.getMetadata=function(n){return ul(n).get(Ms.key).next(function(s){return ve(!!s),s})},a.prototype.Jo=function(n,s){return ul(n).put(Ms.key,s)},a.prototype.Xo=function(n){if(n){var s=Su(this.serializer,n);return s instanceof Pn&&s.version.isEqual(Ot.min())?null:s}return null},a}(),ef=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).ca=s,d.oa=c,d.ua=new En(function(y){return y.toString()},function(y,w){return y.isEqual(w)}),d}return v.__extends(n,a),n.prototype.yr=function(s){var c=this,d=[],y=0,w=new Zn(function(D,N){return it(D.R(),N.R())});return this.wr.forEach(function(D,N){var B=c.ua.get(D);if(N){var W=Au(c.ca.serializer,N,c.readTime);w=w.add(D.path.h());var re=ts(W);y+=re-B,d.push(c.ca.Er(s,D,W))}else if(y-=B,c.oa){var te=Au(c.ca.serializer,new Pn(D,Ot.min()),c.readTime);d.push(c.ca.Er(s,D,te))}else d.push(c.ca.Ar(s,D))}),w.forEach(function(D){d.push(c.ca.Dr.Mo(s,D))}),d.push(this.ca.updateMetadata(s,y)),Ye.$n(d)},n.prototype.gr=function(s,c){var d=this;return this.ca.Zo(s,c).next(function(y){return null===y?(d.ua.set(c,0),null):(d.ua.set(c,y.size),y.ta)})},n.prototype.Pr=function(s,c){var d=this;return this.ca.na(s,c).next(function(y){var w=y.sa;return y.ia.forEach(function(D,N){d.ua.set(D,N)}),w})},n}(Du);function ul(a){return qi.Qn(a,Ms.store)}function xo(a){return qi.Qn(a,nr.store)}function es(a){return a.path.A()}function ts(a){var n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw we();n=a.noDocument}return JSON.stringify(n).length}var Ba=function(){function a(){this.ha=new Js}return a.prototype.Mo=function(n,s){return this.ha.add(s),Ye.resolve()},a.prototype.Qr=function(n,s){return Ye.resolve(this.ha.getEntries(s))},a}(),Js=function(){function a(){this.index={}}return a.prototype.add=function(n){var s=n._(),c=n.h(),d=this.index[s]||new Zn(L.i),y=!d.has(c);return this.index[s]=d.add(c),y},a.prototype.has=function(n){var s=n._(),c=n.h(),d=this.index[s];return d&&d.has(c)},a.prototype.getEntries=function(n){return(this.index[n]||new Zn(L.i)).A()},a}(),Zl=function(){function a(n){this.serializer=n}return a.prototype.createOrUpgrade=function(n,s,c,d){var y=this;ve(c<d&&c>=0&&d<=10);var N,w=new Pa("createOrUpgrade",s);c<1&&d>=1&&(n.createObjectStore(Ni.store),(N=n).createObjectStore(Is.store,{keyPath:Is.keyPath}),N.createObjectStore(Lt.store,{keyPath:Lt.keyPath,autoIncrement:!0}).createIndex(Lt.userMutationsIndex,Lt.userMutationsKeyPath,{unique:!0}),N.createObjectStore(ni.store),yr(n),function(N){N.createObjectStore(nr.store)}(n));var D=Ye.resolve();return c<3&&d>=3&&(0!==c&&(function(N){N.deleteObjectStore(Gr.store),N.deleteObjectStore(vi.store),N.deleteObjectStore(Or.store)}(n),yr(n)),D=D.next(function(){return function(N){var B=N.store(Or.store),W=new Or(0,0,Ot.min().Z(),0);return B.put(Or.key,W)}(w)})),c<4&&d>=4&&(0!==c&&(D=D.next(function(){return function(N,B){return B.store(Lt.store).ts().next(function(W){N.deleteObjectStore(Lt.store),N.createObjectStore(Lt.store,{keyPath:Lt.keyPath,autoIncrement:!0}).createIndex(Lt.userMutationsIndex,Lt.userMutationsKeyPath,{unique:!0});var re=B.store(Lt.store),te=W.map(function(he){return re.put(he)});return Ye.$n(te)})}(n,w)})),D=D.next(function(){!function(N){N.createObjectStore(co.store,{keyPath:co.keyPath})}(n)})),c<5&&d>=5&&(D=D.next(function(){return y.removeAcknowledgedMutations(w)})),c<6&&d>=6&&(D=D.next(function(){return function(N){N.createObjectStore(Ms.store)}(n),y.addDocumentGlobal(w)})),c<7&&d>=7&&(D=D.next(function(){return y.ensureSequenceNumbers(w)})),c<8&&d>=8&&(D=D.next(function(){return y.createCollectionParentIndex(n,w)})),c<9&&d>=9&&(D=D.next(function(){(function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")})(n),function(N){var B=N.objectStore(nr.store);B.createIndex(nr.readTimeIndex,nr.readTimeIndexPath,{unique:!1}),B.createIndex(nr.collectionReadTimeIndex,nr.collectionReadTimeIndexPath,{unique:!1})}(s)})),c<10&&d>=10&&(D=D.next(function(){return y.rewriteCanonicalIds(w)})),D},a.prototype.addDocumentGlobal=function(n){var s=0;return n.store(nr.store).rs(function(c,d){s+=ts(d)}).next(function(){var c=new Ms(s);return n.store(Ms.store).put(Ms.key,c)})},a.prototype.removeAcknowledgedMutations=function(n){var s=this,c=n.store(Is.store),d=n.store(Lt.store);return c.ts().next(function(y){return Ye.forEach(y,function(w){var D=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return d.ts(Lt.userMutationsIndex,D).next(function(N){return Ye.forEach(N,function(B){ve(B.userId===w.userId);var W=As(s.serializer,B);return ja(n,w.userId,W).next(function(){})})})})})},a.prototype.ensureSequenceNumbers=function(n){var s=n.store(Gr.store),c=n.store(nr.store);return n.store(Or.store).get(Or.key).next(function(d){var y=[];return c.rs(function(w,D){var N=new L(w),B=[0,ti(N)];y.push(s.get(B).next(function(W){return W?Ye.resolve():s.put(new Gr(0,ti(N),d.highestListenSequenceNumber))}))}).next(function(){return Ye.$n(y)})})},a.prototype.createCollectionParentIndex=function(n,s){n.createObjectStore(Xs.store,{keyPath:Xs.keyPath});var c=s.store(Xs.store),d=new Js,y=function(w){if(d.add(w)){var D=w._(),N=w.h();return c.put({collectionId:D,parent:ti(N)})}};return s.store(nr.store).rs({ss:!0},function(w,D){var N=new L(w);return y(N.h())}).next(function(){return s.store(ni.store).rs({ss:!0},function(w,D){var B=yi(w[1]);return y(B.h())})})},a.prototype.rewriteCanonicalIds=function(n){var s=this,c=n.store(vi.store);return c.rs(function(d,y){var w=Xo(y),D=Xc(s.serializer,w);return c.put(D)})},a}(),Ha=function(a,n){this.seconds=a,this.nanoseconds=n},Ni=function(a,n,s){this.ownerId=a,this.allowTabSynchronization=n,this.leaseTimestampMs=s};Ni.store="owner",Ni.key="owner";var Is=function(a,n,s){this.userId=a,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s};Is.store="mutationQueues",Is.keyPath="userId";var Lt=function(a,n,s,c,d){this.userId=a,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=c,this.mutations=d};Lt.store="mutations",Lt.keyPath="batchId",Lt.userMutationsIndex="userMutationsIndex",Lt.userMutationsKeyPath=["userId","batchId"];var ni=function(){function a(){}return a.prefixForUser=function(n){return[n]},a.prefixForPath=function(n,s){return[n,ti(s)]},a.key=function(n,s,c){return[n,ti(s),c]},a}();ni.store="documentMutations",ni.PLACEHOLDER=new ni;var Od=function(a,n){this.path=a,this.readTime=n},Pd=function(a,n){this.path=a,this.version=n},nr=function(a,n,s,c,d,y){this.unknownDocument=a,this.noDocument=n,this.document=s,this.hasCommittedMutations=c,this.readTime=d,this.parentPath=y};nr.store="remoteDocuments",nr.readTimeIndex="readTimeIndex",nr.readTimeIndexPath="readTime",nr.collectionReadTimeIndex="collectionReadTimeIndex",nr.collectionReadTimeIndexPath=["parentPath","readTime"];var Ms=function(a){this.byteSize=a};Ms.store="remoteDocumentGlobal",Ms.key="remoteDocumentGlobalKey";var vi=function(a,n,s,c,d,y,w){this.targetId=a,this.canonicalId=n,this.readTime=s,this.resumeToken=c,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=y,this.query=w};vi.store="targets",vi.keyPath="targetId",vi.queryTargetsIndexName="queryTargetsIndex",vi.queryTargetsKeyPath=["canonicalId","targetId"];var Gr=function(a,n,s){this.targetId=a,this.path=n,this.sequenceNumber=s};Gr.store="targetDocuments",Gr.keyPath=["targetId","path"],Gr.documentTargetsIndex="documentTargetsIndex",Gr.documentTargetsKeyPath=["path","targetId"];var Or=function(a,n,s,c){this.highestTargetId=a,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=c};Or.key="targetGlobalKey",Or.store="targetGlobal";var Xs=function(a,n){this.collectionId=a,this.parent=n};function yr(a){a.createObjectStore(Gr.store,{keyPath:Gr.keyPath}).createIndex(Gr.documentTargetsIndex,Gr.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(vi.store,{keyPath:vi.keyPath}).createIndex(vi.queryTargetsIndexName,vi.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Or.store)}Xs.store="collectionParents",Xs.keyPath=["collectionId","parent"];var co=function(a,n,s,c){this.clientId=a,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=c};co.store="clientMetadata",co.keyPath="clientId";var Iu=v.__spreadArrays(v.__spreadArrays(v.__spreadArrays([Is.store,Lt.store,ni.store,nr.store,vi.store,Ni.store,Or.store,Gr.store],[co.store]),[Ms.store]),[Xs.store]),Rd=function(){function a(){this.la=new Js}return a.prototype.Mo=function(n,s){var c=this;if(!this.la.has(s)){var d=s._(),y=s.h();n.pr(function(){c.la.add(s)});var w={collectionId:d,parent:ti(y)};return tf(n).put(w)}return Ye.resolve()},a.prototype.Qr=function(n,s){var c=[],d=IDBKeyRange.bound([s,""],[zt(s),""],!1,!0);return tf(n).ts(d).next(function(y){for(var w=0,D=y;w<D.length;w++){var N=D[w];if(N.collectionId!==s)break;c.push(yi(N.parent))}return c})},a}();function tf(a){return qi.Qn(a,Xs.store)}var $r=function(){function a(n){this._a=n}return a.prototype.next=function(){return this._a+=2,this._a},a.fa=function(){return new a(0)},a.da=function(){return new a(-1)},a}(),Fo=function(){function a(n,s){this.No=n,this.serializer=s}return a.prototype.wa=function(n){var s=this;return this.ma(n).next(function(c){var d=new $r(c.highestTargetId);return c.highestTargetId=d.next(),s.Ta(n,c).next(function(){return c.highestTargetId})})},a.prototype.Ea=function(n){return this.ma(n).next(function(s){return Ot.J(new pn(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.Ia=function(n){return this.ma(n).next(function(s){return s.highestListenSequenceNumber})},a.prototype.Aa=function(n,s,c){var d=this;return this.ma(n).next(function(y){return y.highestListenSequenceNumber=s,c&&(y.lastRemoteSnapshotVersion=c.Z()),s>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=s),d.Ta(n,y)})},a.prototype.Ra=function(n,s){var c=this;return this.ga(n,s).next(function(){return c.ma(n).next(function(d){return d.targetCount+=1,c.Pa(s,d),c.Ta(n,d)})})},a.prototype.ya=function(n,s){return this.ga(n,s)},a.prototype.Va=function(n,s){var c=this;return this.pa(n,s.targetId).next(function(){return ea(n).delete(s.targetId)}).next(function(){return c.ma(n)}).next(function(d){return ve(d.targetCount>0),d.targetCount-=1,c.Ta(n,d)})},a.prototype.po=function(n,s,c){var d=this,y=0,w=[];return ea(n).rs(function(D,N){var B=Xo(N);B.sequenceNumber<=s&&null===c.get(B.targetId)&&(y++,w.push(d.Va(n,B)))}).next(function(){return Ye.$n(w)}).next(function(){return y})},a.prototype.Ce=function(n,s){return ea(n).rs(function(c,d){var y=Xo(d);s(y)})},a.prototype.ma=function(n){return Mu(n).get(Or.key).next(function(s){return ve(null!==s),s})},a.prototype.Ta=function(n,s){return Mu(n).put(Or.key,s)},a.prototype.ga=function(n,s){return ea(n).put(Xc(this.serializer,s))},a.prototype.Pa=function(n,s){var c=!1;return n.targetId>s.highestTargetId&&(s.highestTargetId=n.targetId,c=!0),n.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n.sequenceNumber,c=!0),c},a.prototype.ba=function(n){return this.ma(n).next(function(s){return s.targetCount})},a.prototype.va=function(n,s){var c=ct(s),d=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]),y=null;return ea(n).rs({range:d,index:vi.queryTargetsIndexName},function(w,D,N){var B=Xo(D);Et(s,B.target)&&(y=B,N.done())}).next(function(){return y})},a.prototype.Sa=function(n,s,c){var d=this,y=[],w=_i(n);return s.forEach(function(D){var N=ti(D.path);y.push(w.put(new Gr(c,N))),y.push(d.No.Da(n,c,D))}),Ye.$n(y)},a.prototype.Ca=function(n,s,c){var d=this,y=_i(n);return Ye.forEach(s,function(w){var D=ti(w.path);return Ye.$n([y.delete([c,D]),d.No.Na(n,c,w)])})},a.prototype.pa=function(n,s){var c=_i(n),d=IDBKeyRange.bound([s],[s+1],!1,!0);return c.delete(d)},a.prototype.Fa=function(n,s){var c=IDBKeyRange.bound([s],[s+1],!1,!0),d=_i(n),y=rn();return d.rs({range:c,ss:!0},function(w,D,N){var B=yi(w[1]),W=new R(B);y=y.add(W)}).next(function(){return y})},a.prototype.Ho=function(n,s){var c=ti(s.path),d=IDBKeyRange.bound([c],[zt(c)],!1,!0),y=0;return _i(n).rs({index:Gr.documentTargetsIndex,ss:!0,range:d},function(w,D,N){0!==w[0]&&(y++,N.done())}).next(function(){return y>0})},a.prototype.Ue=function(n,s){return ea(n).get(s).next(function(c){return c?Xo(c):null})},a}();function ea(a){return qi.Qn(a,vi.store)}function Mu(a){return qi.Qn(a,Or.store)}function _i(a){return qi.Qn(a,Gr.store)}var Nu="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jl=function(a){function n(s,c){var d=this;return(d=a.call(this)||this).jo=s,d.xa=c,d}return v.__extends(n,a),n}(Fa),qi=function(){function a(n,s,c,d,y,w,D,N,B,W){if(this.allowTabSynchronization=n,this.persistenceKey=s,this.clientId=c,this.fn=y,this.window=w,this.document=D,this.$a=B,this.ka=W,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(re){return Promise.resolve()},!a.Ln())throw new Y(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ec(this,d),this.Wa=s+"main",this.serializer=new Yl(N),this.ja=new so(this.Wa,10,new Zl(this.serializer)),this.Ka=new Fo(this.No,this.serializer),this.Dr=new Rd,this.vr=new Ro(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===W&&Oe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.Qn=function(n,s){if(n instanceof Jl)return so.Qn(n.jo,s);throw we()},a.prototype.start=function(){var n=this;return this.za().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new Y(q.FAILED_PRECONDITION,Nu);return n.Ha(),n.Ya(),n.Ja(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(s){return n.Ka.Ia(s)})}).then(function(s){n.Ma=new ei(s,n.$a)}).then(function(){n.Oa=!0}).catch(function(s){return n.ja&&n.ja.close(),Promise.reject(s)})},a.prototype.Xa=function(n){var s=this;return this.Qa=function(c){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(d){return this.Ei?[2,n(c)]:[2]})})},n(this.isPrimary)},a.prototype.Za=function(n){var s=this;this.ja.Kn(function(c){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(d){switch(d.label){case 0:return null===c.newVersion?[4,n()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})})},a.prototype.tc=function(n){var s=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.fn.ws(function(){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(c){switch(c.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}))},a.prototype.za=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(s){return Xl(s).put(new co(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.ec(s).next(function(c){c||(n.isPrimary=!1,n.fn.Cs(function(){return n.Qa(!1)}))})}).next(function(){return n.nc(s)}).next(function(c){return n.isPrimary&&!c?n.sc(s).next(function(){return!1}):!!c&&n.ic(s).next(function(){return!0})})}).catch(function(s){if(uo(s))return ie("IndexedDbPersistence","Failed to extend owner lease: ",s),n.isPrimary;if(!n.allowTabSynchronization)throw s;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(function(s){n.isPrimary!==s&&n.fn.Cs(function(){return n.Qa(s)}),n.isPrimary=s})},a.prototype.ec=function(n){var s=this;return ll(n).get(Ni.key).next(function(c){return Ye.resolve(s.rc(c))})},a.prototype.oc=function(n){return Xl(n).delete(this.clientId)},a.prototype.ac=function(){return v.__awaiter(this,void 0,void 0,function(){var n,s,c,y=this;return v.__generator(this,function(w){switch(w.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(D){var N=a.Qn(D,co.store);return N.ts().next(function(B){var W=y.uc(B,18e5),re=B.filter(function(te){return-1===W.indexOf(te)});return Ye.forEach(re,function(te){return N.delete(te.clientId)}).next(function(){return re})})}).catch(function(){return[]})]);case 1:if(n=w.sent(),this.Ga)for(s=0,c=n;s<c.length;s++)this.Ga.removeItem(this.hc(c[s].clientId));w.label=2;case 2:return[2]}})})},a.prototype.Ja=function(){var n=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return n.za().then(function(){return n.ac()}).then(function(){return n.Ja()})})},a.prototype.rc=function(n){return!!n&&n.ownerId===this.clientId},a.prototype.nc=function(n){var s=this;return this.ka?Ye.resolve(!0):ll(n).get(Ni.key).next(function(c){if(null!==c&&s.cc(c.leaseTimestampMs,5e3)&&!s.lc(c.ownerId)){if(s.rc(c)&&s.networkEnabled)return!0;if(!s.rc(c)){if(!c.allowTabSynchronization)throw new Y(q.FAILED_PRECONDITION,Nu);return!1}}return!(!s.networkEnabled||!s.inForeground)||Xl(n).ts().next(function(d){return void 0===s.uc(d,5e3).find(function(y){return!(s.clientId===y.clientId||!(!s.networkEnabled&&y.networkEnabled||!s.inForeground&&y.inForeground&&s.networkEnabled===y.networkEnabled))})})}).next(function(c){return s.isPrimary!==c&&ie("IndexedDbPersistence","Client "+(c?"is":"is not")+" eligible for a primary lease."),c})},a.prototype.Di=function(){return v.__awaiter(this,void 0,void 0,function(){var n=this;return v.__generator(this,function(s){switch(s.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ni.store,co.store],function(c){var d=new Jl(c,ei.ai);return n.sc(d).next(function(){return n.oc(d)})})];case 1:return s.sent(),this.ja.close(),this.wc(),[2]}})})},a.prototype.uc=function(n,s){var c=this;return n.filter(function(d){return c.cc(d.updateTimeMs,s)&&!c.lc(d.clientId)})},a.prototype.pi=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(s){return Xl(s).ts().next(function(c){return n.uc(c,18e5).map(function(d){return d.clientId})})})},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.mc=function(n){return eh.xo(n,this.serializer,this.Dr,this.No)},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.Ic=function(){return this.Dr},a.prototype.runTransaction=function(n,s,c){var y,d=this;return ie("IndexedDbPersistence","Starting transaction:",n),this.ja.runTransaction(n,"readonly"===s?"readonly":"readwrite",Iu,function(D){return y=new Jl(D,d.Ma?d.Ma.next():ei.ai),"readwrite-primary"===s?d.ec(y).next(function(N){return!!N||d.nc(y)}).next(function(N){if(!N)throw Oe("Failed to obtain primary lease for action '"+n+"'."),d.isPrimary=!1,d.fn.Cs(function(){return d.Qa(!1)}),new Y(q.FAILED_PRECONDITION,xa);return c(y)}).next(function(N){return d.ic(y).next(function(){return N})}):d.Ac(y).next(function(){return c(y)})}).then(function(D){return y.br(),D})},a.prototype.Ac=function(n){var s=this;return ll(n).get(Ni.key).next(function(c){if(null!==c&&s.cc(c.leaseTimestampMs,5e3)&&!s.lc(c.ownerId)&&!s.rc(c)&&!(s.ka||s.allowTabSynchronization&&c.allowTabSynchronization))throw new Y(q.FAILED_PRECONDITION,Nu)})},a.prototype.ic=function(n){var s=new Ni(this.clientId,this.allowTabSynchronization,Date.now());return ll(n).put(Ni.key,s)},a.Ln=function(){return so.Ln()},a.prototype.sc=function(n){var s=this,c=ll(n);return c.get(Ni.key).next(function(d){return s.rc(d)?(ie("IndexedDbPersistence","Releasing primary lease."),c.delete(Ni.key)):Ye.resolve()})},a.prototype.cc=function(n,s){var c=Date.now();return!(n<c-s||n>c&&(Oe("Detected an update time that is in the future: "+n+" > "+c),1))},a.prototype.Ha=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){n.fn.ws(function(){return n.inForeground="visible"===n.document.visibilityState,n.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},a.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},a.prototype.Ya=function(){var n,s=this;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.La=function(){s._c(),s.fn.ws(function(){return s.Di()})},this.window.addEventListener("unload",this.La))},a.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},a.prototype.lc=function(n){var s;try{var c=null!==(null===(s=this.Ga)||void 0===s?void 0:s.getItem(this.hc(n)));return ie("IndexedDbPersistence","Client '"+n+"' "+(c?"is":"is not")+" zombied in LocalStorage"),c}catch(d){return Oe("IndexedDbPersistence","Failed to get zombied client id.",d),!1}},a.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(n){Oe("Failed to set zombie client id.",n)}},a.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(n){}},a.prototype.hc=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},a}();function ll(a){return qi.Qn(a,Ni.store)}function Xl(a){return qi.Qn(a,co.store)}var ec=function(){function a(n,s){this.db=n,this.wo=new Kl(this,s)}return a.prototype.Po=function(n){var s=this.Rc(n);return this.db.Tc().ba(n).next(function(c){return s.next(function(d){return c+d})})},a.prototype.Rc=function(n){var s=0;return this.Vo(n,function(c){s++}).next(function(){return s})},a.prototype.Ce=function(n,s){return this.db.Tc().Ce(n,s)},a.prototype.Vo=function(n,s){return this.gc(n,function(c,d){return s(d)})},a.prototype.Da=function(n,s,c){return ri(n,c)},a.prototype.Na=function(n,s,c){return ri(n,c)},a.prototype.po=function(n,s,c){return this.db.Tc().po(n,s,c)},a.prototype.Go=function(n,s){return ri(n,s)},a.prototype.Pc=function(n,s){return d=s,y=!1,Ql(c=n).os(function(w){return Ts(c,w,d).next(function(D){return D&&(y=!0),Ye.resolve(!D)})}).next(function(){return y});var c,d,y},a.prototype.bo=function(n,s){var c=this,d=this.db.Ec().ra(),y=[],w=0;return this.gc(n,function(D,N){if(N<=s){var B=c.Pc(n,D).next(function(W){if(!W)return w++,d.Rr(n,D).next(function(){return d.Ar(D),_i(n).delete([0,ti(D.path)])})});y.push(B)}}).next(function(){return Ye.$n(y)}).next(function(){return d.apply(n)}).next(function(){return w})},a.prototype.removeTarget=function(n,s){var c=s.st(n.xa);return this.db.Tc().ya(n,c)},a.prototype.yc=function(n,s){return ri(n,s)},a.prototype.gc=function(n,s){var c,d=_i(n),y=ei.ai;return d.rs({index:Gr.documentTargetsIndex},function(w,D){var B=D.path,W=D.sequenceNumber;0===w[0]?(y!==ei.ai&&s(new R(yi(c)),y),y=W,c=B):y=ei.ai}).next(function(){y!==ei.ai&&s(new R(yi(c)),y)})},a.prototype.So=function(n){return this.db.Ec().aa(n)},a}();function ri(a,n){return _i(a).put((c=a.xa,new Gr(0,ti(n.path),c)));var c}function Ou(a,n){var s=a.projectId;return a.j||(s+="."+a.database),"firestore/"+n+"/"+s+"/"}var Pr=function(){function a(n,s,c){this.persistence=n,this.Vc=s,this.bc=new Qn(it),this.vc=new En(function(d){return ct(d)},Et),this.Sc=Ot.min(),this.Sr=n.mc(c),this.Dc=n.Ec(),this.Ka=n.Tc(),this.Cc=new La(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return a.prototype.Io=function(n){var s=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return n.vo(c,s.bc)})},a}();function xd(a,n){var s=me(a);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var w,D,N,B,W,re,te,d=n.batch.keys(),y=s.Dc.ra({oa:!0});return(w=s,D=c,N=n,B=y,W=N.batch,re=W.keys(),te=Ye.resolve(),re.forEach(function(he){te=te.next(function(){return B.Rr(D,he)}).next(function(Se){var ke=Se,dt=N.dr.get(he);ve(null!==dt),(!ke||ke.version.L(dt)<0)&&(ke=W.cr(he,ke,N))&&B.Er(ke,N._r)})}),te.next(function(){return w.Sr.Wo(D,W)})).next(function(){return y.apply(c)}).next(function(){return s.Sr.zo(c)}).next(function(){return s.Cc.kr(c,d)})})}function Ga(a){var n=me(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",function(s){return n.Ka.Ea(s)})}function tc(a,n){var s=me(a),c=n.nt,d=s.bc;return s.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var w=s.Dc.ra({oa:!0});d=s.bc;var D=[];n.zt.forEach(function(re,te){var dt,ft,Ct,he=d.get(te);if(he){D.push(s.Ka.Ca(y,re.se,te).next(function(){return s.Ka.Sa(y,re.ee,te)}));var Se=re.resumeToken;if(Se.O()>0){var ke=he.it(Se,c).st(y.xa);d=d.ot(te,ke),dt=he,Ct=re,ve((ft=ke).resumeToken.O()>0),(0===dt.resumeToken.O()||ft.nt.X()-dt.nt.X()>=3e8||Ct.ee.size+Ct.ne.size+Ct.se.size>0)&&D.push(s.Ka.ya(y,ke))}}});var N=xr(),B=rn();if(n.Yt.forEach(function(re,te){B=B.add(re)}),D.push(w.getEntries(y,B).next(function(re){n.Yt.forEach(function(te,he){var Se=re.get(te);he instanceof Pn&&he.version.isEqual(Ot.min())?(w.Ar(te,c),N=N.ot(te,he)):null==Se||he.version.L(Se.version)>0||0===he.version.L(Se.version)&&Se.hasPendingWrites?(w.Er(he,c),N=N.ot(te,he)):ie("LocalStore","Ignoring outdated watch update for ",te,". Current version:",Se.version," Watch version:",he.version),n.Jt.has(te)&&D.push(s.persistence.No.yc(y,te))})})),!c.isEqual(Ot.min())){var W=s.Ka.Ea(y).next(function(re){return s.Ka.Aa(y,y.xa,c)});D.push(W)}return Ye.$n(D).next(function(){return w.apply(y)}).next(function(){return s.Cc.Mr(y,N)})}).then(function(y){return s.bc=d,y})}function nc(a,n){var s=me(a);return s.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===n&&(n=-1),s.Sr.Bo(c,n)})}function ns(a,n){var s=me(a);return s.persistence.runTransaction("Allocate target","readwrite",function(c){var d;return s.Ka.va(c,n).next(function(y){return y?Ye.resolve(d=y):s.Ka.wa(c).next(function(w){return d=new vn(n,w,0,c.xa),s.Ka.Ra(c,d).next(function(){return d})})})}).then(function(c){var d=s.bc.get(c.targetId);return(null===d||c.nt.L(d.nt)>0)&&(s.bc=s.bc.ot(c.targetId,c),s.vc.set(n,c.targetId)),c})}function $a(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y,w;return v.__generator(this,function(D){switch(D.label){case 0:c=me(a),d=c.bc.get(n),y=s?"readwrite":"readwrite-primary",D.label=1;case 1:return D.trys.push([1,4,,5]),s?[3,3]:[4,c.persistence.runTransaction("Release target",y,function(N){return c.persistence.No.removeTarget(N,d)})];case 2:D.sent(),D.label=3;case 3:return[3,5];case 4:if(!uo(w=D.sent()))throw w;return ie("LocalStore","Failed to update sequence numbers for target "+n+": "+w),[3,5];case 5:return c.bc=c.bc.remove(n),c.vc.delete(d.target),[2]}})})}function cl(a,n,s){var c=me(a),d=Ot.min(),y=rn();return c.persistence.runTransaction("Execute query","readonly",function(w){return(D=c,N=w,B=Zr(n),W=me(D),re=W.vc.get(B),void 0!==re?Ye.resolve(W.bc.get(re)):W.Ka.va(N,B)).next(function(D){if(D)return d=D.lastLimboFreeSnapshotVersion,c.Ka.Fa(w,D.targetId).next(function(N){y=N})}).next(function(){return c.Vc.Lr(w,n,s?d:Ot.min(),s?y:rn())}).next(function(D){return{documents:D,Fc:y}});var D,N,B,W,re})}function fl(a,n){var s=me(a),c=me(s.Ka),d=s.bc.get(n);return d?Promise.resolve(d.target):s.persistence.runTransaction("Get target data","readonly",function(y){return c.Ue(y,n).next(function(w){return w?w.target:null})})}function rc(a){var n=me(a);return n.persistence.runTransaction("Get new document changes","readonly",function(s){return d=s,y=n.Sc,w=me(n.Dc),D=xr(),N=Ua(y),B=xo(d),W=IDBKeyRange.lowerBound(N,!0),B.rs({index:nr.readTimeIndex,range:W},function(re,te){var he=Su(w.serializer,te);D=D.ot(he.key,he),N=te.readTime}).next(function(){return{xc:D,readTime:Jc(N)}});var d,y,w,D,N,B,W}).then(function(s){var c=s.xc;return n.Sc=s.readTime,c})}function Pu(a){return v.__awaiter(this,void 0,void 0,function(){var n;return v.__generator(this,function(s){return[2,(n=me(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return y=xo(c),w=Ot.min(),y.rs({index:nr.readTimeIndex,reverse:!0},function(D,N,B){N.readTime&&(w=Jc(N.readTime)),B.done()}).next(function(){return w});var y,w}).then(function(c){n.Sc=c})]})})}function ta(a){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){if(a.code!==q.FAILED_PRECONDITION||a.message!==xa)throw a;return ie("LocalStore","Unexpectedly lost primary lease"),[2]})})}var rs=function(){function a(){this.$c=new Zn(Sr.kc),this.Mc=new Zn(Sr.Oc)}return a.prototype.m=function(){return this.$c.m()},a.prototype.Da=function(n,s){var c=new Sr(n,s);this.$c=this.$c.add(c),this.Mc=this.Mc.add(c)},a.prototype.Lc=function(n,s){var c=this;n.forEach(function(d){return c.Da(d,s)})},a.prototype.Na=function(n,s){this.Bc(new Sr(n,s))},a.prototype.qc=function(n,s){var c=this;n.forEach(function(d){return c.Na(d,s)})},a.prototype.Uc=function(n){var s=this,c=new R(new L([])),d=new Sr(c,n),y=new Sr(c,n+1),w=[];return this.Mc.Ft([d,y],function(D){s.Bc(D),w.push(D.key)}),w},a.prototype.Qc=function(){var n=this;this.$c.forEach(function(s){return n.Bc(s)})},a.prototype.Bc=function(n){this.$c=this.$c.delete(n),this.Mc=this.Mc.delete(n)},a.prototype.Wc=function(n){var s=new R(new L([])),c=new Sr(s,n),d=new Sr(s,n+1),y=rn();return this.Mc.Ft([c,d],function(w){y=y.add(w.key)}),y},a.prototype.Ho=function(n){var s=new Sr(n,0),c=this.$c.$t(s);return null!==c&&n.isEqual(c.key)},a}(),Sr=function(){function a(n,s){this.key=n,this.jc=s}return a.kc=function(n,s){return R.i(n.key,s.key)||it(n.jc,s.jc)},a.Oc=function(n,s){return it(n.jc,s.jc)||R.i(n.key,s.key)},a}(),Lo=function(a,n){this.user=n,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+a},ic=function(){function a(){this.Gc=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.zc=function(){},a.prototype.Hc=function(n){this.Gc=n,n(Xr.UNAUTHENTICATED)},a.prototype.Yc=function(){this.Gc=null},a}(),th=function(){function a(n){var s=this;this.Jc=null,this.currentUser=Xr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){s.Zc++,s.currentUser=s.tu(),s.Xc=!0,s.Gc&&s.Gc(s.currentUser)},this.Zc=0,this.auth=n.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),n.get().then(function(c){s.auth=c,s.Jc&&s.auth.addAuthTokenListener(s.Jc)},function(){}))}return a.prototype.getToken=function(){var n=this,s=this.Zc,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(function(d){return n.Zc!==s?(ie("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):d?(ve("string"==typeof d.accessToken),new Lo(d.accessToken,n.currentUser)):null}):Promise.resolve(null)},a.prototype.zc=function(){this.forceRefresh=!0},a.prototype.Hc=function(n){this.Gc=n,this.Xc&&n(this.currentUser)},a.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},a.prototype.tu=function(){var n=this.auth&&this.auth.getUid();return ve(null===n||"string"==typeof n),new Xr(n)},a}(),nh=function(){function a(n,s){this.eu=n,this.nu=s,this.type="FirstParty",this.user=Xr.ni}return Object.defineProperty(a.prototype,"Kc",{get:function(){var n={"X-Goog-AuthUser":this.nu},s=this.eu.auth.getAuthHeaderValueForFirstParty([]);return s&&(n.Authorization=s),n},enumerable:!1,configurable:!0}),a}(),oc=function(){function a(n,s){this.eu=n,this.nu=s}return a.prototype.getToken=function(){return Promise.resolve(new nh(this.eu,this.nu))},a.prototype.Hc=function(n){n(Xr.ni)},a.prototype.Yc=function(){},a.prototype.zc=function(){},a}(),nf=function(){function a(n,s,c,d,y,w){this.fn=n,this.su=c,this.iu=d,this.ru=y,this.listener=w,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new No(n,s)}return a.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.uu=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.hu()},a.prototype.stop=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){switch(n.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},a.prototype.lu=function(){this.state=0,this.ys.reset()},a.prototype._u=function(){var n=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return n.fu()}))},a.prototype.du=function(n){this.wu(),this.stream.send(n)},a.prototype.fu=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){return this.uu()?[2,this.close(0)]:[2]})})},a.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},a.prototype.close=function(n,s){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(c){switch(c.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==n?this.ys.reset():s&&s.code===q.RESOURCE_EXHAUSTED?(Oe(s.toString()),Oe("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):s&&s.code===q.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.Tu(s)];case 1:return c.sent(),[2]}})})},a.prototype.mu=function(){},a.prototype.auth=function(){var n=this;this.state=1;var s=this.Eu(this.ou),c=this.ou;this.ru.getToken().then(function(d){n.ou===c&&n.Iu(d)},function(d){s(function(){var y=new Y(q.UNKNOWN,"Fetching auth token failed: "+d.message);return n.Au(y)})})},a.prototype.Iu=function(n){var s=this,c=this.Eu(this.ou);this.stream=this.Ru(n),this.stream.gu(function(){c(function(){return s.state=2,s.listener.gu()})}),this.stream.Tu(function(d){c(function(){return s.Au(d)})}),this.stream.onMessage(function(d){c(function(){return s.onMessage(d)})})},a.prototype.hu=function(){var n=this;this.state=4,this.ys.gn(function(){return v.__awaiter(n,void 0,void 0,function(){return v.__generator(this,function(s){return this.state=0,this.start(),[2]})})})},a.prototype.Au=function(n){return ie("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},a.prototype.Eu=function(n){var s=this;return function(c){s.fn.ws(function(){return s.ou===n?c():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),Ru=function(a){function n(s,c,d,y,w){var D=this;return(D=a.call(this,s,"listen_stream_connection_backoff","listen_stream_idle",c,d,w)||this).serializer=y,D}return v.__extends(n,a),n.prototype.Ru=function(s){return this.iu.Pu("Listen",s)},n.prototype.onMessage=function(s){this.ys.reset();var c=function(y,w){var D,Ri;if("targetChange"in w){var N="NO_CHANGE"===(Ri=w.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ri?1:"REMOVE"===Ri?2:"CURRENT"===Ri?3:"RESET"===Ri?4:we(),B=w.targetChange.targetIds||[],W=function(Ri,cs){return Ri.Qe?(ve(void 0===cs||"string"==typeof cs),Wt.fromBase64String(cs||"")):(ve(void 0===cs||cs instanceof Uint8Array),Wt.fromUint8Array(cs||new Uint8Array))}(y,w.targetChange.resumeToken),re=w.targetChange.cause,te=re&&function(Ri){var cs=void 0===Ri.code?q.UNKNOWN:si(Ri.code);return new Y(cs,Ri.message||"")}(re);D=new Xt(N,B,W,te||null)}else if("documentChange"in w){var he=w.documentChange,Se=wn(y,he.document.name),ke=On(he.document.updateTime),dt=new $n({mapValue:{fields:he.document.fields}}),ft=new Zt(Se,ke,dt,{});D=new ro(he.targetIds||[],he.removedTargetIds||[],ft.key,ft)}else if("documentDelete"in w){var tn=w.documentDelete,Dn=wn(y,tn.document),xn=tn.readTime?On(tn.readTime):Ot.min(),po=new Pn(Dn,xn);D=new ro([],tn.removedTargetIds||[],po.key,po)}else if("documentRemove"in w){var ha=w.documentRemove,da=wn(y,ha.document);D=new ro([],ha.removedTargetIds||[],da,null)}else{if(!("filter"in w))return we();var pa=w.filter,Ac=new Ut(pa.count||0);D=new di(pa.targetId,Ac)}return D}(this.serializer,s),d=function(y){if(!("targetChange"in y))return Ot.min();var w=y.targetChange;return w.targetIds&&w.targetIds.length?Ot.min():w.readTime?On(w.readTime):Ot.min()}(s);return this.listener.yu(c,d)},n.prototype.Vu=function(s){var y,w,D,N,c={};c.database=ki(this.serializer),c.addTarget=(y=this.serializer,(D=bt(N=(w=s).target)?{documents:vu(y,N)}:{query:$s(y,N)}).targetId=w.targetId,w.resumeToken.O()>0&&(D.resumeToken=Tr(y,w.resumeToken)),D);var d=function(y,w){var D=function(N,B){switch(B){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,w.et);return null==D?null:{"goog-listen-tags":D}}(0,s);d&&(c.labels=d),this.du(c)},n.prototype.pu=function(s){var c={};c.database=ki(this.serializer),c.removeTarget=s,this.du(c)},n}(nf),rf=function(a){function n(s,c,d,y,w){var D=this;return(D=a.call(this,s,"write_stream_connection_backoff","write_stream_idle",c,d,w)||this).serializer=y,D.bu=!1,D}return v.__extends(n,a),Object.defineProperty(n.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},n.prototype.mu=function(){this.bu&&this.Su([])},n.prototype.Ru=function(s){return this.iu.Pu("Write",s)},n.prototype.onMessage=function(s){if(ve(!!s.streamToken),this.lastStreamToken=s.streamToken,this.bu){this.ys.reset();var c=(w=s.commitTime,(y=s.writeResults)&&y.length>0?(ve(void 0!==w),y.map(function(D){return function(N,B){var W=On(N.updateTime?N.updateTime:B);W.isEqual(Ot.min())&&(W=On(B));var re=null;return N.transformResults&&N.transformResults.length>0&&(re=N.transformResults),new Ia(W,re)}(D,w)})):[]),d=On(s.commitTime);return this.listener.Du(d,c)}var y,w;return ve(!s.writeResults||0===s.writeResults.length),this.bu=!0,this.listener.Cu()},n.prototype.Nu=function(){var s={};s.database=ki(this.serializer),this.du(s)},n.prototype.Su=function(s){var c=this,d={streamToken:this.lastStreamToken,writes:s.map(function(y){return Si(c.serializer,y)})};this.du(d)},n}(nf),of=function(a){function n(s,c,d){var y=this;return(y=a.call(this)||this).credentials=s,y.iu=c,y.serializer=d,y.Fu=!1,y}return v.__extends(n,a),n.prototype.xu=function(){if(this.Fu)throw new Y(q.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.$u=function(s,c,d){var y=this;return this.xu(),this.credentials.getToken().then(function(w){return y.iu.$u(s,c,d,w)}).catch(function(w){throw w.code===q.UNAUTHENTICATED&&y.credentials.zc(),w})},n.prototype.ku=function(s,c,d){var y=this;return this.xu(),this.credentials.getToken().then(function(w){return y.iu.ku(s,c,d,w)}).catch(function(w){throw w.code===q.UNAUTHENTICATED&&y.credentials.zc(),w})},n.prototype.terminate=function(){this.Fu=!1},n}(function(){}),zr=function(){function a(n,s){this.cs=n,this.di=s,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return a.prototype.Bu=function(){var n=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return n.Ou=null,n.Uu("Backend didn't respond within 10 seconds."),n.qu("Offline"),Promise.resolve()}))},a.prototype.Qu=function(n){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+n.toString()),this.qu("Offline")))},a.prototype.set=function(n){this.Wu(),this.Mu=0,"Online"===n&&(this.Lu=!1),this.qu(n)},a.prototype.qu=function(n){n!==this.state&&(this.state=n,this.di(n))},a.prototype.Uu=function(n){var s="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(Oe(s),this.Lu=!1):ie("OnlineStateTracker",s)},a.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},a}(),sf=function(a,n,s,c,d){var y=this;this.ju=a,this.Ku=n,this.cs=s,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=d,this.Xu.Zu(function(w){s.ws(function(){return v.__awaiter(y,void 0,void 0,function(){return v.__generator(this,function(D){switch(D.label){case 0:return Oi(this)?(ie("RemoteStore","Restarting streams for network reachability change."),[4,function(N){return v.__awaiter(this,void 0,void 0,function(){var B;return v.__generator(this,function(W){switch(W.label){case 0:return(B=me(N)).Yu.add(4),[4,ko(B)];case 1:return W.sent(),B.th.set("Unknown"),B.Yu.delete(4),[4,hl(B)];case 2:return W.sent(),[2]}})})}(this)]):[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})})}),this.th=new zr(s,c)};function hl(a){return v.__awaiter(this,void 0,void 0,function(){var n,s;return v.__generator(this,function(c){switch(c.label){case 0:if(!Oi(a))return[3,4];n=0,s=a.Ju,c.label=1;case 1:return n<s.length?[4,(0,s[n])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ko(a){return v.__awaiter(this,void 0,void 0,function(){var n,s;return v.__generator(this,function(c){switch(c.label){case 0:n=0,s=a.Ju,c.label=1;case 1:return n<s.length?[4,(0,s[n])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function za(a){return v.__awaiter(this,void 0,void 0,function(){var n;return v.__generator(this,function(s){switch(s.label){case 0:return n=me(a),ie("RemoteStore","RemoteStore shutting down."),n.Yu.add(5),[4,ko(n)];case 1:return s.sent(),n.Xu.Di(),n.th.set("Unknown"),[2]}})})}function dl(a,n){var s=me(a);s.Hu.has(n.targetId)||(s.Hu.set(n.targetId,n),pl(s)?is(s):li(s).uu()&&sc(s,n))}function qa(a,n){var s=me(a),c=li(s);s.Hu.delete(n),c.uu()&&xu(s,n),0===s.Hu.size&&(c.uu()?c._u():Oi(s)&&s.th.set("Unknown"))}function sc(a,n){a.eh.Ie(n.targetId),li(a).Vu(n)}function xu(a,n){a.eh.Ie(n),li(a).pu(n)}function is(a){a.eh=new Di({qe:function(n){return a.Gu.qe(n)},Ue:function(n){return a.Hu.get(n)||null}}),li(a).start(),a.th.Bu()}function pl(a){return Oi(a)&&!li(a).cu()&&a.Hu.size>0}function Oi(a){return 0===me(a).Yu.size}function ac(a){a.eh=void 0}function Ns(a){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){return a.Hu.forEach(function(s,c){sc(a,s)}),[2]})})}function Wi(a,n){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(s){return ac(a),pl(a)?(a.th.Qu(n),is(a)):a.th.set("Unknown"),[2]})})}function gl(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y;return v.__generator(this,function(w){switch(w.label){case 0:if(a.th.set("Online"),!(n instanceof Xt&&2===n.state&&n.cause))return[3,6];w.label=1;case 1:return w.trys.push([1,3,,5]),[4,function(D,N){return v.__awaiter(this,void 0,void 0,function(){var B,W,re,te;return v.__generator(this,function(he){switch(he.label){case 0:B=N.cause,W=0,re=N.targetIds,he.label=1;case 1:return W<re.length?D.Hu.has(te=re[W])?[4,D.Gu.nh(te,B)]:[3,3]:[3,5];case 2:he.sent(),D.Hu.delete(te),D.eh.removeTarget(te),he.label=3;case 3:he.label=4;case 4:return W++,[3,1];case 5:return[2]}})})}(a,n)];case 2:return w.sent(),[3,5];case 3:return c=w.sent(),ie("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),c),[4,Wa(a,c)];case 4:return w.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof ro?a.eh.be(n):n instanceof di?a.eh.$e(n):a.eh.De(n),s.isEqual(Ot.min()))return[3,13];w.label=7;case 7:return w.trys.push([7,11,,13]),[4,Ga(a.ju)];case 8:return d=w.sent(),s.L(d)>=0?[4,(D=a,N=s,B=D.eh.Oe(N),B.zt.forEach(function(W,re){if(W.resumeToken.O()>0){var te=D.Hu.get(re);te&&D.Hu.set(re,te.it(W.resumeToken,N))}}),B.Ht.forEach(function(W){var re=D.Hu.get(W);if(re){D.Hu.set(W,re.it(Wt.B,re.nt)),xu(D,W);var te=new vn(re.target,W,1,re.sequenceNumber);sc(D,te)}}),D.Gu.sh(B))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,13];case 11:return ie("RemoteStore","Failed to raise snapshot:",y=w.sent()),[4,Wa(a,y)];case 12:return w.sent(),[3,13];case 13:return[2]}var D,N,B})})}function Wa(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c=this;return v.__generator(this,function(d){switch(d.label){case 0:if(!uo(n))throw n;return a.Yu.add(1),[4,ko(a)];case 1:return d.sent(),a.th.set("Offline"),s||(s=function(){return Ga(a.ju)}),a.cs.Cs(function(){return v.__awaiter(c,void 0,void 0,function(){return v.__generator(this,function(y){switch(y.label){case 0:return ie("RemoteStore","Retrying IndexedDB access"),[4,s()];case 1:return y.sent(),a.Yu.delete(1),[4,hl(a)];case 2:return y.sent(),[2]}})})}),[2]}})})}function af(a,n){return n().catch(function(s){return Wa(a,s,n)})}function Ka(a){return v.__awaiter(this,void 0,void 0,function(){var n,s,c,d,y;return v.__generator(this,function(w){switch(w.label){case 0:n=me(a),s=ss(n),c=n.zu.length>0?n.zu[n.zu.length-1].batchId:-1,w.label=1;case 1:if(!(Oi(D=n)&&D.zu.length<10))return[3,7];w.label=2;case 2:return w.trys.push([2,4,,6]),[4,nc(n.ju,c)];case 3:return null===(d=w.sent())?(0===n.zu.length&&s._u(),[3,7]):(c=d.batchId,function(D,N){D.zu.push(N);var B=ss(D);B.uu()&&B.vu&&B.Su(N.mutations)}(n,d),[3,6]);case 4:return y=w.sent(),[4,Wa(n,y)];case 5:return w.sent(),[3,6];case 6:return[3,1];case 7:return na(n)&&os(n),[2]}var D})})}function na(a){return Oi(a)&&!ss(a).cu()&&a.zu.length>0}function os(a){ss(a).start()}function Os(a){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){return ss(a).Nu(),[2]})})}function rh(a){return v.__awaiter(this,void 0,void 0,function(){var n,s,c;return v.__generator(this,function(y){for(n=ss(a),s=0,c=a.zu;s<c.length;s++)n.Su(c[s].mutations);return[2]})})}function qr(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d;return v.__generator(this,function(y){switch(y.label){case 0:return c=a.zu.shift(),d=Mi.from(c,n,s),[4,af(a,function(){return a.Gu.ih(d)})];case 1:return y.sent(),[4,Ka(a)];case 2:return y.sent(),[2]}})})}function Ps(a,n){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(s){switch(s.label){case 0:return n&&ss(a).vu?[4,function(c,d){return v.__awaiter(this,void 0,void 0,function(){var y,w;return v.__generator(this,function(D){switch(D.label){case 0:return qn(w=d.code)&&w!==q.ABORTED?(y=c.zu.shift(),ss(c).lu(),[4,af(c,function(){return c.Gu.rh(y.batchId,d)})]):[3,3];case 1:return D.sent(),[4,Ka(c)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}(a,n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return na(a)&&os(a),[2]}})})}function uf(a,n){return v.__awaiter(this,void 0,void 0,function(){var s;return v.__generator(this,function(d){switch(d.label){case 0:return s=me(a),n?(s.Yu.delete(2),[4,hl(s)]):[3,2];case 1:return d.sent(),[3,5];case 2:return n?[3,4]:(s.Yu.add(2),[4,ko(s)]);case 3:d.sent(),s.th.set("Unknown"),d.label=4;case 4:d.label=5;case 5:return[2]}})})}function li(a){var s,c,d,y,n=this;return a.oh||(a.oh=(s=a.Ku,c=a.cs,d={gu:Ns.bind(null,a),Tu:Wi.bind(null,a),yu:gl.bind(null,a)},(y=me(s)).xu(),new Ru(c,y.iu,y.credentials,y.serializer,d)),a.Ju.push(function(s){return v.__awaiter(n,void 0,void 0,function(){return v.__generator(this,function(c){switch(c.label){case 0:return s?(a.oh.lu(),pl(a)?is(a):a.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.oh.stop()];case 2:c.sent(),ac(a),c.label=3;case 3:return[2]}})})})),a.oh}function ss(a){var s,c,d,y,n=this;return a.ah||(a.ah=(s=a.Ku,c=a.cs,d={gu:Os.bind(null,a),Tu:Ps.bind(null,a),Cu:rh.bind(null,a),Du:qr.bind(null,a)},(y=me(s)).xu(),new rf(c,y.iu,y.credentials,y.serializer,d)),a.Ju.push(function(s){return v.__awaiter(n,void 0,void 0,function(){return v.__generator(this,function(c){switch(c.label){case 0:return s?(a.ah.lu(),[4,Ka(a)]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,a.ah.stop()];case 3:c.sent(),a.zu.length>0&&(ie("RemoteStore","Stopping write stream with "+a.zu.length+" pending writes"),a.zu=[]),c.label=4;case 4:return[2]}})})})),a.ah}var uc=function(a){this.key=a},Ya=function(a){this.key=a},Fu=function(){function a(n,s){this.query=n,this.uh=s,this.hh=null,this.te=!1,this.lh=rn(),this.Wt=rn(),this._h=ws(n),this.fh=new zo(this._h)}return Object.defineProperty(a.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),a.prototype.wh=function(n,s){var c=this,d=s?s.mh:new Fi,y=s?s.fh:this.fh,w=s?s.Wt:this.Wt,D=y,N=!1,B=Ma(this.query)&&y.size===this.query.limit?y.last():null,W=Yo(this.query)&&y.size===this.query.limit?y.first():null;if(n.ht(function(te,he){var Se=y.get(te),ke=he instanceof Zt?he:null;ke&&(ke=Br(c.query,ke)?ke:null);var dt=!!Se&&c.Wt.has(Se.key),ft=!!ke&&(ke.Je||c.Wt.has(ke.key)&&ke.hasCommittedMutations),Ct=!1;Se&&ke?Se.data().isEqual(ke.data())?dt!==ft&&(d.track({type:3,doc:ke}),Ct=!0):c.Th(Se,ke)||(d.track({type:2,doc:ke}),Ct=!0,(B&&c._h(ke,B)>0||W&&c._h(ke,W)<0)&&(N=!0)):!Se&&ke?(d.track({type:0,doc:ke}),Ct=!0):Se&&!ke&&(d.track({type:1,doc:Se}),Ct=!0,(B||W)&&(N=!0)),Ct&&(ke?(D=D.add(ke),w=ft?w.add(te):w.delete(te)):(D=D.delete(te),w=w.delete(te)))}),Ma(this.query)||Yo(this.query))for(;D.size>this.query.limit;){var re=Ma(this.query)?D.last():D.first();D=D.delete(re.key),w=w.delete(re.key),d.track({type:1,doc:re})}return{fh:D,mh:d,Eh:N,Wt:w}},a.prototype.Th=function(n,s){return n.Je&&s.hasCommittedMutations&&!s.Je},a.prototype.yr=function(n,s,c){var d=this,y=this.fh;this.fh=n.fh,this.Wt=n.Wt;var w=n.mh.Ut();w.sort(function(W,re){return he=re.type,(Se=function(ke){switch(ke){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}})(W.type)-Se(he)||d._h(W.doc,re.doc);var he,Se}),this.Ih(c);var D=s?this.Ah():[],N=0===this.lh.size&&this.te?1:0,B=N!==this.hh;return this.hh=N,0!==w.length||B?{snapshot:new bi(this.query,n.fh,y,w,n.Wt,0===N,B,!1),Rh:D}:{Rh:D}},a.prototype.Qs=function(n){return this.te&&"Offline"===n?(this.te=!1,this.yr({fh:this.fh,mh:new Fi,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},a.prototype.gh=function(n){return!this.uh.has(n)&&!!this.fh.has(n)&&!this.fh.get(n).Je},a.prototype.Ih=function(n){var s=this;n&&(n.ee.forEach(function(c){return s.uh=s.uh.add(c)}),n.ne.forEach(function(c){}),n.se.forEach(function(c){return s.uh=s.uh.delete(c)}),this.te=n.te)},a.prototype.Ah=function(){var n=this;if(!this.te)return[];var s=this.lh;this.lh=rn(),this.fh.forEach(function(d){n.gh(d.key)&&(n.lh=n.lh.add(d.key))});var c=[];return s.forEach(function(d){n.lh.has(d)||c.push(new Ya(d))}),this.lh.forEach(function(d){s.has(d)||c.push(new uc(d))}),c},a.prototype.Ph=function(n){this.uh=n.Fc,this.lh=rn();var s=this.wh(n.documents);return this.yr(s,!0)},a.prototype.yh=function(){return bi.Gt(this.query,this.fh,this.Wt,0===this.hh)},a}(),ra=function(a,n,s){this.query=a,this.targetId=n,this.view=s},lf=function(a){this.key=a,this.Vh=!1},cf=function(){function a(n,s,c,d,y,w){this.ju=n,this.ph=s,this.bh=c,this.Sh=d,this.currentUser=y,this.Dh=w,this.Ch={},this.Nh=new En(function(D){return ui(D)},bn),this.Fh=new Map,this.xh=[],this.$h=new Qn(R.i),this.kh=new Map,this.Mh=new rs,this.Oh={},this.Lh=new Map,this.Bh=$r.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(a.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),a}();function ih(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,d,y,w,D;return v.__generator(this,function(N){switch(N.label){case 0:return s=bl(a),(y=s.Nh.get(n))?(s.Sh.Oi(y.targetId),d=y.view.yh(),[3,4]):[3,1];case 1:return[4,ns(s.ju,Zr(n))];case 2:return w=N.sent(),D=s.Sh.Oi(w.targetId),[4,Vo(s,n,w.targetId,"current"===D)];case 3:d=N.sent(),s.Uh&&dl(s.ph,w),N.label=4;case 4:return[2,d]}})})}function Vo(a,n,s,c){return v.__awaiter(this,void 0,void 0,function(){var d,y,w,D,N,B;return v.__generator(this,function(W){switch(W.label){case 0:return a.Qh=function(re,te,he){return function(Se,ke,dt,ft){return v.__awaiter(this,void 0,void 0,function(){var Ct,kt,tn;return v.__generator(this,function(Dn){switch(Dn.label){case 0:return(Ct=ke.view.wh(dt)).Eh?[4,cl(Se.ju,ke.query,!1).then(function(xn){return ke.view.wh(xn.documents,Ct)})]:[3,2];case 1:Ct=Dn.sent(),Dn.label=2;case 2:return kt=ft&&ft.zt.get(ke.targetId),tn=ke.view.yr(Ct,Se.Uh,kt),[2,(fo(Se,ke.targetId,tn.Rh),tn.snapshot)]}})})}(a,re,te,he)},[4,cl(a.ju,n,!0)];case 1:return d=W.sent(),y=new Fu(n,d.Fc),w=y.wh(d.documents),D=qo.Zt(s,c&&"Offline"!==a.onlineState),N=y.yr(w,a.Uh,D),fo(a,s,N.Rh),B=new ra(n,s,y),[2,(a.Nh.set(n,B),a.Fh.has(s)?a.Fh.get(s).push(n):a.Fh.set(s,[n]),N.snapshot)]}})})}function ml(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d;return v.__generator(this,function(y){switch(y.label){case 0:return s=me(a),c=s.Nh.get(n),(d=s.Fh.get(c.targetId)).length>1?[2,(s.Fh.set(c.targetId,d.filter(function(w){return!bn(w,n)})),void s.Nh.delete(n))]:s.Uh?(s.Sh.Bi(c.targetId),s.Sh.Fi(c.targetId)?[3,2]:[4,$a(s.ju,c.targetId,!1).then(function(){s.Sh.Ui(c.targetId),qa(s.ph,c.targetId),ia(s,c.targetId)}).catch(ta)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return ia(s,c.targetId),[4,$a(s.ju,c.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function yl(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c;return v.__generator(this,function(d){switch(d.label){case 0:s=me(a),d.label=1;case 1:return d.trys.push([1,4,,6]),[4,tc(s.ju,n)];case 2:return c=d.sent(),n.zt.forEach(function(y,w){var D=s.kh.get(w);D&&(ve(y.ee.size+y.ne.size+y.se.size<=1),y.ee.size>0?D.Vh=!0:y.ne.size>0?ve(D.Vh):y.se.size>0&&(ve(D.Vh),D.Vh=!1))}),[4,Rs(s,c,n)];case 3:return d.sent(),[3,6];case 4:return[4,ta(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}})})}function vl(a,n,s){var c=me(a);if(c.Uh&&0===s||!c.Uh&&1===s){var d=[];c.Nh.forEach(function(y,w){var D=w.view.Qs(n);D.snapshot&&d.push(D.snapshot)}),function(y,w){var D=me(y);D.onlineState=w;var N=!1;D.Bs.forEach(function(B,W){for(var re=0,te=W.listeners;re<te.length;re++)te[re].Qs(w)&&(N=!0)}),N&&lo(D)}(c.bh,n),d.length&&c.Ch.yu(d),c.onlineState=n,c.Uh&&c.Sh.Ki(n)}}function lc(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y,w,D,N;return v.__generator(this,function(B){switch(B.label){case 0:return(c=me(a)).Sh.Qi(n,"rejected",s),d=c.kh.get(n),(y=d&&d.key)?(w=(w=new Qn(R.i)).ot(y,new Pn(y,Ot.min())),D=rn().add(y),N=new no(Ot.min(),new Map,new Zn(it),w,D),[4,yl(c,N)]):[3,2];case 1:return B.sent(),c.$h=c.$h.remove(y),c.kh.delete(n),El(c),[3,4];case 2:return[4,$a(c.ju,n,!1).then(function(){return ia(c,n,s)}).catch(ta)];case 3:B.sent(),B.label=4;case 4:return[2]}})})}function ff(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d;return v.__generator(this,function(y){switch(y.label){case 0:s=me(a),c=n.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,xd(s.ju,n)];case 2:return d=y.sent(),Lu(s,c,null),_l(s,c),s.Sh.ki(c,"acknowledged"),[4,Rs(s,d)];case 3:return y.sent(),[3,6];case 4:return[4,ta(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function hf(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d;return v.__generator(this,function(y){switch(y.label){case 0:c=me(a),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(w=c.ju,D=n,N=me(w),N.persistence.runTransaction("Reject batch","readwrite-primary",function(B){var W;return N.Sr.Oo(B,D).next(function(re){return ve(null!==re),W=re.keys(),N.Sr.Wo(B,re)}).next(function(){return N.Sr.zo(B)}).next(function(){return N.Cc.kr(B,W)})}))];case 2:return d=y.sent(),Lu(c,n,s),_l(c,n),c.Sh.ki(n,"rejected",s),[4,Rs(c,d)];case 3:return y.sent(),[3,6];case 4:return[4,ta(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var w,D,N})})}function _l(a,n){(a.Lh.get(n)||[]).forEach(function(s){s.resolve()}),a.Lh.delete(n)}function Lu(a,n,s){var c=me(a),d=c.Oh[c.currentUser.ti()];if(d){var y=d.get(n);y&&(s?y.reject(s):y.resolve(),d=d.remove(n)),c.Oh[c.currentUser.ti()]=d}}function ia(a,n,s){void 0===s&&(s=null),a.Sh.Bi(n);for(var c=0,d=a.Fh.get(n);c<d.length;c++){var y=d[c];a.Nh.delete(y),s&&a.Ch.Wh(y,s)}a.Fh.delete(n),a.Uh&&a.Mh.Uc(n).forEach(function(w){a.Mh.Ho(w)||wl(a,w)})}function wl(a,n){var s=a.$h.get(n);null!==s&&(qa(a.ph,s),a.$h=a.$h.remove(n),a.kh.delete(s),El(a))}function fo(a,n,s){for(var c=0,d=s;c<d.length;c++){var y=d[c];y instanceof uc?(a.Mh.Da(y.key,n),Qa(a,y)):y instanceof Ya?(ie("SyncEngine","Document no longer in limbo: "+y.key),a.Mh.Na(y.key,n),a.Mh.Ho(y.key)||wl(a,y.key)):we()}}function Qa(a,n){var s=n.key;a.$h.get(s)||(ie("SyncEngine","New document in limbo: "+s),a.xh.push(s),El(a))}function El(a){for(;a.xh.length>0&&a.$h.size<a.Dh;){var n=a.xh.shift(),s=a.Bh.next();a.kh.set(s,new lf(n)),a.$h=a.$h.ot(n,s),dl(a.ph,new vn(Zr(Dt(n.path)),s,2,ei.ai))}}function Rs(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y,w;return v.__generator(this,function(D){switch(D.label){case 0:return c=me(a),d=[],y=[],w=[],c.Nh.m()?[3,3]:(c.Nh.forEach(function(N,B){w.push(c.Qh(B,n,s).then(function(W){if(W){c.Uh&&c.Sh.Qi(B.targetId,W.fromCache?"not-current":"current"),d.push(W);var re=ka.zr(B.targetId,W);y.push(re)}}))}),[4,Promise.all(w)]);case 1:return D.sent(),c.Ch.yu(d),[4,function(N,B){return v.__awaiter(this,void 0,void 0,function(){var W,re,te,he,Se,ke,dt,Ct;return v.__generator(this,function(kt){switch(kt.label){case 0:W=me(N),kt.label=1;case 1:return kt.trys.push([1,3,,4]),[4,W.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(tn){return Ye.forEach(B,function(Dn){return Ye.forEach(Dn.Kr,function(xn){return W.persistence.No.Da(tn,Dn.targetId,xn)}).next(function(){return Ye.forEach(Dn.Gr,function(xn){return W.persistence.No.Na(tn,Dn.targetId,xn)})})})})];case 2:return kt.sent(),[3,4];case 3:if(!uo(re=kt.sent()))throw re;return ie("LocalStore","Failed to update sequence numbers: "+re),[3,4];case 4:for(te=0,he=B;te<he.length;te++)ke=(Se=he[te]).targetId,Se.fromCache||(dt=W.bc.get(ke),Ct=dt.rt(dt.nt),W.bc=W.bc.ot(ke,Ct));return[2]}})})}(c.ju,y)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}function cc(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c;return v.__generator(this,function(d){switch(d.label){case 0:return(s=me(a)).currentUser.isEqual(n)?[3,3]:(ie("SyncEngine","User change. New user:",n.ti()),[4,function(y,w){return v.__awaiter(this,void 0,void 0,function(){var D,N,B,W;return v.__generator(this,function(re){switch(re.label){case 0:return D=me(y),N=D.Sr,B=D.Cc,[4,D.persistence.runTransaction("Handle user change","readonly",function(te){var he;return D.Sr.Uo(te).next(function(Se){return he=Se,N=D.persistence.mc(w),B=new La(D.Dc,N,D.persistence.Ic()),N.Uo(te)}).next(function(Se){for(var ke=[],dt=[],ft=rn(),Ct=0,kt=he;Ct<kt.length;Ct++){var tn=kt[Ct];ke.push(tn.batchId);for(var Dn=0,xn=tn.mutations;Dn<xn.length;Dn++)ft=ft.add(xn[Dn].key)}for(var Yi=0,ha=Se;Yi<ha.length;Yi++){var da=ha[Yi];dt.push(da.batchId);for(var zu=0,pa=da.mutations;zu<pa.length;zu++)ft=ft.add(pa[zu].key)}return B.kr(te,ft).next(function(Ac){return{jh:Ac,Kh:ke,Gh:dt}})})})];case 1:return W=re.sent(),[2,(D.Sr=N,D.Cc=B,D.Vc.Nc(D.Cc),W)]}})})}(s.ju,n)]);case 1:return c=d.sent(),s.currentUser=n,(y=s).Lh.forEach(function(D){D.forEach(function(N){N.reject(new Y(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Lh.clear(),s.Sh.ji(n,c.Kh,c.Gh),[4,Rs(s,c.jh)];case 2:d.sent(),d.label=3;case 3:return[2]}var y})})}function oh(a,n){var s=me(a),c=s.kh.get(n);if(c&&c.Vh)return rn().add(c.key);var d=rn(),y=s.Fh.get(n);if(!y)return d;for(var w=0,D=y;w<D.length;w++){var B=s.Nh.get(D[w]);d=d.kt(B.view.dh)}return d}function sh(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d;return v.__generator(this,function(y){switch(y.label){case 0:return[4,cl((s=me(a)).ju,n.query,!0)];case 1:return c=y.sent(),d=n.view.Ph(c),[2,(s.Uh&&fo(s,n.targetId,d.Rh),d)]}})})}function ah(a,n,s,c){return v.__awaiter(this,void 0,void 0,function(){var d,y;return v.__generator(this,function(w){switch(w.label){case 0:return[4,(D=(d=me(a)).ju,N=n,B=me(D),W=me(B.Sr),B.persistence.runTransaction("Lookup mutation documents","readonly",function(re){return W.Lo(re,N).next(function(te){return te?B.Cc.kr(re,te):Ye.resolve(null)})}))];case 1:return null===(y=w.sent())?[3,6]:"pending"!==s?[3,3]:[4,Ka(d.ph)];case 2:return w.sent(),[3,4];case 3:"acknowledged"===s||"rejected"===s?(Lu(d,n,c||null),_l(d,n),function(D,N){me(me(D).Sr).Ko(N)}(d.ju,n)):we(),w.label=4;case 4:return[4,Rs(d,y)];case 5:return w.sent(),[3,7];case 6:ie("SyncEngine","Cannot apply mutation batch with id: "+n),w.label=7;case 7:return[2]}var D,N,B,W})})}function ii(a,n){return v.__awaiter(this,void 0,void 0,function(){var s,c,d,y,w,N,B;return v.__generator(this,function(W){switch(W.label){case 0:return bl(s=me(a)),xs(s),!0!==n||!0===s.qh?[3,3]:(c=s.Sh.Ci(),[4,as(s,c.A())]);case 1:return d=W.sent(),s.qh=!0,[4,uf(s.ph,!0)];case 2:for(W.sent(),y=0,w=d;y<w.length;y++)dl(s.ph,w[y]);return[3,7];case 3:return!1!==n||!1===s.qh?[3,7]:(N=[],B=Promise.resolve(),s.Fh.forEach(function(re,te){s.Sh.qi(te)?N.push(te):B=B.then(function(){return ia(s,te),$a(s.ju,te,!0)}),qa(s.ph,te)}),[4,B]);case 4:return W.sent(),[4,as(s,N)];case 5:return W.sent(),(te=me(s)).kh.forEach(function(he,Se){qa(te.ph,Se)}),te.Mh.Qc(),te.kh=new Map,te.$h=new Qn(R.i),s.qh=!1,[4,uf(s.ph,!1)];case 6:W.sent(),W.label=7;case 7:return[2]}var te})})}function as(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y,w,D,N,B,W,re,te,Se,ke,dt;return v.__generator(this,function(ft){switch(ft.label){case 0:c=me(a),d=[],y=[],w=0,D=n,ft.label=1;case 1:return w<D.length?(B=void 0,(W=c.Fh.get(N=D[w]))&&0!==W.length?[4,ns(c.ju,Zr(W[0]))]:[3,7]):[3,13];case 2:B=ft.sent(),re=0,te=W,ft.label=3;case 3:return re<te.length?(Se=c.Nh.get(te[re]),[4,sh(c,Se)]):[3,6];case 4:(ke=ft.sent()).snapshot&&y.push(ke.snapshot),ft.label=5;case 5:return re++,[3,3];case 6:return[3,11];case 7:return[4,fl(c.ju,N)];case 8:return dt=ft.sent(),[4,ns(c.ju,dt)];case 9:return B=ft.sent(),[4,Vo(c,fc(dt),N,!1)];case 10:ft.sent(),ft.label=11;case 11:d.push(B),ft.label=12;case 12:return w++,[3,1];case 13:return[2,(c.Ch.yu(y),d)]}})})}function fc(a){return _s(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Fd(a){var n=me(a);return me(me(n.ju).persistence).pi()}function Ld(a,n,s,c){return v.__awaiter(this,void 0,void 0,function(){var d,y,w;return v.__generator(this,function(D){switch(D.label){case 0:return(d=me(a)).qh?(ie("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!d.Fh.has(n))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rc(d.ju)];case 3:return y=D.sent(),w=no.Xt(n,"current"===s),[4,Rs(d,y,w)];case 4:return D.sent(),[3,8];case 5:return[4,$a(d.ju,n,!0)];case 6:return D.sent(),ia(d,n,c),[3,8];case 7:we(),D.label=8;case 8:return[2]}})})}function uh(a,n,s){return v.__awaiter(this,void 0,void 0,function(){var c,d,y,w,D,N,B,W,re;return v.__generator(this,function(he){switch(he.label){case 0:if(!(c=bl(a)).qh)return[3,10];d=0,y=n,he.label=1;case 1:return d<y.length?c.Fh.has(w=y[d])?(ie("SyncEngine","Adding an already active target "+w),[3,5]):[4,fl(c.ju,w)]:[3,6];case 2:return D=he.sent(),[4,ns(c.ju,D)];case 3:return N=he.sent(),[4,Vo(c,fc(D),N.targetId,!1)];case 4:he.sent(),dl(c.ph,N),he.label=5;case 5:return d++,[3,1];case 6:B=function(Se){return v.__generator(this,function(ke){switch(ke.label){case 0:return c.Fh.has(Se)?[4,$a(c.ju,Se,!1).then(function(){qa(c.ph,Se),ia(c,Se)}).catch(ta)]:[3,2];case 1:ke.sent(),ke.label=2;case 2:return[2]}})},W=0,re=s,he.label=7;case 7:return W<re.length?[5,B(re[W])]:[3,10];case 8:he.sent(),he.label=9;case 9:return W++,[3,7];case 10:return[2]}})})}function bl(a){var n=me(a);return n.ph.Gu.sh=yl.bind(null,n),n.ph.Gu.qe=oh.bind(null,n),n.ph.Gu.nh=lc.bind(null,n),n.Ch.yu=Hr.bind(null,n.bh),n.Ch.Wh=mi.bind(null,n.bh),n}function xs(a){var n=me(a);return n.ph.Gu.ih=ff.bind(null,n),n.ph.Gu.rh=hf.bind(null,n),n}var ku=function(){function a(){}return a.prototype.Nc=function(n){this.zh=n},a.prototype.Lr=function(n,s,c,d){var w,y=this;return 0===(w=s).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.on.length||1===w.on.length&&w.on[0].field.p())||c.isEqual(Ot.min())?this.Hh(n,s):this.zh.kr(n,d).next(function(w){var D=y.Yh(s,w);return(Ma(s)||Yo(s))&&y.Eh(s.an,D,d,c)?y.Hh(n,s):(Ie()<=ye.LogLevel.DEBUG&&ie("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),jr(s)),y.zh.Lr(n,s,c).next(function(N){return D.forEach(function(B){N=N.ot(B.key,B)}),N}))})},a.prototype.Yh=function(n,s){var c=new Zn(ws(n));return s.forEach(function(d,y){y instanceof Zt&&Br(n,y)&&(c=c.add(y))}),c},a.prototype.Eh=function(n,s,c,d){if(c.size!==s.size)return!0;var y="F"===n?s.last():s.first();return!!y&&(y.hasPendingWrites||y.version.L(d)>0)},a.prototype.Hh=function(n,s){return Ie()<=ye.LogLevel.DEBUG&&ie("IndexFreeQueryEngine","Using full collection scan to execute query:",jr(s)),this.zh.Lr(n,s,Ot.min())},a}(),Uo=function(){function a(n,s){this.Dr=n,this.No=s,this.Sr=[],this.Jh=1,this.Xh=new Zn(Sr.kc)}return a.prototype.$o=function(n){return Ye.resolve(0===this.Sr.length)},a.prototype.ko=function(n,s,c,d){var y=this.Jh;this.Jh++;var w=new Ss(y,s,c,d);this.Sr.push(w);for(var D=0,N=d;D<N.length;D++){var B=N[D];this.Xh=this.Xh.add(new Sr(B.key,y)),this.Dr.Mo(n,B.key.path.h())}return Ye.resolve(w)},a.prototype.Oo=function(n,s){return Ye.resolve(this.Zh(s))},a.prototype.Bo=function(n,s){var d=this.tl(s+1),y=d<0?0:d;return Ye.resolve(this.Sr.length>y?this.Sr[y]:null)},a.prototype.qo=function(){return Ye.resolve(0===this.Sr.length?-1:this.Jh-1)},a.prototype.Uo=function(n){return Ye.resolve(this.Sr.slice())},a.prototype.Nr=function(n,s){var c=this,d=new Sr(s,0),y=new Sr(s,Number.POSITIVE_INFINITY),w=[];return this.Xh.Ft([d,y],function(D){var N=c.Zh(D.jc);w.push(N)}),Ye.resolve(w)},a.prototype.Or=function(n,s){var c=this,d=new Zn(it);return s.forEach(function(y){var w=new Sr(y,0),D=new Sr(y,Number.POSITIVE_INFINITY);c.Xh.Ft([w,D],function(N){d=d.add(N.jc)})}),Ye.resolve(this.el(d))},a.prototype.Wr=function(n,s){var c=s.path,d=c.length+1,y=c;R.F(y)||(y=y.child(""));var w=new Sr(new R(y),0),D=new Zn(it);return this.Xh.xt(function(N){var B=N.key.path;return!!c.T(B)&&(B.length===d&&(D=D.add(N.jc)),!0)},w),Ye.resolve(this.el(D))},a.prototype.el=function(n){var s=this,c=[];return n.forEach(function(d){var y=s.Zh(d);null!==y&&c.push(y)}),c},a.prototype.Wo=function(n,s){var c=this;ve(0===this.nl(s.batchId,"removed")),this.Sr.shift();var d=this.Xh;return Ye.forEach(s.mutations,function(y){var w=new Sr(y.key,s.batchId);return d=d.delete(w),c.No.Go(n,y.key)}).next(function(){c.Xh=d})},a.prototype.Ko=function(n){},a.prototype.Ho=function(n,s){var c=new Sr(s,0),d=this.Xh.$t(c);return Ye.resolve(s.isEqual(d&&d.key))},a.prototype.zo=function(n){return Ye.resolve()},a.prototype.nl=function(n,s){return this.tl(n)},a.prototype.tl=function(n){return 0===this.Sr.length?0:n-this.Sr[0].batchId},a.prototype.Zh=function(n){var s=this.tl(n);return s<0||s>=this.Sr.length?null:this.Sr[s]},a}(),oa=function(){function a(n,s){this.Dr=n,this.sl=s,this.docs=new Qn(R.i),this.size=0}return a.prototype.Er=function(n,s,c){var d=s.key,y=this.docs.get(d),w=y?y.size:0,D=this.sl(s);return this.docs=this.docs.ot(d,{ta:s,size:D,readTime:c}),this.size+=D-w,this.Dr.Mo(n,d.path.h())},a.prototype.Ar=function(n){var s=this.docs.get(n);s&&(this.docs=this.docs.remove(n),this.size-=s.size)},a.prototype.Rr=function(n,s){var c=this.docs.get(s);return Ye.resolve(c?c.ta:null)},a.prototype.getEntries=function(n,s){var c=this,d=or();return s.forEach(function(y){var w=c.docs.get(y);d=d.ot(y,w?w.ta:null)}),Ye.resolve(d)},a.prototype.Lr=function(n,s,c){for(var d=to(),y=new R(s.path.child("")),w=this.docs.ft(y);w.At();){var D=w.It(),B=D.value,W=B.ta,re=B.readTime;if(!s.path.T(D.key.path))break;re.L(c)<=0||W instanceof Zt&&Br(s,W)&&(d=d.ot(W.key,W))}return Ye.resolve(d)},a.prototype.il=function(n,s){return Ye.forEach(this.docs,function(c){return s(c)})},a.prototype.ra=function(n){return new df(this)},a.prototype.aa=function(n){return Ye.resolve(this.size)},a}(),df=function(a){function n(s){var c=this;return(c=a.call(this)||this).ca=s,c}return v.__extends(n,a),n.prototype.yr=function(s){var c=this,d=[];return this.wr.forEach(function(y,w){w?d.push(c.ca.Er(s,w,c.readTime)):c.ca.Ar(y)}),Ye.$n(d)},n.prototype.gr=function(s,c){return this.ca.Rr(s,c)},n.prototype.Pr=function(s,c){return this.ca.getEntries(s,c)},n}(Du),lh=function(){function a(n){this.persistence=n,this.rl=new En(function(s){return ct(s)},Et),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.ol=0,this.al=new rs,this.targetCount=0,this.cl=$r.fa()}return a.prototype.Ce=function(n,s){return this.rl.forEach(function(c,d){return s(d)}),Ye.resolve()},a.prototype.Ea=function(n){return Ye.resolve(this.lastRemoteSnapshotVersion)},a.prototype.Ia=function(n){return Ye.resolve(this.ol)},a.prototype.wa=function(n){return this.highestTargetId=this.cl.next(),Ye.resolve(this.highestTargetId)},a.prototype.Aa=function(n,s,c){return c&&(this.lastRemoteSnapshotVersion=c),s>this.ol&&(this.ol=s),Ye.resolve()},a.prototype.ga=function(n){this.rl.set(n.target,n);var s=n.targetId;s>this.highestTargetId&&(this.cl=new $r(s),this.highestTargetId=s),n.sequenceNumber>this.ol&&(this.ol=n.sequenceNumber)},a.prototype.Ra=function(n,s){return this.ga(s),this.targetCount+=1,Ye.resolve()},a.prototype.ya=function(n,s){return this.ga(s),Ye.resolve()},a.prototype.Va=function(n,s){return this.rl.delete(s.target),this.al.Uc(s.targetId),this.targetCount-=1,Ye.resolve()},a.prototype.po=function(n,s,c){var d=this,y=0,w=[];return this.rl.forEach(function(D,N){N.sequenceNumber<=s&&null===c.get(N.targetId)&&(d.rl.delete(D),w.push(d.pa(n,N.targetId)),y++)}),Ye.$n(w).next(function(){return y})},a.prototype.ba=function(n){return Ye.resolve(this.targetCount)},a.prototype.va=function(n,s){var c=this.rl.get(s)||null;return Ye.resolve(c)},a.prototype.Sa=function(n,s,c){return this.al.Lc(s,c),Ye.resolve()},a.prototype.Ca=function(n,s,c){this.al.qc(s,c);var d=this.persistence.No,y=[];return d&&s.forEach(function(w){y.push(d.Go(n,w))}),Ye.$n(y)},a.prototype.pa=function(n,s){return this.al.Uc(s),Ye.resolve()},a.prototype.Fa=function(n,s){var c=this.al.Wc(s);return Ye.resolve(c)},a.prototype.Ho=function(n,s){return Ye.resolve(this.al.Ho(s))},a}(),ch=function(){function a(n){var s=this;this.ul={},this.Ma=new ei(0),this.Oa=!1,this.Oa=!0,this.No=n(this),this.Ka=new lh(this),this.Dr=new Ba,this.vr=new oa(this.Dr,function(y){return s.No.hl(y)})}return a.prototype.start=function(){return Promise.resolve()},a.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.Za=function(){},a.prototype.tc=function(){},a.prototype.Ic=function(){return this.Dr},a.prototype.mc=function(n){var s=this.ul[n.ti()];return s||(s=new Uo(this.Dr,this.No),this.ul[n.ti()]=s),s},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.runTransaction=function(n,s,c){var d=this;ie("MemoryPersistence","Starting transaction:",n);var y=new hg(this.Ma.next());return this.No.ll(),c(y).next(function(w){return d.No._l(y).next(function(){return w})}).Fn().then(function(w){return y.br(),w})},a.prototype.fl=function(n,s){return Ye.kn(Object.values(this.ul).map(function(c){return function(){return c.Ho(n,s)}}))},a}(),hg=function(a){function n(s){var c=this;return(c=a.call(this)||this).xa=s,c}return v.__extends(n,a),n}(Fa),dg=function(){function a(n){this.persistence=n,this.dl=new rs,this.wl=null}return a.ml=function(n){return new a(n)},Object.defineProperty(a.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw we()},enumerable:!1,configurable:!0}),a.prototype.Da=function(n,s,c){return this.dl.Da(c,s),this.Tl.delete(c.toString()),Ye.resolve()},a.prototype.Na=function(n,s,c){return this.dl.Na(c,s),this.Tl.add(c.toString()),Ye.resolve()},a.prototype.Go=function(n,s){return this.Tl.add(s.toString()),Ye.resolve()},a.prototype.removeTarget=function(n,s){var c=this;this.dl.Uc(s.targetId).forEach(function(y){return c.Tl.add(y.toString())});var d=this.persistence.Tc();return d.Fa(n,s.targetId).next(function(y){y.forEach(function(w){return c.Tl.add(w.toString())})}).next(function(){return d.Va(n,s)})},a.prototype.ll=function(){this.wl=new Set},a.prototype._l=function(n){var s=this,c=this.persistence.Ec().ra();return Ye.forEach(this.Tl,function(d){var y=R.D(d);return s.El(n,y).next(function(w){w||c.Ar(y)})}).next(function(){return s.wl=null,c.apply(n)})},a.prototype.yc=function(n,s){var c=this;return this.El(n,s).next(function(d){d?c.Tl.delete(s.toString()):c.Tl.add(s.toString())})},a.prototype.hl=function(n){return 0},a.prototype.El=function(n,s){var c=this;return Ye.kn([function(){return Ye.resolve(c.dl.Ho(s))},function(){return c.persistence.Tc().Ho(n,s)},function(){return c.persistence.fl(n,s)}])},a}(),pg=function(){function a(n){this.Il=n.Il,this.Al=n.Al}return a.prototype.gu=function(n){this.Rl=n},a.prototype.Tu=function(n){this.gl=n},a.prototype.onMessage=function(n){this.Pl=n},a.prototype.close=function(){this.Al()},a.prototype.send=function(n){this.Il(n)},a.prototype.yl=function(){this.Rl()},a.prototype.Vl=function(n){this.gl(n)},a.prototype.pl=function(n){this.Pl(n)},a}(),pf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hc=function(a){function n(s){var c=this;return(c=a.call(this,s)||this).forceLongPolling=s.forceLongPolling,c.W=s.W,c}return v.__extends(n,a),n.prototype.Nl=function(s,c,d,y){return new Promise(function(w,D){var N=new Ve.XhrIo;N.listenOnce(Ve.EventType.COMPLETE,function(){try{switch(N.getLastErrorCode()){case Ve.ErrorCode.NO_ERROR:var W=N.getResponseJson();ie("Connection","XHR received:",JSON.stringify(W)),w(W);break;case Ve.ErrorCode.TIMEOUT:ie("Connection",'RPC "'+s+'" timed out'),D(new Y(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ve.ErrorCode.HTTP_ERROR:var re=N.getStatus();if(ie("Connection",'RPC "'+s+'" failed with status:',re,"response text:",N.getResponseText()),re>0){var te=N.getResponseJson().error;if(te&&te.status&&te.message){var he=(ke=te.status.toLowerCase().replace("_","-"),Object.values(q).indexOf(ke)>=0?ke:q.UNKNOWN);D(new Y(he,te.message))}else D(new Y(q.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new Y(q.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ie("Connection",'RPC "'+s+'" completed.')}var ke});var B=JSON.stringify(y);N.send(c,"POST",B,d,15)})},n.prototype.Pu=function(s,c){var d=[this.vl,"/","google.firestore.v1.Firestore","/",s,"/channel"],y=Ve.createWebChannelTransport(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(w.initMessageHeaders,c),ae.isMobileCordova()||ae.isReactNative()||ae.isElectron()||ae.isIE()||ae.isUWP()||ae.isBrowserExtension()||(w.httpHeadersOverwriteParam="$httpHeaders");var D=d.join("");ie("Connection","Creating WebChannel: "+D,w);var N=y.createWebChannel(D,w),B=!1,W=!1,re=new pg({Il:function(he){W?ie("Connection","Not sending because WebChannel is closed:",he):(B||(ie("Connection","Opening WebChannel transport."),N.open(),B=!0),ie("Connection","WebChannel sending:",he),N.send(he))},Al:function(){return N.close()}}),te=function(he,Se){N.listen(he,function(ke){try{Se(ke)}catch(dt){setTimeout(function(){throw dt},0)}})};return te(Ve.WebChannel.EventType.OPEN,function(){W||ie("Connection","WebChannel transport opened.")}),te(Ve.WebChannel.EventType.CLOSE,function(){W||(W=!0,ie("Connection","WebChannel transport closed"),re.Vl())}),te(Ve.WebChannel.EventType.ERROR,function(he){W||(W=!0,Ge("Connection","WebChannel transport errored:",he),re.Vl(new Y(q.UNAVAILABLE,"The operation could not be completed")))}),te(Ve.WebChannel.EventType.MESSAGE,function(he){var Se;if(!W){var ke=he.data[0];ve(!!ke);var ft=ke.error||(null===(Se=ke[0])||void 0===Se?void 0:Se.error);if(ft){ie("Connection","WebChannel received error:",ft);var Ct=ft.status,kt=function(Dn){var xn=xt[Dn];if(void 0!==xn)return si(xn)}(Ct),tn=ft.message;void 0===kt&&(kt=q.INTERNAL,tn="Unknown error status: "+Ct+" with message "+ft.message),W=!0,re.Vl(new Y(kt,tn)),N.close()}else ie("Connection","WebChannel received:",ke),re.pl(ke)}}),setTimeout(function(){re.yl()},0),re},n}(function(){function a(n){this.bl=n,this.U=n.U,this.vl=(n.ssl?"https":"http")+"://"+n.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return a.prototype.$u=function(n,s,c,d){var y=this.Dl(n,s);ie("RestConnection","Sending: ",y,c);var w={};return this.Cl(w,d),this.Nl(n,y,w,c).then(function(D){return ie("RestConnection","Received: ",D),D},function(D){throw Ge("RestConnection",n+" failed with error: ",D,"url: ",y,"request:",c),D})},a.prototype.ku=function(n,s,c,d){return this.$u(n,s,c,d)},a.prototype.Cl=function(n,s){if(n["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",n["Content-Type"]="text/plain",s)for(var c in s.Kc)s.Kc.hasOwnProperty(c)&&(n[c]=s.Kc[c])},a.prototype.Dl=function(n,s){return this.vl+"/v1/"+s+":"+pf[n]},a}()),sa=function(){function a(){var n=this;this.Fl=function(){return n.xl()},this.$l=function(){return n.kl()},this.Ml=[],this.Ol()}return a.prototype.Zu=function(n){this.Ml.push(n)},a.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},a.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},a.prototype.xl=function(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,s=this.Ml;n<s.length;n++)(0,s[n])(0)},a.prototype.kl=function(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,s=this.Ml;n<s.length;n++)(0,s[n])(1)},a.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),Dl=function(){function a(){}return a.prototype.Zu=function(n){},a.prototype.Di=function(){},a}();function Vu(a){return new ai(a,!0)}var Za="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Cl=function(){function a(){}return a.prototype.initialize=function(n){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(s){switch(s.label){case 0:return this.Sh=this.Ll(n),this.persistence=this.Bl(n),[4,this.persistence.start()];case 1:return s.sent(),this.ql=this.Ul(n),this.ju=this.Ql(n),[2]}})})},a.prototype.Ul=function(n){return null},a.prototype.Ql=function(n){return s=this.persistence,c=new ku,new Pr(s,c,n.Wl);var s,c},a.prototype.Bl=function(n){if(n.persistenceSettings.jl)throw new Y(q.FAILED_PRECONDITION,Za);return new ch(dg.ml)},a.prototype.Ll=function(n){return new Yc},a.prototype.terminate=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(n){switch(n.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return n.sent(),[4,this.persistence.Di()];case 2:return n.sent(),[2]}})})},a.prototype.clearPersistence=function(n,s){throw new Y(q.FAILED_PRECONDITION,Za)},a}(),dc=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.initialize=function(s){return v.__awaiter(this,void 0,void 0,function(){var c,d=this;return v.__generator(this,function(y){switch(y.label){case 0:return[4,a.prototype.initialize.call(this,s)];case 1:return y.sent(),c=this.Kl.fi,this.Sh instanceof Kc?(this.Sh.fi={er:ah.bind(null,c),nr:Ld.bind(null,c),sr:uh.bind(null,c),pi:Fd.bind(null,c)},[4,this.Sh.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.Xa(function(w){return v.__awaiter(d,void 0,void 0,function(){return v.__generator(this,function(D){switch(D.label){case 0:return[4,ii(this.Kl.fi,w)];case 1:return D.sent(),this.ql&&(w&&!this.ql.Ei?this.ql.start(this.ju):w||this.ql.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},n.prototype.Ll=function(s){if(s.persistenceSettings.jl&&s.persistenceSettings.synchronizeTabs){var c=O();if(!Kc.Ln(c))throw new Y(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var d=Ou(s.bl.U,s.bl.persistenceKey);return new Kc(c,s.cs,d,s.clientId,s.Wl)}return new Yc},n}(function(a){function n(s){var c=this;return(c=a.call(this)||this).Kl=s,c}return v.__extends(n,a),n.prototype.initialize=function(s){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(c){switch(c.label){case 0:return[4,a.prototype.initialize.call(this,s)];case 1:return c.sent(),[4,Pu(this.ju)];case 2:return c.sent(),[4,this.Kl.initialize(this,s)];case 3:return c.sent(),[4,xs(this.Kl.fi)];case 4:return c.sent(),[4,Ka(this.Kl.ph)];case 5:return c.sent(),[2]}})})},n.prototype.Ul=function(s){return new Xf(this.persistence.No.wo,s.cs)},n.prototype.Bl=function(s){var c=Ou(s.bl.U,s.bl.persistenceKey),d=Vu(s.bl.U);return new qi(s.persistenceSettings.synchronizeTabs,c,s.clientId,Rn.ao(s.persistenceSettings.cacheSizeBytes),s.cs,O(),z(),d,this.Sh,s.persistenceSettings.ka)},n.prototype.Ll=function(s){return new Yc},n.prototype.clearPersistence=function(s,c){return function(d){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(w){switch(w.label){case 0:return so.Ln()?[4,so.delete(d+"main")]:[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(Ou(s,c))},n}(Cl)),aa=function(){function a(){}return a.prototype.initialize=function(n,s){return v.__awaiter(this,void 0,void 0,function(){var c=this;return v.__generator(this,function(d){switch(d.label){case 0:return this.ju?[3,2]:(this.ju=n.ju,this.Sh=n.Sh,this.Ku=this.Gl(s),this.ph=this.zl(s),this.bh=this.Hl(s),this.fi=this.Yl(s),this.Sh.di=function(y){return vl(c.fi,y,1)},this.ph.Gu.Jl=cc.bind(null,this.fi),[4,uf(this.ph,this.fi.Uh)]);case 1:d.sent(),d.label=2;case 2:return[2]}})})},a.prototype.Hl=function(n){return new Jt},a.prototype.Gl=function(n){var c=Vu(n.bl.U),d=new hc(n.bl);return new of(n.credentials,d,c)},a.prototype.zl=function(n){var s,c,d,y,w,D=this;return s=this.ju,c=this.Ku,d=n.cs,y=function(N){return vl(D.fi,N,0)},w=sa.Ln()?new sa:new Dl,new sf(s,c,d,y,w)},a.prototype.Yl=function(n){return N=!n.persistenceSettings.jl||!n.persistenceSettings.synchronizeTabs,B=new cf(this.ju,this.ph,this.bh,this.Sh,n.Wl,n.Dh),N&&(B.qh=!0),B;var N,B},a.prototype.terminate=function(){return za(this.ph)},a}(),Sl=function(){function a(n){this.observer=n,this.muted=!1}return a.prototype.next=function(n){this.observer.next&&this.Xl(this.observer.next,n)},a.prototype.error=function(n){this.observer.error?this.Xl(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},a.prototype.Zl=function(){this.muted=!0},a.prototype.Xl=function(n,s){var c=this;this.muted||setTimeout(function(){c.muted||n(s)},0)},a}(),Al=function(a){!function(s,c,d,y){if(!(c instanceof Array)||c.length<1)throw new Y(q.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Be(1,"element")+".")}(0,a);for(var n=0;n<a.length;++n)if(Re("FieldPath","string",n,a[n]),0===a[n].length)throw new Y(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new T(a)},ho=function(a){function n(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return a.call(this,s)||this}return v.__extends(n,a),n.documentId=function(){return new n(T.v().R())},n.prototype.isEqual=function(s){if(!(s instanceof n))throw $t("isEqual","FieldPath",1,s);return this.t_.isEqual(s.t_)},n}(Al),fh=new RegExp("[~\\*/\\[\\]]"),jo=function(a){this.e_=a},Uu=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.n_=function(s){if(2!==s.s_)throw s.i_(1===s.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return s.We.push(s.path),null},n.prototype.isEqual=function(s){return s instanceof n},n}(jo);function vr(a,n,s){return new eu({s_:3,r_:n.settings.r_,methodName:a.e_,o_:s},n.U,n.serializer,n.ignoreUndefinedProperties)}var hh=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.n_=function(s){return new Hi(s.path,new gr)},n.prototype.isEqual=function(s){return s instanceof n},n}(jo),pc=function(a){function n(s,c){var d=this;return(d=a.call(this,s)||this).a_=c,d}return v.__extends(n,a),n.prototype.n_=function(s){var c=vr(this,s,!0),d=this.a_.map(function(w){return Pi(w,c)}),y=new Er(d);return new Hi(s.path,y)},n.prototype.isEqual=function(s){return this===s},n}(jo),gc=function(a){function n(s,c){var d=this;return(d=a.call(this,s)||this).a_=c,d}return v.__extends(n,a),n.prototype.n_=function(s){var c=vr(this,s,!0),d=this.a_.map(function(w){return Pi(w,c)}),y=new Bi(d);return new Hi(s.path,y)},n.prototype.isEqual=function(s){return this===s},n}(jo),mc=function(a){function n(s,c){var d=this;return(d=a.call(this,s)||this).c_=c,d}return v.__extends(n,a),n.prototype.n_=function(s){var c=new vs(s.serializer,io(s.serializer,this.c_));return new Hi(s.path,c)},n.prototype.isEqual=function(s){return this===s},n}(jo),Ja=function(){function a(n,s){if(F("GeoPoint",arguments,2),Re("GeoPoint","number",1,n),Re("GeoPoint","number",2,s),!isFinite(n)||n<-90||n>90)throw new Y(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(s)||s<-180||s>180)throw new Y(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this.u_=n,this.h_=s}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){return this.u_===n.u_&&this.h_===n.h_},a.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},a.prototype.Y=function(n){return it(this.u_,n.u_)||it(this.h_,n.h_)},a}(),ua=function(a){this.l_=a},kd=/^__.*__$/,us=function(a,n,s){this.__=a,this.f_=n,this.d_=s},Tl=function(){function a(n,s,c){this.data=n,this.We=s,this.fieldTransforms=c}return a.prototype.w_=function(n,s){var c=[];return c.push(null!==this.We?new Vt(n,this.data,this.We,s):new We(n,this.data,s)),this.fieldTransforms.length>0&&c.push(new qt(n,this.fieldTransforms)),c},a}(),Xa=function(){function a(n,s,c){this.data=n,this.We=s,this.fieldTransforms=c}return a.prototype.w_=function(n,s){var c=[new Vt(n,this.data,this.We,s)];return this.fieldTransforms.length>0&&c.push(new qt(n,this.fieldTransforms)),c},a}();function ju(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var eu=function(){function a(n,s,c,d,y,w){this.settings=n,this.U=s,this.serializer=c,this.ignoreUndefinedProperties=d,void 0===y&&this.m_(),this.fieldTransforms=y||[],this.We=w||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),a.prototype.T_=function(n){return new a(Object.assign(Object.assign({},this.settings),n),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},a.prototype.E_=function(n){var s,c=null===(s=this.path)||void 0===s?void 0:s.child(n),d=this.T_({path:c,o_:!1});return d.I_(n),d},a.prototype.A_=function(n){var s,c=null===(s=this.path)||void 0===s?void 0:s.child(n),d=this.T_({path:c,o_:!1});return d.m_(),d},a.prototype.R_=function(n){return this.T_({path:void 0,o_:!0})},a.prototype.i_=function(n){return ou(n,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},a.prototype.contains=function(n){return void 0!==this.We.find(function(s){return n.T(s)})||void 0!==this.fieldTransforms.find(function(s){return n.T(s.field)})},a.prototype.m_=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.I_(this.path.get(n))},a.prototype.I_=function(n){if(0===n.length)throw this.i_("Document fields must not be empty");if(ju(this.s_)&&kd.test(n))throw this.i_('Document fields cannot begin and end with "__"')},a}(),Wr=function(){function a(n,s,c){this.U=n,this.ignoreUndefinedProperties=s,this.serializer=c||Vu(n)}return a.prototype.P_=function(n,s,c,d){return void 0===d&&(d=!1),new eu({s_:n,methodName:s,r_:c,path:T.P(),o_:!1,g_:d},this.U,this.serializer,this.ignoreUndefinedProperties)},a}();function tu(a,n,s,c,d,y){void 0===y&&(y={});var w=a.P_(y.merge||y.mergeFields?2:0,n,s,d);Hu("Data must be an object, but it was:",w,c);var D,N,B=ls(c,w);if(y.merge)D=new Nr(w.We),N=w.fieldTransforms;else if(y.mergeFields){for(var W=[],re=0,te=y.mergeFields;re<te.length;re++){var he=te[re],Se=void 0;if(he instanceof Al)Se=he.t_;else{if("string"!=typeof he)throw we();Se=la(n,he,s)}if(!w.contains(Se))throw new Y(q.INVALID_ARGUMENT,"Field '"+Se+"' is specified in your field mask but missing from your input data.");yc(W,Se)||W.push(Se)}D=new Nr(W),N=w.fieldTransforms.filter(function(ke){return D.Ye(ke.field)})}else D=null,N=w.fieldTransforms;return new Tl(new $n(B),D,N)}function nu(a,n,s,c){var d=a.P_(1,n,s);Hu("Data must be an object, but it was:",d,c);var y=[],w=new zn;Je(c,function(N,B){var W=la(n,N,s),re=d.A_(W);if(B instanceof Uu||B instanceof ua&&B.l_ instanceof Uu)y.push(W);else{var te=Pi(B,re);null!=te&&(y.push(W),w.set(W,te))}});var D=new Nr(y);return new Xa(w.Xe(),D,d.fieldTransforms)}function Bu(a,n,s,c,d,y){var w=a.P_(1,n,s),D=[iu(n,c,s)],N=[d];if(y.length%2!=0)throw new Y(q.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var B=0;B<y.length;B+=2)D.push(iu(n,y[B])),N.push(y[B+1]);for(var W=[],re=new zn,te=D.length-1;te>=0;--te)if(!yc(W,D[te])){var he=D[te],Se=N[te],ke=w.A_(he);if(Se instanceof Uu||Se instanceof ua&&Se.l_ instanceof Uu)W.push(he);else{var dt=Pi(Se,ke);null!=dt&&(W.push(he),re.set(he,dt))}}var ft=new Nr(W);return new Xa(re.Xe(),ft,w.fieldTransforms)}function Ar(a,n,s,c){return void 0===c&&(c=!1),Pi(s,a.P_(c?4:3,n))}function Pi(a,n){if(a instanceof ua&&(a=a.l_),ru(a))return Hu("Unsupported field value:",n,a),ls(a,n);if(a instanceof jo)return function(s,c){if(!ju(c.s_))throw c.i_(s.e_+"() can only be used with update() and set()");if(!c.path)throw c.i_(s.e_+"() is not currently supported inside arrays");var d=s.n_(c);d&&c.fieldTransforms.push(d)}(a,n),null;if(n.path&&n.We.push(n.path),a instanceof Array){if(n.settings.o_&&4!==n.s_)throw n.i_("Nested arrays are not supported");return function(s,c){for(var d=[],y=0,w=0,D=s;w<D.length;w++){var N=Pi(D[w],c.R_(y));null==N&&(N={nullValue:"NULL_VALUE"}),d.push(N),y++}return{arrayValue:{values:d}}}(a,n)}return function(s,c){if(null===s)return{nullValue:"NULL_VALUE"};if("number"==typeof s)return io(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){var d=pn.fromDate(s);return{timestampValue:Vr(c.serializer,d)}}if(s instanceof pn){var y=new pn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vr(c.serializer,y)}}if(s instanceof Ja)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Tr(c.serializer,s.q)};if(s instanceof us){var w=c.U,D=s.__;if(!D.isEqual(w))throw c.i_("Document reference is for database "+D.projectId+"/"+D.database+" but should be for database "+w.projectId+"/"+w.database);return{referenceValue:wr(s.__||c.U,s.f_.path)}}if(void 0===s&&c.ignoreUndefinedProperties)return null;throw c.i_("Unsupported field value: "+hn(s))}(a,n)}function ls(a,n){var s={};return qe(a)?n.path&&n.path.length>0&&n.We.push(n.path):Je(a,function(c,d){var y=Pi(d,n.E_(c));null!=y&&(s[c]=y)}),{mapValue:{fields:s}}}function ru(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof pn||a instanceof Ja||a instanceof Bn||a instanceof us||a instanceof jo)}function Hu(a,n,s){if(!ru(s)||!yn(s)){var c=hn(s);throw n.i_("an object"===c?a+" a custom object":a+" "+c)}}function iu(a,n,s){if(n instanceof Al)return n.t_;if("string"==typeof n)return la(a,n);throw ou("Field path arguments must be of type string or FieldPath.",a,!1,void 0,s)}function la(a,n,s){try{return function(d){if(d.search(fh)>=0)throw new Y(q.INVALID_ARGUMENT,"Invalid field path ("+d+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ho.bind.apply(ho,v.__spreadArrays([void 0],d.split("."))))}catch(y){throw new Y(q.INVALID_ARGUMENT,"Invalid field path ("+d+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(n).t_}catch(d){throw ou((c=d)instanceof Error?c.message:c.toString(),a,!1,void 0,s)}var c}function ou(a,n,s,c,d){var y=c&&!c.m(),w=void 0!==d,D="Function "+n+"() called with invalid data";s&&(D+=" (via `toFirestore()`)");var N="";return(y||w)&&(N+=" (found",y&&(N+=" in field "+c),w&&(N+=" in document "+d),N+=")"),new Y(q.INVALID_ARGUMENT,(D+=". ")+a+N)}function yc(a,n){return a.some(function(s){return s.isEqual(n)})}var dh=function(){function a(n){this.Ku=n,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return a.prototype.v_=function(n){return v.__awaiter(this,void 0,void 0,function(){var s,c=this;return v.__generator(this,function(d){switch(d.label){case 0:if(this.S_(),this.mutations.length>0)throw new Y(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,w){return v.__awaiter(this,void 0,void 0,function(){var D,N,B,W,re,te;return v.__generator(this,function(he){switch(he.label){case 0:return D=me(y),N=ki(D.serializer)+"/documents",B={documents:w.map(function(Se){return Mr(D.serializer,Se)})},[4,D.ku("BatchGetDocuments",N,B)];case 1:return W=he.sent(),re=new Map,W.forEach(function(Se){var dt,ft,ke=(dt=D.serializer,"found"in(ft=Se)?function(Ct,kt){ve(!!kt.found);var tn=wn(Ct,kt.found.name),Dn=On(kt.found.updateTime),xn=new $n({mapValue:{fields:kt.found.fields}});return new Zt(tn,Dn,xn,{})}(dt,ft):"missing"in ft?function(Ct,kt){ve(!!kt.missing),ve(!!kt.readTime);var tn=wn(Ct,kt.missing),Dn=On(kt.readTime);return new Pn(tn,Dn)}(dt,ft):we());re.set(ke.key.toString(),ke)}),te=[],[2,(w.forEach(function(Se){var ke=re.get(Se.toString());ve(!!ke),te.push(ke)}),te)]}})})}(this.Ku,n)];case 1:return[2,((s=d.sent()).forEach(function(y){y instanceof Pn||y instanceof Zt?c.D_(y):we()}),s)]}})})},a.prototype.set=function(n,s){this.write(s.w_(n,this.Ge(n))),this.b_.add(n.toString())},a.prototype.update=function(n,s){try{this.write(s.w_(n,this.C_(n)))}catch(c){this.p_=c}this.b_.add(n.toString())},a.prototype.delete=function(n){this.write([new Ht(n,this.Ge(n))]),this.b_.add(n.toString())},a.prototype.commit=function(){return v.__awaiter(this,void 0,void 0,function(){var n,s=this;return v.__generator(this,function(c){switch(c.label){case 0:if(this.S_(),this.p_)throw this.p_;return n=this.y_,this.mutations.forEach(function(d){n.delete(d.key.toString())}),n.forEach(function(d,y){var w=R.D(y);s.mutations.push(new ur(w,s.Ge(w)))}),[4,function(d,y){return v.__awaiter(this,void 0,void 0,function(){var w,D,N;return v.__generator(this,function(B){switch(B.label){case 0:return w=me(d),D=ki(w.serializer)+"/documents",N={writes:y.map(function(W){return Si(w.serializer,W)})},[4,w.$u("Commit",D,N)];case 1:return B.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return c.sent(),this.V_=!0,[2]}})})},a.prototype.D_=function(n){var s;if(n instanceof Zt)s=n.version;else{if(!(n instanceof Pn))throw we();s=Ot.min()}var c=this.y_.get(n.key.toString());if(c){if(!s.isEqual(c))throw new Y(q.ABORTED,"Document version changed between two reads.")}else this.y_.set(n.key.toString(),s)},a.prototype.Ge=function(n){var s=this.y_.get(n.toString());return!this.b_.has(n.toString())&&s?an.updateTime(s):an.ze()},a.prototype.C_=function(n){var s=this.y_.get(n.toString());if(!this.b_.has(n.toString())&&s){if(s.isEqual(Ot.min()))throw new Y(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(s)}return an.exists(!0)},a.prototype.write=function(n){this.S_(),this.mutations=this.mutations.concat(n)},a.prototype.S_=function(){},a}(),Vd=function(){function a(n,s,c,d){this.cs=n,this.Ku=s,this.updateFunction=c,this.ls=d,this.N_=5,this.ys=new No(this.cs,"transaction_retry")}return a.prototype.run=function(){this.F_()},a.prototype.F_=function(){var n=this;this.ys.gn(function(){return v.__awaiter(n,void 0,void 0,function(){var s,c,d=this;return v.__generator(this,function(y){return s=new dh(this.Ku),(c=this.x_(s))&&c.then(function(w){d.cs.ws(function(){return s.commit().then(function(){d.ls.resolve(w)}).catch(function(D){d.k_(D)})})}).catch(function(w){d.k_(w)}),[2]})})})},a.prototype.x_=function(n){try{var s=this.updateFunction(n);return!ee(s)&&s.catch&&s.then?s:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(c){return this.ls.reject(c),null}},a.prototype.k_=function(n){var s=this;this.N_>0&&this.M_(n)?(this.N_-=1,this.cs.ws(function(){return s.F_(),Promise.resolve()})):this.ls.reject(n)},a.prototype.M_=function(n){if("FirebaseError"===n.name){var s=n.code;return"aborted"===s||"failed-precondition"===s||!qn(s)}return!1},a}(),Ud=function(){function a(n,s){this.credentials=n,this.cs=s,this.clientId=_t.k(),this.O_=new cr}return a.prototype.start=function(n,s,c,d){var y=this;this.L_(),this.bl=n;var w=new cr,D=!1;return this.credentials.Hc(function(N){if(!D)return D=!0,ie("FirestoreClient","Initializing. user=",N.uid),y.B_(s,c,d,N,w).then(y.O_.resolve,y.O_.reject);y.cs.Cs(function(){return function(B,W){return v.__awaiter(this,void 0,void 0,function(){var re,te;return v.__generator(this,function(he){switch(he.label){case 0:return(re=me(B)).cs.xs(),ie("RemoteStore","RemoteStore received new credentials"),te=Oi(re),re.Yu.add(3),[4,ko(re)];case 1:return he.sent(),te&&re.th.set("Unknown"),[4,re.Gu.Jl(W)];case 2:return he.sent(),re.Yu.delete(3),[4,hl(re)];case 3:return he.sent(),[2]}})})}(y.ph,N)})}),this.cs.ws(function(){return y.O_.promise}),w.promise},a.prototype.enableNetwork=function(){var n=this;return this.L_(),this.cs.enqueue(function(){return n.persistence.tc(!0),(c=me(n.ph)).Yu.delete(0),hl(c);var c})},a.prototype.B_=function(n,s,c,d,y){return v.__awaiter(this,void 0,void 0,function(){var w,D,N=this;return v.__generator(this,function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),[4,n.initialize(w={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:d,Dh:100,persistenceSettings:c})];case 1:return B.sent(),[4,s.initialize(n,w)];case 2:return B.sent(),this.persistence=n.persistence,this.Sh=n.Sh,this.ju=n.ju,this.ql=n.ql,this.Ku=s.Ku,this.ph=s.ph,this.fi=s.fi,this.q_=s.bh,this.q_.Us=ih.bind(null,this.fi),this.q_.js=ml.bind(null,this.fi),this.persistence.Za(function(){return v.__awaiter(N,void 0,void 0,function(){return v.__generator(this,function(W){switch(W.label){case 0:return[4,this.terminate()];case 1:return W.sent(),[2]}})})}),y.resolve(),[3,4];case 3:if(D=B.sent(),y.reject(D),!this.U_(D))throw D;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+D),this.B_(new Cl,new aa,{jl:!1},d,y))];case 4:return[2]}})})},a.prototype.U_=function(n){return"FirebaseError"===n.name?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code},a.prototype.L_=function(){if(this.cs.ps)throw new Y(q.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.disableNetwork=function(){var n=this;return this.L_(),this.cs.enqueue(function(){return n.persistence.tc(!1),function(s){return v.__awaiter(this,void 0,void 0,function(){var c;return v.__generator(this,function(d){switch(d.label){case 0:return(c=me(s)).Yu.add(0),[4,ko(c)];case 1:return d.sent(),c.th.set("Offline"),[2]}})})}(n.ph)})},a.prototype.terminate=function(){var n=this;this.cs.Ds();var s=new cr;return this.cs.bs(function(){return v.__awaiter(n,void 0,void 0,function(){var c,d;return v.__generator(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,za(this.ph)];case 1:return y.sent(),[4,this.Sh.Di()];case 2:return y.sent(),[4,this.persistence.Di()];case 3:return y.sent(),this.credentials.Yc(),s.resolve(),[3,5];case 4:return c=y.sent(),d=st(c,"Failed to shutdown persistence"),s.reject(d),[3,5];case 5:return[2]}})})}),s.promise},a.prototype.waitForPendingWrites=function(){var n=this;this.L_();var s=new cr;return this.cs.ws(function(){return function(c,d){return v.__awaiter(this,void 0,void 0,function(){var y,w,D,N,B;return v.__generator(this,function(W){switch(W.label){case 0:Oi((y=me(c)).ph)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,(re=y.ju,te=me(re),te.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(he){return te.Sr.qo(he)}))];case 2:return-1===(w=W.sent())?[2,void d.resolve()]:((D=y.Lh.get(w)||[]).push(d),y.Lh.set(w,D),[3,4]);case 3:return N=W.sent(),B=st(N,"Initialization of waitForPendingWrites() operation failed"),d.reject(B),[3,4];case 4:return[2]}var re,te})})}(n.fi,s)}),s.promise},a.prototype.listen=function(n,s,c){var d=this;this.L_();var y=new Sl(c),w=new Oo(n,y,s);return this.cs.ws(function(){return er(d.q_,w)}),function(){y.Zl(),d.cs.ws(function(){return tr(d.q_,w)})}},a.prototype.Q_=function(n){return v.__awaiter(this,void 0,void 0,function(){var s,c=this;return v.__generator(this,function(d){switch(d.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return d.sent(),s=new cr,[2,(this.cs.ws(function(){return function(y,w,D){return v.__awaiter(this,void 0,void 0,function(){var N,B,W;return v.__generator(this,function(re){switch(re.label){case 0:return re.trys.push([0,2,,3]),[4,(te=y,he=w,Se=me(te),Se.persistence.runTransaction("read document","readonly",function(ke){return Se.Cc.Cr(ke,he)}))];case 1:return(N=re.sent())instanceof Zt?D.resolve(N):N instanceof Pn?D.resolve(null):D.reject(new Y(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return B=re.sent(),W=st(B,"Failed to get document '"+w+" from cache"),D.reject(W),[3,3];case 3:return[2]}var te,he,Se})})}(c.ju,n,s)}),s.promise)]}})})},a.prototype.W_=function(n,s){return void 0===s&&(s={}),v.__awaiter(this,void 0,void 0,function(){var c,d=this;return v.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),c=new cr,[2,(this.cs.ws(function(){return w=d.q_,D=d.cs,N=n,B=s,W=c,re=new Sl({next:function(he){D.ws(function(){return tr(w,te)});var Se=he.docs.has(N);!Se&&he.fromCache?W.reject(new Y(q.UNAVAILABLE,"Failed to get document because the client is offline.")):Se&&he.fromCache&&B&&"server"===B.source?W.reject(new Y(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(he)},error:function(he){return W.reject(he)}}),te=new Oo(Dt(N.path),re,{includeMetadataChanges:!0,Xs:!0}),er(w,te);var w,D,N,B,W,re,te}),c.promise)]}})})},a.prototype.j_=function(n){return v.__awaiter(this,void 0,void 0,function(){var s,c=this;return v.__generator(this,function(d){switch(d.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return d.sent(),s=new cr,[2,(this.cs.ws(function(){return function(y,w,D){return v.__awaiter(this,void 0,void 0,function(){var N,B,W,re,te,he;return v.__generator(this,function(Se){switch(Se.label){case 0:return Se.trys.push([0,2,,3]),[4,cl(y,w,!0)];case 1:return N=Se.sent(),B=new Fu(w,N.Fc),W=B.wh(N.documents),re=B.yr(W,!1),D.resolve(re.snapshot),[3,3];case 2:return te=Se.sent(),he=st(te,"Failed to execute query '"+w+" against cache"),D.reject(he),[3,3];case 3:return[2]}})})}(c.ju,n,s)}),s.promise)]}})})},a.prototype.K_=function(n,s){return void 0===s&&(s={}),v.__awaiter(this,void 0,void 0,function(){var c,d=this;return v.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),c=new cr,[2,(this.cs.ws(function(){return w=d.q_,D=d.cs,N=n,B=s,W=c,re=new Sl({next:function(he){D.ws(function(){return tr(w,te)}),he.fromCache&&"server"===B.source?W.reject(new Y(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(he)},error:function(he){return W.reject(he)}}),te=new Oo(N,re,{includeMetadataChanges:!0,Xs:!0}),er(w,te);var w,D,N,B,W,re,te}),c.promise)]}})})},a.prototype.write=function(n){var s=this;this.L_();var c=new cr;return this.cs.ws(function(){return function(d,y,w){return v.__awaiter(this,void 0,void 0,function(){var D,N,B,W;return v.__generator(this,function(re){switch(re.label){case 0:D=xs(d),re.label=1;case 1:return re.trys.push([1,5,,6]),[4,(te=D.ju,he=y,ke=me(te),dt=pn.now(),ft=he.reduce(function(Ct,kt){return Ct.add(kt.key)},rn()),ke.persistence.runTransaction("Locally write mutations","readwrite",function(Ct){return ke.Cc.kr(Ct,ft).next(function(kt){Se=kt;for(var tn=[],Dn=0,xn=he;Dn<xn.length;Dn++){var po=xn[Dn],Yi=se(po,Se.get(po.key));null!=Yi&&tn.push(new Vt(po.key,Yi,Kt(Yi.proto.mapValue),an.exists(!0)))}return ke.Sr.ko(Ct,dt,tn,he)})}).then(function(Ct){var kt=Ct.lr(Se);return{batchId:Ct.batchId,wr:kt}}))];case 2:return N=re.sent(),D.Sh.xi(N.batchId),function(te,he,Se){var ke=te.Oh[te.currentUser.ti()];ke||(ke=new Qn(it)),ke=ke.ot(he,Se),te.Oh[te.currentUser.ti()]=ke}(D,N.batchId,w),[4,Rs(D,N.wr)];case 3:return re.sent(),[4,Ka(D.ph)];case 4:return re.sent(),[3,6];case 5:return B=re.sent(),W=st(B,"Failed to persist write"),w.reject(W),[3,6];case 6:return[2]}var te,he,Se,ke,dt,ft})})}(s.fi,n,c)}),c.promise},a.prototype.U=function(){return this.bl.U},a.prototype.G_=function(n){var s=this;this.L_();var c=new Sl(n);return this.cs.ws(function(){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(d){return[2,(y=this.q_,w=c,me(y).qs.add(w),void w.next())];var y,w})})}),function(){c.Zl(),s.cs.ws(function(){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(d){return[2,(y=this.q_,w=c,void me(y).qs.delete(w))];var y,w})})})}},Object.defineProperty(a.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),a.prototype.transaction=function(n){var s=this;this.L_();var c=new cr;return this.cs.ws(function(){return new Vd(s.cs,s.Ku,n,c).run(),Promise.resolve()}),c.promise},a}();function Il(a){return function(n,s){if("object"!=typeof n||null===n)return!1;for(var c=n,d=0,y=["next","error","complete"];d<y.length;d++){var w=y[d];if(w in c&&"function"==typeof c[w])return!0}return!1}(a)}var Ml=function(){function a(n,s,c,d,y){this.U=n,this.timestampsInSnapshots=s,this.H_=c,this.Y_=d,this.J_=y}return a.prototype.X_=function(n){switch(In(n)){case 0:return null;case 1:return n.booleanValue;case 2:return fn(n.integerValue||n.doubleValue);case 3:return this.Z_(n.timestampValue);case 4:return this.tf(n);case 5:return n.stringValue;case 6:return this.J_(sr(n.bytesValue));case 7:return this.ef(n.referenceValue);case 8:return this.nf(n.geoPointValue);case 9:return this.sf(n.arrayValue);case 10:return this.if(n.mapValue);default:throw we()}},a.prototype.if=function(n){var s=this,c={};return Je(n.fields||{},function(d,y){c[d]=s.X_(y)}),c},a.prototype.nf=function(n){return new Ja(fn(n.latitude),fn(n.longitude))},a.prototype.sf=function(n){var s=this;return(n.values||[]).map(function(c){return s.X_(c)})},a.prototype.tf=function(n){switch(this.H_){case"previous":var s=Xe(n);return null==s?null:this.X_(s);case"estimate":return this.Z_(Rt(n));default:return null}},a.prototype.Z_=function(n){var s=wt(n),c=new pn(s.seconds,s.nanos);return this.timestampsInSnapshots?c:c.toDate()},a.prototype.ef=function(n){var s=L.g(n);ve(on(s));var c=new Ji(s.get(1),s.get(3)),d=new R(s.u(5));return c.isEqual(this.U)||Oe("Document "+d+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(d)},a}(),vc=Rn.ho,gf=function(){function a(n){var s,c,d,y,w;if(void 0===n.host){if(void 0!==n.ssl)throw new Y(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else et("settings","non-empty string","host",n.host),this.host=n.host,je("settings","boolean","ssl",n.ssl),this.ssl=null===(s=n.ssl)||void 0===s||s;if(Tn("settings",n,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),je("settings","object","credentials",n.credentials),this.credentials=n.credentials,je("settings","boolean","timestampsInSnapshots",n.timestampsInSnapshots),je("settings","boolean","ignoreUndefinedProperties",n.ignoreUndefinedProperties),!0===n.timestampsInSnapshots?Oe("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===n.timestampsInSnapshots&&Oe("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(c=n.timestampsInSnapshots)||void 0===c||c,this.ignoreUndefinedProperties=null!==(d=n.ignoreUndefinedProperties)&&void 0!==d&&d,je("settings","number","cacheSizeBytes",n.cacheSizeBytes),void 0===n.cacheSizeBytes)this.cacheSizeBytes=Rn._o;else{if(n.cacheSizeBytes!==vc&&n.cacheSizeBytes<Rn.lo)throw new Y(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Rn.lo);this.cacheSizeBytes=n.cacheSizeBytes}je("settings","boolean","experimentalForceLongPolling",n.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(y=n.experimentalForceLongPolling)&&void 0!==y&&y,je("settings","boolean","experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(w=n.experimentalAutoDetectLongPolling)&&void 0!==w&&w,function(D,N,B,W){if(!0===N&&!0===W)throw new Y(q.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,n.experimentalForceLongPolling,0,n.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.timestampsInSnapshots===n.timestampsInSnapshots&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties},a}(),_c=function(){function a(n,s,c,d){var y=this;if(void 0===c&&(c=new Cl),void 0===d&&(d=new aa),this.rf=c,this.af=d,this.cf=null,this.uf=new De,this.INTERNAL={delete:function(){return v.__awaiter(y,void 0,void 0,function(){return v.__generator(this,function(N){switch(N.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return N.sent(),[2]}})})}},"object"==typeof n.options){var w=n;this.cf=w,this.__=a._f(w),this.ff=w.name,this.df=new th(s)}else{var D=n;if(!D.projectId)throw new Y(q.INVALID_ARGUMENT,"Must provide projectId");this.__=new Ji(D.projectId,D.database),this.ff="[DEFAULT]",this.df=new ic}this.wf=new gf({})}return Object.defineProperty(a.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Wr(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),a.prototype.settings=function(n){F("Firestore.settings",arguments,1),Re("Firestore.settings","object",1,n),n.merge&&delete(n=Object.assign(Object.assign({},this.wf),n)).merge;var s=new gf(n);if(this.lf&&!this.wf.isEqual(s))throw new Y(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=s,void 0!==s.credentials&&(this.df=function(c){if(!c)return new ic;switch(c.type){case"gapi":var d=c.client;return ve(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new oc(d,c.sessionIndex||"0");case"provider":return c.client;default:throw new Y(q.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},a.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},a.prototype.enablePersistence=function(n){var s,c;if(this.lf)throw new Y(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var d=!1,y=!1;if(n&&(void 0!==n.experimentalTabSynchronization&&Oe("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),d=null!==(c=null!==(s=n.synchronizeTabs)&&void 0!==s?s:n.experimentalTabSynchronization)&&void 0!==c&&c,y=!!n.experimentalForceOwningTab&&n.experimentalForceOwningTab,d&&y))throw new Y(q.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:d,ka:y})},a.prototype.clearPersistence=function(){return v.__awaiter(this,void 0,void 0,function(){var n,s=this;return v.__generator(this,function(c){if(void 0!==this.lf&&!this.lf.z_)throw new Y(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return n=new cr,[2,(this.uf.bs(function(){return v.__awaiter(s,void 0,void 0,function(){var d;return v.__generator(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return y.sent(),n.resolve(),[3,3];case 2:return d=y.sent(),n.reject(d),[3,3];case 3:return[2]}})})}),n.promise)]})})},a.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(a.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),a.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},a.prototype.onSnapshotsInSync=function(n){return this.hf(),Il(n)?this.lf.G_(n):(Re("Firestore.onSnapshotsInSync","function",1,n),this.lf.G_({next:n}))},a.prototype.hf=function(){return this.lf||this.Ef(new Cl,new aa,{jl:!1}),this.lf},a.prototype.Af=function(){return new bo(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},a.prototype.Ef=function(n,s,c){var d=this.Af();return this.lf=new Ud(this.df,this.uf),this.lf.start(d,n,s,c)},a._f=function(n){if(!Object.prototype.hasOwnProperty.call(n.options,"projectId"))throw new Y(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var c=n.options.projectId;if(!c||"string"!=typeof c)throw new Y(q.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ji(c)},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.cf)throw new Y(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),a.prototype.collection=function(n){return F("Firestore.collection",arguments,1),Re("Firestore.collection","non-empty string",1,n),this.hf(),new $u(L.g(n),this,null)},a.prototype.doc=function(n){return F("Firestore.doc",arguments,1),Re("Firestore.doc","non-empty string",1,n),this.hf(),Fs.Rf(L.g(n),this,null)},a.prototype.collectionGroup=function(n){if(F("Firestore.collectionGroup",arguments,1),Re("Firestore.collectionGroup","non-empty string",1,n),n.indexOf("/")>=0)throw new Y(q.INVALID_ARGUMENT,"Invalid collection ID '"+n+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Ol((s=n,new Ai(L.P(),s)),this,null);var s},a.prototype.runTransaction=function(n){var s=this;return F("Firestore.runTransaction",arguments,1),Re("Firestore.runTransaction","function",1,n),this.hf().transaction(function(c){return n(new Gu(s,c))})},a.prototype.batch=function(){return this.hf(),new wc(this)},Object.defineProperty(a,"logLevel",{get:function(){switch(Ie()){case ye.LogLevel.DEBUG:return"debug";default:return"error";case ye.LogLevel.SILENT:return"silent";case ye.LogLevel.WARN:return"warn";case ye.LogLevel.INFO:return"info";case ye.LogLevel.VERBOSE:return"verbose"}},enumerable:!1,configurable:!0}),a.setLogLevel=function(n){F("Firestore.setLogLevel",arguments,1),ut("setLogLevel",["debug","error","silent","warn","info","verbose"],1,n),_e.setLogLevel(n)},a.prototype.gf=function(){return this.wf.timestampsInSnapshots},a.prototype.Pf=function(){return this.wf},a}(),Gu=function(){function a(n,s){this.yf=n,this.Vf=s}return a.prototype.get=function(n){var s=this;F("Transaction.get",arguments,1);var c=wi("Transaction.get",n,this.yf);return this.Vf.v_([c.f_]).then(function(d){if(!d||1!==d.length)return we();var y=d[0];if(y instanceof Pn)return new fa(s.yf,c.f_,null,!1,!1,c.d_);if(y instanceof Zt)return new fa(s.yf,c.f_,y,!1,!1,c.d_);throw we()})},a.prototype.set=function(n,s,c){Z("Transaction.set",arguments,2,3);var d=wi("Transaction.set",n,this.yf);c=su("Transaction.set",c);var y=Cc(d.d_,s,c),w=tu(this.yf.mf,"Transaction.set",d.f_,y,null!==d.d_,c);return this.Vf.set(d.f_,w),this},a.prototype.update=function(n,s,c){for(var d,y,w=[],D=3;D<arguments.length;D++)w[D-3]=arguments[D];return"string"==typeof s||s instanceof ho?(J("Transaction.update",arguments,3),d=wi("Transaction.update",n,this.yf),y=Bu(this.yf.mf,"Transaction.update",d.f_,s,c,w)):(F("Transaction.update",arguments,2),d=wi("Transaction.update",n,this.yf),y=nu(this.yf.mf,"Transaction.update",d.f_,s)),this.Vf.update(d.f_,y),this},a.prototype.delete=function(n){F("Transaction.delete",arguments,1);var s=wi("Transaction.delete",n,this.yf);return this.Vf.delete(s.f_),this},a}(),wc=function(){function a(n){this.yf=n,this.pf=[],this.bf=!1}return a.prototype.set=function(n,s,c){Z("WriteBatch.set",arguments,2,3),this.vf();var d=wi("WriteBatch.set",n,this.yf);c=su("WriteBatch.set",c);var y=Cc(d.d_,s,c),w=tu(this.yf.mf,"WriteBatch.set",d.f_,y,null!==d.d_,c);return this.pf=this.pf.concat(w.w_(d.f_,an.ze())),this},a.prototype.update=function(n,s,c){for(var d,y,w=[],D=3;D<arguments.length;D++)w[D-3]=arguments[D];return this.vf(),"string"==typeof s||s instanceof ho?(J("WriteBatch.update",arguments,3),d=wi("WriteBatch.update",n,this.yf),y=Bu(this.yf.mf,"WriteBatch.update",d.f_,s,c,w)):(F("WriteBatch.update",arguments,2),d=wi("WriteBatch.update",n,this.yf),y=nu(this.yf.mf,"WriteBatch.update",d.f_,s)),this.pf=this.pf.concat(y.w_(d.f_,an.exists(!0))),this},a.prototype.delete=function(n){F("WriteBatch.delete",arguments,1),this.vf();var s=wi("WriteBatch.delete",n,this.yf);return this.pf=this.pf.concat(new Ht(s.f_,an.ze())),this},a.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},a.prototype.vf=function(){if(this.bf)throw new Y(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}(),Fs=function(a){function n(s,c,d){var y=this;return(y=a.call(this,c.__,s,d)||this).f_=s,y.firestore=c,y.d_=d,y.lf=y.firestore.hf(),y}return v.__extends(n,a),n.Rf=function(s,c,d){if(s.length%2!=0)throw new Y(q.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.R()+" has "+s.length);return new n(new R(s),c,d)},Object.defineProperty(n.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new $u(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),n.prototype.collection=function(s){if(F("DocumentReference.collection",arguments,1),Re("DocumentReference.collection","non-empty string",1,s),!s)throw new Y(q.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var c=L.g(s);return new $u(this.f_.path.child(c),this.firestore,null)},n.prototype.isEqual=function(s){if(!(s instanceof n))throw $t("isEqual","DocumentReference",1,s);return this.firestore===s.firestore&&this.f_.isEqual(s.f_)&&this.d_===s.d_},n.prototype.set=function(s,c){Z("DocumentReference.set",arguments,1,2),c=su("DocumentReference.set",c);var d=Cc(this.d_,s,c),y=tu(this.firestore.mf,"DocumentReference.set",this.f_,d,null!==this.d_,c);return this.lf.write(y.w_(this.f_,an.ze()))},n.prototype.update=function(s,c){for(var d,y=[],w=2;w<arguments.length;w++)y[w-2]=arguments[w];return"string"==typeof s||s instanceof ho?(J("DocumentReference.update",arguments,2),d=Bu(this.firestore.mf,"DocumentReference.update",this.f_,s,c,y)):(F("DocumentReference.update",arguments,1),d=nu(this.firestore.mf,"DocumentReference.update",this.f_,s)),this.lf.write(d.w_(this.f_,an.exists(!0)))},n.prototype.delete=function(){return F("DocumentReference.delete",arguments,0),this.lf.write([new Ht(this.f_,an.ze())])},n.prototype.onSnapshot=function(){for(var s,c,d,y=this,w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];Z("DocumentReference.onSnapshot",arguments,1,4);var N={includeMetadataChanges:!1},B=0;"object"!=typeof w[B]||Il(w[B])||(Tn("DocumentReference.onSnapshot",N=w[B],["includeMetadataChanges"]),je("DocumentReference.onSnapshot","boolean","includeMetadataChanges",N.includeMetadataChanges),B++);var W={includeMetadataChanges:N.includeMetadataChanges};if(Il(w[B])){var re=w[B];w[B]=null===(s=re.next)||void 0===s?void 0:s.bind(re),w[B+1]=null===(c=re.error)||void 0===c?void 0:c.bind(re),w[B+2]=null===(d=re.complete)||void 0===d?void 0:d.bind(re)}else Re("DocumentReference.onSnapshot","function",B,w[B]),fe("DocumentReference.onSnapshot","function",B+1,w[B+1]),fe("DocumentReference.onSnapshot","function",B+2,w[B+2]);var te={next:function(he){w[B]&&w[B](y.Sf(he))},error:w[B+1],complete:w[B+2]};return this.lf.listen(Dt(this.f_.path),W,te)},n.prototype.get=function(s){var c=this;Z("DocumentReference.get",arguments,0,1),Rl("DocumentReference.get",s);var d=this.firestore.hf();return s&&"cache"===s.source?d.Q_(this.f_).then(function(y){return new fa(c.firestore,c.f_,y,!0,y instanceof Zt&&y.Je,c.d_)}):d.W_(this.f_,s).then(function(y){return c.Sf(y)})},n.prototype.withConverter=function(s){return new n(this.f_,this.firestore,s)},n.prototype.Sf=function(s){var c=s.docs.get(this.f_);return new fa(this.firestore,this.f_,c,s.fromCache,s.hasPendingWrites,this.d_)},n}(us),ca=function(){function a(n,s){this.hasPendingWrites=n,this.fromCache=s}return a.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},a}(),fa=function(){function a(n,s,c,d,y,w){this.yf=n,this.f_=s,this.Df=c,this.Cf=d,this.Nf=y,this.d_=w}return a.prototype.data=function(n){var s=this;if(Z("DocumentSnapshot.data",arguments,0,1),n=vf("DocumentSnapshot.data",n),this.Df){if(this.d_){var c=new mf(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(c,n)}return new Ml(this.yf.__,this.yf.gf(),n.serverTimestamps||"none",function(d){return new Fs(d,s.yf,null)},function(d){return new Yr(d)}).X_(this.Df.rn())}},a.prototype.get=function(n,s){var c=this;if(Z("DocumentSnapshot.get",arguments,1,2),s=vf("DocumentSnapshot.get",s),this.Df){var d=this.Df.data().field(iu("DocumentSnapshot.get",n,this.f_));if(null!==d)return new Ml(this.yf.__,this.yf.gf(),s.serverTimestamps||"none",function(y){return new Fs(y,c.yf,c.d_)},function(y){return new Yr(y)}).X_(d)}},Object.defineProperty(a.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new Fs(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return new ca(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(n){if(!(n instanceof a))throw $t("isEqual","DocumentSnapshot",1,n);return this.yf===n.yf&&this.Cf===n.Cf&&this.f_.isEqual(n.f_)&&(null===this.Df?null===n.Df:this.Df.isEqual(n.Df))&&this.d_===n.d_},a}(),mf=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.prototype.data=function(s){return a.prototype.data.call(this,s)},n}(fa);function yf(a,n,s,c,d,y,w){var D;if(d.p()){if("array-contains"===y||"array-contains-any"===y)throw new Y(q.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+y+"' queries on FieldPath.documentId().");if("in"===y||"not-in"===y){bc(w,y);for(var N=[],B=0,W=w;B<W.length;B++)N.push(Ec(c,a,W[B]));D={arrayValue:{values:N}}}else D=Ec(c,a,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||bc(w,y),D=Ar(s,n,w,"in"===y||"not-in"===y);var te=lr.create(d,y,D);return function(he,Se){if(Se.hn()){var ke=Gi(he);if(null!==ke&&!ke.isEqual(Se.field))throw new Y(q.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ke.toString()+"' and '"+Se.field.toString()+"'");var dt=Qo(he);null!==dt&&Dc(0,Se.field,dt)}var ft=function(Ct,kt){for(var tn=0,Dn=Ct.filters;tn<Dn.length;tn++){var xn=Dn[tn];if(kt.indexOf(xn.op)>=0)return xn.op}return null}(he,function(Ct){switch(Ct){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Se.op));if(null!==ft)throw new Y(q.INVALID_ARGUMENT,ft===Se.op?"Invalid query. You cannot use more than one '"+Se.op.toString()+"' filter.":"Invalid query. You cannot use '"+Se.op.toString()+"' filters with '"+ft.toString()+"' filters.")}(a,te),te}function ph(a,n,s){if(null!==a.startAt)throw new Y(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Y(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Jo(n,s);return function(d,y){if(null===Qo(d)){var w=Gi(d);null!==w&&Dc(0,w,y.field)}}(a,c),c}function Ec(a,n,s){if("string"==typeof s){if(""===s)throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Na(n)&&-1!==s.indexOf("/"))throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+s+"' contains a '/' character.");var c=n.path.child(L.g(s));if(!R.F(c))throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");return Gn(a,new R(c))}if(s instanceof us)return Gn(a,s.f_);throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hn(s)+".")}function bc(a,n){if(!Array.isArray(a)||0===a.length)throw new Y(q.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(a.length>10)throw new Y(q.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===n||"array-contains-any"===n){if(a.indexOf(null)>=0)throw new Y(q.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'null' in the value array.");if(a.filter(function(s){return Number.isNaN(s)}).length>0)throw new Y(q.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Dc(a,n,s){if(!s.isEqual(n))throw new Y(q.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+s.toString()+"' instead.")}function Nl(a){if(Yo(a)&&0===a.on.length)throw new Y(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ol=function(){function a(n,s,c){this.Ff=n,this.firestore=s,this.d_=c}return a.prototype.where=function(n,s,c){F("Query.where",arguments,3),kn("Query.where",3,c);var D,B,d=ut("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,s),y=iu("Query.where",n),w=yf(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,y,d,c);return new a((B=(D=this.Ff).filters.concat([w]),new Ai(D.path,D.collectionGroup,D.on.slice(),B,D.limit,D.an,D.startAt,D.endAt)),this.firestore,this.d_)},a.prototype.orderBy=function(n,s){var c;if(Z("Query.orderBy",arguments,1,2),fe("Query.orderBy","non-empty string",2,s),void 0===s||"asc"===s)c="asc";else{if("desc"!==s)throw new Y(q.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+s+"', expected 'asc' or 'desc'.");c="desc"}var w,N,d=iu("Query.orderBy",n),y=ph(this.Ff,d,c);return new a((N=(w=this.Ff).on.concat([y]),new Ai(w.path,w.collectionGroup,N,w.filters.slice(),w.limit,w.an,w.startAt,w.endAt)),this.firestore,this.d_)},a.prototype.limit=function(n){return F("Query.limit",arguments,1),Re("Query.limit","number",1,n),lt("Query.limit",1,n),new a($e(this.Ff,n,"F"),this.firestore,this.d_)},a.prototype.limitToLast=function(n){return F("Query.limitToLast",arguments,1),Re("Query.limitToLast","number",1,n),lt("Query.limitToLast",1,n),new a($e(this.Ff,n,"L"),this.firestore,this.d_)},a.prototype.startAt=function(n){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];J("Query.startAt",arguments,1);var d=this.xf("Query.startAt",n,s,!0);return new a(Yt(this.Ff,d),this.firestore,this.d_)},a.prototype.startAfter=function(n){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];J("Query.startAfter",arguments,1);var d=this.xf("Query.startAfter",n,s,!1);return new a(Yt(this.Ff,d),this.firestore,this.d_)},a.prototype.endBefore=function(n){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];J("Query.endBefore",arguments,1);var d=this.xf("Query.endBefore",n,s,!0);return new a(Zo(this.Ff,d),this.firestore,this.d_)},a.prototype.endAt=function(n){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];J("Query.endAt",arguments,1);var d=this.xf("Query.endAt",n,s,!1);return new a(Zo(this.Ff,d),this.firestore,this.d_)},a.prototype.isEqual=function(n){if(!(n instanceof a))throw $t("isEqual","Query",1,n);return this.firestore===n.firestore&&bn(this.Ff,n.Ff)&&this.d_===n.d_},a.prototype.withConverter=function(n){return new a(this.Ff,this.firestore,n)},a.prototype.xf=function(n,s,c,d){if(kn(n,1,s),s instanceof fa)return F(n,v.__spreadArrays([s],c),1),function(w,D,N,B,W){if(!B)throw new Y(q.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+N+"().");for(var re=[],te=0,he=Io(w);te<he.length;te++){var Se=he[te];if(Se.field.p())re.push(Gn(D,B.key));else{var ke=B.field(Se.field);if(Jn(ke))throw new Y(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){var dt=Se.field.R();throw new Y(q.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+dt+"' (used as the orderBy) does not exist.")}re.push(ke)}}return new Kn(re,W)}(this.Ff,this.firestore.__,n,s.Df,d);var y=[s].concat(c);return function(w,D,N,B,W,re){var te=w.on;if(W.length>te.length)throw new Y(q.INVALID_ARGUMENT,"Too many arguments provided to "+B+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var he=[],Se=0;Se<W.length;Se++){var ke=W[Se];if(te[Se].field.p()){if("string"!=typeof ke)throw new Y(q.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+B+"(), but got a "+typeof ke);if(!Na(w)&&-1!==ke.indexOf("/"))throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+B+"() must be a plain document ID, but '"+ke+"' contains a slash.");var dt=w.path.child(L.g(ke));if(!R.F(dt))throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+B+"() must result in a valid document path, but '"+dt+"' is not because it contains an odd number of segments.");var ft=new R(dt);he.push(Gn(D,ft))}else{var Ct=Ar(N,B,ke);he.push(Ct)}}return new Kn(he,re)}(this.Ff,this.firestore.__,this.firestore.mf,n,y,d)},a.prototype.onSnapshot=function(){for(var n,s,c,d=this,y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];Z("Query.onSnapshot",arguments,1,4);var D={},N=0;if("object"!=typeof y[N]||Il(y[N])||(Tn("Query.onSnapshot",D=y[N],["includeMetadataChanges"]),je("Query.onSnapshot","boolean","includeMetadataChanges",D.includeMetadataChanges),N++),Il(y[N])){var B=y[N];y[N]=null===(n=B.next)||void 0===n?void 0:n.bind(B),y[N+1]=null===(s=B.error)||void 0===s?void 0:s.bind(B),y[N+2]=null===(c=B.complete)||void 0===c?void 0:c.bind(B)}else Re("Query.onSnapshot","function",N,y[N]),fe("Query.onSnapshot","function",N+1,y[N+1]),fe("Query.onSnapshot","function",N+2,y[N+2]);var W={next:function(re){y[N]&&y[N](new Pl(d.firestore,d.Ff,re,d.d_))},error:y[N+1],complete:y[N+2]};return Nl(this.Ff),this.firestore.hf().listen(this.Ff,D,W)},a.prototype.get=function(n){var s=this;Z("Query.get",arguments,0,1),Rl("Query.get",n),Nl(this.Ff);var c=this.firestore.hf();return(n&&"cache"===n.source?c.j_(this.Ff):c.K_(this.Ff,n)).then(function(d){return new Pl(s.firestore,s.Ff,d,s.d_)})},a}(),Pl=function(){function a(n,s,c,d){this.yf=n,this.$f=s,this.kf=c,this.d_=d,this.Mf=null,this.Of=null,this.metadata=new ca(c.hasPendingWrites,c.fromCache)}return Object.defineProperty(a.prototype,"docs",{get:function(){var n=[];return this.forEach(function(s){return n.push(s)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(n,s){var c=this;Z("QuerySnapshot.forEach",arguments,1,2),Re("QuerySnapshot.forEach","function",1,n),this.kf.docs.forEach(function(d){n.call(s,c.Lf(d,c.metadata.fromCache,c.kf.Wt.has(d.key)))})},Object.defineProperty(a.prototype,"query",{get:function(){return new Ol(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(n){n&&(Tn("QuerySnapshot.docChanges",n,["includeMetadataChanges"]),je("QuerySnapshot.docChanges","boolean","includeMetadataChanges",n.includeMetadataChanges));var s=!(!n||!n.includeMetadataChanges);if(s&&this.kf.Kt)throw new Y(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===s||(this.Mf=function(c,d,y){if(c.Qt.m()){var w=0;return c.docChanges.map(function(N){return{type:"added",doc:y(N.doc,c.fromCache,c.Wt.has(N.doc.key)),oldIndex:-1,newIndex:w++}})}var D=c.Qt;return c.docChanges.filter(function(N){return d||3!==N.type}).map(function(N){var B=y(N.doc,c.fromCache,c.Wt.has(N.doc.key)),W=-1,re=-1;return 0!==N.type&&(W=D.indexOf(N.doc.key),D=D.delete(N.doc.key)),1!==N.type&&(re=(D=D.add(N.doc)).indexOf(N.doc.key)),{type:Ki(N.type),doc:B,oldIndex:W,newIndex:re}})}(this.kf,s,this.Lf.bind(this)),this.Of=s),this.Mf},a.prototype.isEqual=function(n){if(!(n instanceof a))throw $t("isEqual","QuerySnapshot",1,n);return this.yf===n.yf&&bn(this.$f,n.$f)&&this.kf.isEqual(n.kf)&&this.d_===n.d_},a.prototype.Lf=function(n,s,c){return new mf(this.yf,n.key,n,s,c,this.d_)},a}(),$u=function(a){function n(s,c,d){var y=this;if((y=a.call(this,Dt(s),c,d)||this).Bf=s,s.length%2!=1)throw new Y(q.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s.R()+" has "+s.length);return y}return v.__extends(n,a),Object.defineProperty(n.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var s=this.Ff.path.h();return s.m()?null:new Fs(new R(s),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),n.prototype.doc=function(s){Z("CollectionReference.doc",arguments,0,1),0===arguments.length&&(s=_t.k()),Re("CollectionReference.doc","non-empty string",1,s);var c=L.g(s);return Fs.Rf(this.Ff.path.child(c),this.firestore,this.d_)},n.prototype.add=function(s){F("CollectionReference.add",arguments,1);var c=this.d_?this.d_.toFirestore(s):s;Re("CollectionReference.add","object",1,c);var d=this.doc();return new Fs(d.f_,this.firestore,null).set(c).then(function(){return d})},n.prototype.withConverter=function(s){return new n(this.Bf,this.firestore,s)},n}(Ol);function su(a,n){if(void 0===n)return{merge:!1};if(Tn(a,n,["merge","mergeFields"]),je(a,"boolean","merge",n.merge),void 0!==(y=n.mergeFields)&&function(D,N,B,W,re){if(!(W instanceof Array))throw new Y(q.INVALID_ARGUMENT,"Function "+D+"() requires its "+N+" option to be an array, but it was: "+hn(W));for(var te=0;te<W.length;++te)if(!re(W[te]))throw new Y(q.INVALID_ARGUMENT,"Function "+D+"() requires all "+N+" elements to be a string or a FieldPath, but the value at index "+te+" was: "+hn(W[te]))}(a,"mergeFields",0,y,function(s){return"string"==typeof s||s instanceof ho}),void 0!==n.mergeFields&&void 0!==n.merge)throw new Y(q.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');var y;return n}function vf(a,n){return void 0===n?{}:(Tn(a,n,["serverTimestamps"]),Te(a,0,"serverTimestamps",n.serverTimestamps,["estimate","previous","none"]),n)}function Rl(a,n){fe(a,"object",1,n),n&&(Tn(a,n,["source"]),Te(a,0,"source",n.source,["default","server","cache"]))}function wi(a,n,s){if(n instanceof us){if(n.firestore!==s)throw new Y(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}throw $t(a,"DocumentReference",1,n)}function Ki(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function Cc(a,n,s){return a?s&&(s.merge||s.mergeFields)?a.toFirestore(n,s):a.toFirestore(n):n}var jd=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return v.__extends(n,a),n.serverTimestamp=function(){U("FieldValue.serverTimestamp",arguments);var s=new hh("serverTimestamp");return s.e_="FieldValue.serverTimestamp",new n(s)},n.delete=function(){U("FieldValue.delete",arguments);var s=new Uu("deleteField");return s.e_="FieldValue.delete",new n(s)},n.arrayUnion=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];J("FieldValue.arrayUnion",arguments,1);var d=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return J("arrayUnion()",arguments,1),new pc("arrayUnion",y)}.apply(void 0,s);return d.e_="FieldValue.arrayUnion",new n(d)},n.arrayRemove=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];J("FieldValue.arrayRemove",arguments,1);var d=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return J("arrayRemove()",arguments,1),new gc("arrayRemove",y)}.apply(void 0,s);return d.e_="FieldValue.arrayRemove",new n(d)},n.increment=function(s){Re("FieldValue.increment","number",1,s),F("FieldValue.increment",arguments,1);var c=new mc("increment",s);return c.e_="FieldValue.increment",new n(c)},n.prototype.isEqual=function(s){return this.l_.isEqual(s.l_)},n}(ua),xl={Firestore:_c,GeoPoint:Ja,Timestamp:pn,Blob:Yr,Transaction:Gu,WriteBatch:wc,DocumentReference:Fs,DocumentSnapshot:fa,Query:Ol,QueryDocumentSnapshot:mf,QuerySnapshot:Pl,CollectionReference:$u,FieldPath:ho,FieldValue:jd,setLogLevel:_c.setLogLevel,CACHE_SIZE_UNLIMITED:vc};!function(a){a.INTERNAL.registerComponent(new de.Component("firestore",function(c){return d=c.getProvider("app").getImmediate(),y=c.getProvider("auth-internal"),w=new aa,D=new dc(w),new _c(d,y,D,w);var d,y,w,D},"PUBLIC").setServiceProps(Object.assign({},xl))),a.registerVersion("@firebase/firestore","1.18.0")}(Ce.default)},6433:(ht,ce,K)=>{function k(){for(var _e=0,Ie=0,ie=arguments.length;Ie<ie;Ie++)_e+=arguments[Ie].length;var Oe=Array(_e),Ge=0;for(Ie=0;Ie<ie;Ie++)for(var Me=arguments[Ie],we=0,ve=Me.length;we<ve;we++,Ge++)Oe[Ge]=Me[we];return Oe}K.r(ce),K.d(ce,{LogLevel:()=>ye,Logger:()=>Ce,setLogLevel:()=>q,setUserLogHandler:()=>Y});var v,Ae=[],ye=(()=>{return(_e=ye||(ye={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",ye;var _e})(),ae={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Ve=ye.INFO,de=((v={})[ye.DEBUG]="log",v[ye.VERBOSE]="log",v[ye.INFO]="info",v[ye.WARN]="warn",v[ye.ERROR]="error",v),ze=function(_e,Ie){for(var ie=[],Oe=2;Oe<arguments.length;Oe++)ie[Oe-2]=arguments[Oe];if(!(Ie<_e.logLevel)){var Ge=(new Date).toISOString(),Me=de[Ie];if(!Me)throw new Error("Attempted to log a message with an invalid logType (value: "+Ie+")");console[Me].apply(console,k(["["+Ge+"]  "+_e.name+":"],ie))}},Ce=function(){function _e(Ie){this.name=Ie,this._logLevel=Ve,this._logHandler=ze,this._userLogHandler=null,Ae.push(this)}return Object.defineProperty(_e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ie){if(!(Ie in ye))throw new TypeError('Invalid value "'+Ie+'" assigned to `logLevel`');this._logLevel=Ie},enumerable:!1,configurable:!0}),_e.prototype.setLogLevel=function(Ie){this._logLevel="string"==typeof Ie?ae[Ie]:Ie},Object.defineProperty(_e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ie){this._userLogHandler=Ie},enumerable:!1,configurable:!0}),_e.prototype.debug=function(){for(var Ie=[],ie=0;ie<arguments.length;ie++)Ie[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,k([this,ye.DEBUG],Ie)),this._logHandler.apply(this,k([this,ye.DEBUG],Ie))},_e.prototype.log=function(){for(var Ie=[],ie=0;ie<arguments.length;ie++)Ie[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,k([this,ye.VERBOSE],Ie)),this._logHandler.apply(this,k([this,ye.VERBOSE],Ie))},_e.prototype.info=function(){for(var Ie=[],ie=0;ie<arguments.length;ie++)Ie[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,k([this,ye.INFO],Ie)),this._logHandler.apply(this,k([this,ye.INFO],Ie))},_e.prototype.warn=function(){for(var Ie=[],ie=0;ie<arguments.length;ie++)Ie[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,k([this,ye.WARN],Ie)),this._logHandler.apply(this,k([this,ye.WARN],Ie))},_e.prototype.error=function(){for(var Ie=[],ie=0;ie<arguments.length;ie++)Ie[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,k([this,ye.ERROR],Ie)),this._logHandler.apply(this,k([this,ye.ERROR],Ie))},_e}();function q(_e){Ae.forEach(function(Ie){Ie.setLogLevel(_e)})}function Y(_e,Ie){for(var ie=function(we){var ve=null;Ie&&Ie.level&&(ve=ae[Ie.level]),we.userLogHandler=null===_e?null:function(me,Ee){for(var Je=[],qe=2;qe<arguments.length;qe++)Je[qe-2]=arguments[qe];var tt=Je.map(function(L){if(null==L)return null;if("string"==typeof L)return L;if("number"==typeof L||"boolean"==typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch(H){return null}}).filter(function(L){return L}).join(" ");Ee>=(null!=ve?ve:me.logLevel)&&_e({level:ye[Ee].toLowerCase(),message:tt,args:Je,type:me.name})}},Oe=0,Ge=Ae;Oe<Ge.length;Oe++)ie(Ge[Oe])}},5488:(ht,ce,K)=>{Object.defineProperty(ce,"__esModule",{value:!0});var k=K(5057),v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ae=function(ee,X){if(!ee)throw ye(X)},ye=function(ee){return new Error("Firebase Database ("+v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ee)},ae=function(ee){for(var X=[],le=0,be=0;be<ee.length;be++){var pe=ee.charCodeAt(be);pe<128?X[le++]=pe:pe<2048?(X[le++]=pe>>6|192,X[le++]=63&pe|128):55296==(64512&pe)&&be+1<ee.length&&56320==(64512&ee.charCodeAt(be+1))?(pe=65536+((1023&pe)<<10)+(1023&ee.charCodeAt(++be)),X[le++]=pe>>18|240,X[le++]=pe>>12&63|128,X[le++]=pe>>6&63|128,X[le++]=63&pe|128):(X[le++]=pe>>12|224,X[le++]=pe>>6&63|128,X[le++]=63&pe|128)}return X},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ee,X){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var le=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[],pe=0;pe<ee.length;pe+=3){var ct=ee[pe],Et=pe+1<ee.length,bt=Et?ee[pe+1]:0,xt=pe+2<ee.length,nt=xt?ee[pe+2]:0,qn=(15&bt)<<2|nt>>6,si=63&nt;xt||(si=64,Et||(qn=64)),be.push(le[ct>>2],le[(3&ct)<<4|bt>>4],le[qn],le[si])}return be.join("")},encodeString:function(ee,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ee):this.encodeByteArray(ae(ee),X)},decodeString:function(ee,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ee):function(ee){for(var X=[],le=0,be=0;le<ee.length;){var pe=ee[le++];if(pe<128)X[be++]=String.fromCharCode(pe);else if(pe>191&&pe<224){var ct=ee[le++];X[be++]=String.fromCharCode((31&pe)<<6|63&ct)}else if(pe>239&&pe<365){var xt=((7&pe)<<18|(63&(ct=ee[le++]))<<12|(63&(Et=ee[le++]))<<6|63&ee[le++])-65536;X[be++]=String.fromCharCode(55296+(xt>>10)),X[be++]=String.fromCharCode(56320+(1023&xt))}else{ct=ee[le++];var Et=ee[le++];X[be++]=String.fromCharCode((15&pe)<<12|(63&ct)<<6|63&Et)}}return X.join("")}(this.decodeStringToByteArray(ee,X))},decodeStringToByteArray:function(ee,X){this.init_();for(var le=X?this.charToByteMapWebSafe_:this.charToByteMap_,be=[],pe=0;pe<ee.length;){var ct=le[ee.charAt(pe++)],bt=pe<ee.length?le[ee.charAt(pe)]:0,nt=++pe<ee.length?le[ee.charAt(pe)]:64,Ut=++pe<ee.length?le[ee.charAt(pe)]:64;if(++pe,null==ct||null==bt||null==nt||null==Ut)throw Error();be.push(ct<<2|bt>>4),64!==nt&&(be.push(bt<<4&240|nt>>2),64!==Ut&&be.push(nt<<6&192|Ut))}return be},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},Ce=function(ee){try{return de.decodeString(ee,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function Y(ee,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return X}for(var be in X)!X.hasOwnProperty(be)||(ee[be]=Y(ee[be],X[be]));return ee}var _e=function(){function ee(){var X=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(le,be){X.resolve=le,X.reject=be})}return ee.prototype.wrapCallback=function(X){var le=this;return function(be,pe){be?le.reject(be):le.resolve(pe),"function"==typeof X&&(le.promise.catch(function(){}),1===X.length?X(be):X(be,pe))}},ee}();function Ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ee){return!1}}var R=function(ee){function X(le,be){var pe=ee.call(this,be)||this;return pe.code=le,pe.name="FirebaseError",Object.setPrototypeOf(pe,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(pe,U.prototype.create),pe}return k.__extends(X,ee),X}(Error),U=function(){function ee(X,le,be){this.service=X,this.serviceName=le,this.errors=be}return ee.prototype.create=function(X){for(var le=[],be=1;be<arguments.length;be++)le[be-1]=arguments[be];for(var pe=le[0]||{},ct=this.service+"/"+X,Et=this.errors[X],bt=Et?F(Et,pe):"Error",xt=this.serviceName+": "+bt+" ("+ct+").",nt=new R(ct,xt),vn=0,Ut=Object.keys(pe);vn<Ut.length;vn++){var qn=Ut[vn];"_"!==qn.slice(-1)&&(qn in nt&&console.warn('Overwriting FirebaseError base field "'+qn+'" can cause unexpected behavior.'),nt[qn]=pe[qn])}return nt},ee}();function F(ee,X){return ee.replace(J,function(le,be){var pe=X[be];return null!=pe?String(pe):"<"+be+"?>"})}var J=/\{\$([^}]+)}/g;function Z(ee){return JSON.parse(ee)}var fe=function(ee){var X={},le={},be={},pe="";try{var ct=ee.split(".");X=Z(Ce(ct[0])||""),le=Z(Ce(ct[1])||""),pe=ct[2],be=le.d||{},delete le.d}catch(Et){}return{header:X,claims:le,data:be,signature:pe}},lt=function(){function ee(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}return ee.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ee.prototype.compress_=function(X,le){le||(le=0);var be=this.W_;if("string"==typeof X)for(var pe=0;pe<16;pe++)be[pe]=X.charCodeAt(le)<<24|X.charCodeAt(le+1)<<16|X.charCodeAt(le+2)<<8|X.charCodeAt(le+3),le+=4;else for(pe=0;pe<16;pe++)be[pe]=X[le]<<24|X[le+1]<<16|X[le+2]<<8|X[le+3],le+=4;for(pe=16;pe<80;pe++)be[pe]=4294967295&((ct=be[pe-3]^be[pe-8]^be[pe-14]^be[pe-16])<<1|ct>>>31);var Ut,qn,Et=this.chain_[0],bt=this.chain_[1],xt=this.chain_[2],nt=this.chain_[3],vn=this.chain_[4];for(pe=0;pe<80;pe++){pe<40?pe<20?(Ut=nt^bt&(xt^nt),qn=1518500249):(Ut=bt^xt^nt,qn=1859775393):pe<60?(Ut=bt&xt|nt&(bt|xt),qn=2400959708):(Ut=bt^xt^nt,qn=3395469782);var ct=(Et<<5|Et>>>27)+Ut+vn+qn+be[pe]&4294967295;vn=nt,nt=xt,xt=4294967295&(bt<<30|bt>>>2),bt=Et,Et=ct}this.chain_[0]=this.chain_[0]+Et&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+nt&4294967295,this.chain_[4]=this.chain_[4]+vn&4294967295},ee.prototype.update=function(X,le){if(null!=X){void 0===le&&(le=X.length);for(var be=le-this.blockSize,pe=0,ct=this.buf_,Et=this.inbuf_;pe<le;){if(0===Et)for(;pe<=be;)this.compress_(X,pe),pe+=this.blockSize;if("string"==typeof X){for(;pe<le;)if(ct[Et]=X.charCodeAt(pe),++pe,++Et===this.blockSize){this.compress_(ct),Et=0;break}}else for(;pe<le;)if(ct[Et]=X[pe],++pe,++Et===this.blockSize){this.compress_(ct),Et=0;break}}this.inbuf_=Et,this.total_+=le}},ee.prototype.digest=function(){var X=[],le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var be=this.blockSize-1;be>=56;be--)this.buf_[be]=255&le,le/=256;this.compress_(this.buf_);var pe=0;for(be=0;be<5;be++)for(var ct=24;ct>=0;ct-=8)X[pe]=this.chain_[be]>>ct&255,++pe;return X},ee}(),Be=function(){function ee(X,le){var be=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(function(){X(be)}).catch(function(pe){be.error(pe)})}return ee.prototype.next=function(X){this.forEachObserver(function(le){le.next(X)})},ee.prototype.error=function(X){this.forEachObserver(function(le){le.error(X)}),this.close(X)},ee.prototype.complete=function(){this.forEachObserver(function(X){X.complete()}),this.close()},ee.prototype.subscribe=function(X,le,be){var ct,pe=this;if(void 0===X&&void 0===le&&void 0===be)throw new Error("Missing Observer.");ct=function(ee,X){if("object"!=typeof ee||null===ee)return!1;for(var le=0,be=["next","error","complete"];le<be.length;le++){var pe=be[le];if(pe in ee&&"function"==typeof ee[pe])return!0}return!1}(X)?X:{next:X,error:le,complete:be},void 0===ct.next&&(ct.next=it),void 0===ct.error&&(ct.error=it),void 0===ct.complete&&(ct.complete=it);var Et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{pe.finalError?ct.error(pe.finalError):ct.complete()}catch(bt){}}),this.observers.push(ct),Et},ee.prototype.unsubscribeOne=function(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ee.prototype.forEachObserver=function(X){if(!this.finalized)for(var le=0;le<this.observers.length;le++)this.sendOne(le,X)},ee.prototype.sendOne=function(X,le){var be=this;this.task.then(function(){if(void 0!==be.observers&&void 0!==be.observers[X])try{le(be.observers[X])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})},ee.prototype.close=function(X){var le=this;this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(function(){le.observers=void 0,le.onNoObservers=void 0}))},ee}();function it(){}function zt(ee,X,le){var be="";switch(X){case 1:be=le?"first":"First";break;case 2:be=le?"second":"Second";break;case 3:be=le?"third":"Third";break;case 4:be=le?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return ee+" failed: "+(be+" argument ")}ce.CONSTANTS=v,ce.Deferred=_e,ce.ErrorFactory=U,ce.FirebaseError=R,ce.MAX_VALUE_MILLIS=144e5,ce.RANDOM_FACTOR=.5,ce.Sha1=lt,ce.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},ce.assert=Ae,ce.assertionError=ye,ce.async=function(ee,X){return function(){for(var le=[],be=0;be<arguments.length;be++)le[be]=arguments[be];Promise.resolve(!0).then(function(){ee.apply(void 0,le)}).catch(function(pe){X&&X(pe)})}},ce.base64=de,ce.base64Decode=Ce,ce.base64Encode=function(ee){var X=ae(ee);return de.encodeByteArray(X,!0)},ce.calculateBackoffMillis=function(ee,X,le){void 0===X&&(X=1e3),void 0===le&&(le=2);var be=X*Math.pow(le,ee),pe=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+pe)},ce.contains=function(ee,X){return Object.prototype.hasOwnProperty.call(ee,X)},ce.createSubscribe=function(ee,X){var le=new Be(ee,X);return le.subscribe.bind(le)},ce.decode=fe,ce.deepCopy=function(ee){return Y(void 0,ee)},ce.deepExtend=Y,ce.errorPrefix=zt,ce.getUA=Ie,ce.isAdmin=function(ee){var X=fe(ee).claims;return"object"==typeof X&&!0===X.admin},ce.isBrowser=function(){return"object"==typeof self&&self.self===self},ce.isBrowserExtension=function(){var ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id},ce.isElectron=function(){return Ie().indexOf("Electron/")>=0},ce.isEmpty=function(ee){for(var X in ee)if(Object.prototype.hasOwnProperty.call(ee,X))return!1;return!0},ce.isIE=function(){var ee=Ie();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0},ce.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},ce.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())},ce.isNode=Oe,ce.isNodeSdk=function(){return!0===v.NODE_CLIENT||!0===v.NODE_ADMIN},ce.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},ce.isSafari=function(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},ce.isUWP=function(){return Ie().indexOf("MSAppHost/")>=0},ce.isValidFormat=function(ee){var le=fe(ee).claims;return!!le&&"object"==typeof le&&le.hasOwnProperty("iat")},ce.isValidTimestamp=function(ee){var X=fe(ee).claims,le=Math.floor((new Date).getTime()/1e3),be=0,pe=0;return"object"==typeof X&&(X.hasOwnProperty("nbf")?be=X.nbf:X.hasOwnProperty("iat")&&(be=X.iat),pe=X.hasOwnProperty("exp")?X.exp:be+86400),!!le&&!!be&&!!pe&&le>=be&&le<=pe},ce.issuedAtTime=function(ee){var X=fe(ee).claims;return"object"==typeof X&&X.hasOwnProperty("iat")?X.iat:null},ce.jsonEval=Z,ce.map=function(ee,X,le){var be={};for(var pe in ee)Object.prototype.hasOwnProperty.call(ee,pe)&&(be[pe]=X.call(le,ee[pe],pe,ee));return be},ce.querystring=function(ee){for(var X=[],le=function(xt,nt){Array.isArray(nt)?nt.forEach(function(vn){X.push(encodeURIComponent(xt)+"="+encodeURIComponent(vn))}):X.push(encodeURIComponent(xt)+"="+encodeURIComponent(nt))},be=0,pe=Object.entries(ee);be<pe.length;be++){var ct=pe[be];le(ct[0],ct[1])}return X.length?"&"+X.join("&"):""},ce.querystringDecode=function(ee){var X={};return ee.replace(/^\?/,"").split("&").forEach(function(be){if(be){var pe=be.split("=");X[pe[0]]=pe[1]}}),X},ce.safeGet=function(ee,X){if(Object.prototype.hasOwnProperty.call(ee,X))return ee[X]},ce.stringLength=function(ee){for(var X=0,le=0;le<ee.length;le++){var be=ee.charCodeAt(le);be<128?X++:be<2048?X+=2:be>=55296&&be<=56319?(X+=4,le++):X+=3}return X},ce.stringToByteArray=function(ee){for(var X=[],le=0,be=0;be<ee.length;be++){var pe=ee.charCodeAt(be);if(pe>=55296&&pe<=56319){var ct=pe-55296;be++,Ae(be<ee.length,"Surrogate pair missing trail surrogate."),pe=65536+(ct<<10)+(ee.charCodeAt(be)-56320)}pe<128?X[le++]=pe:pe<2048?(X[le++]=pe>>6|192,X[le++]=63&pe|128):pe<65536?(X[le++]=pe>>12|224,X[le++]=pe>>6&63|128,X[le++]=63&pe|128):(X[le++]=pe>>18|240,X[le++]=pe>>12&63|128,X[le++]=pe>>6&63|128,X[le++]=63&pe|128)}return X},ce.stringify=function(ee){return JSON.stringify(ee)},ce.validateArgCount=function(ee,X,le,be){var pe;if(be<X?pe="at least "+X:be>le&&(pe=0===le?"none":"no more than "+le),pe)throw new Error(ee+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+pe+".")},ce.validateCallback=function(ee,X,le,be){if((!be||le)&&"function"!=typeof le)throw new Error(zt(ee,X,be)+"must be a valid function.")},ce.validateContextObject=function(ee,X,le,be){if((!be||le)&&("object"!=typeof le||null===le))throw new Error(zt(ee,X,be)+"must be a valid context object.")},ce.validateIndexedDBOpenable=function(){return new Promise(function(ee,X){try{var le=!0,be="validate-browser-context-for-indexeddb-analytics-module",pe=window.indexedDB.open(be);pe.onsuccess=function(){pe.result.close(),le||window.indexedDB.deleteDatabase(be),ee(!0)},pe.onupgradeneeded=function(){le=!1},pe.onerror=function(){var ct;X((null===(ct=pe.error)||void 0===ct?void 0:ct.message)||"")}}catch(ct){X(ct)}})},ce.validateNamespace=function(ee,X,le,be){if((!be||le)&&"string"!=typeof le)throw new Error(zt(ee,X,be)+"must be a valid firebase namespace.")}},9057:(ht,ce,K)=>{K.r(ce),K.d(ce,{default:()=>Ti,ErrorCode:()=>Ys,EventType:()=>ao,WebChannel:()=>uo,XhrIo:()=>Pa,createWebChannelTransport:()=>so});var k=function(m,C){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,z){O.__proto__=z}||function(O,z){for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&(O[ne]=z[ne])})(m,C)};function Ae(m){var C="function"==typeof Symbol&&Symbol.iterator,O=C&&m[C],z=0;if(O)return O.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&z>=m.length&&(m=void 0),{value:m&&m[z++],done:!m}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}var ae,ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ve=Ve||{},de=ye||self;function ze(){}function Ce(m){var C=typeof m;return"object"!=C?C:m?Array.isArray(m)?"array":C:"null"}function q(m){var C=Ce(m);return"array"==C||"object"==C&&"number"==typeof m.length}function Y(m){var C=typeof m;return"object"==C&&null!=m||"function"==C}var Ie="closure_uid_"+(1e9*Math.random()>>>0),ie=0;function Oe(m,C,O){return m.call.apply(m.bind,arguments)}function Ge(m,C,O){if(!m)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,z),m.apply(C,ne)}}return function(){return m.apply(C,arguments)}}function Me(m,C,O){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oe:Ge).apply(null,arguments)}function we(m,C){var O=Array.prototype.slice.call(arguments,1);return function(){var z=O.slice();return z.push.apply(z,arguments),m.apply(this,z)}}var ve=Date.now;function me(m,C){function O(){}O.prototype=C.prototype,m.S=C.prototype,m.prototype=new O,m.prototype.constructor=m}function Ee(){this.j=this.j,this.i=this.i}Ee.prototype.j=!1,Ee.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(m){Object.prototype.hasOwnProperty.call(m,Ie)&&m[Ie]||(m[Ie]=++ie)}(this)},Ee.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var qe=Array.prototype.indexOf?function(m,C){return Array.prototype.indexOf.call(m,C,void 0)}:function(m,C){if("string"==typeof m)return"string"!=typeof C||1!=C.length?-1:m.indexOf(C,0);for(var O=0;O<m.length;O++)if(O in m&&m[O]===C)return O;return-1},tt=Array.prototype.forEach?function(m,C,O){Array.prototype.forEach.call(m,C,O)}:function(m,C,O){for(var z=m.length,ne="string"==typeof m?m.split(""):m,De=0;De<z;De++)De in ne&&C.call(O,ne[De],De,m)};function H(m){return Array.prototype.concat.apply([],arguments)}function T(m){var C=m.length;if(0<C){for(var O=Array(C),z=0;z<C;z++)O[z]=m[z];return O}return[]}function R(m){return/^[\s\xa0]*$/.test(m)}var Z,U=String.prototype.trim?function(m){return m.trim()}:function(m){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(m)[1]};function F(m,C){return-1!=m.indexOf(C)}function J(m,C){return m<C?-1:m>C?1:0}e:{var Re=de.navigator;if(Re){var fe=Re.userAgent;if(fe){Z=fe;break e}}Z=""}function et(m,C,O){for(var z in m)C.call(O,m[z],z,m)}function je(m){var C={};for(var O in m)C[O]=m[O];return C}var Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(m,C){for(var O,z,ne=1;ne<arguments.length;ne++){for(O in z=arguments[ne])m[O]=z[O];for(var De=0;De<Te.length;De++)O=Te[De],Object.prototype.hasOwnProperty.call(z,O)&&(m[O]=z[O])}}function yt(m){return yt[" "](m),m}yt[" "]=ze;var Ke,m,hn=F(Z,"Opera"),kn=F(Z,"Trident")||F(Z,"MSIE"),Tn=F(Z,"Edge"),$t=Tn||kn,lt=F(Z,"Gecko")&&!(F(Z.toLowerCase(),"webkit")&&!F(Z,"Edge"))&&!(F(Z,"Trident")||F(Z,"MSIE"))&&!F(Z,"Edge"),Pe=F(Z.toLowerCase(),"webkit")&&!F(Z,"Edge");function Be(){var m=de.document;return m?m.documentMode:void 0}e:{var _t="",it=(m=Z,lt?/rv:([^\);]+)(\)|;)/.exec(m):Tn?/Edge\/([\d\.]+)/.exec(m):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(m):Pe?/WebKit\/(\S+)/.exec(m):hn?/(?:Version)[ \/]?(\S+)/.exec(m):void 0);if(it&&(_t=it?it[1]:""),kn){var pt=Be();if(null!=pt&&pt>parseFloat(_t)){Ke=String(pt);break e}}Ke=_t}var zt={};function Wt(m){return function(m,C){var O=zt;return Object.prototype.hasOwnProperty.call(O,m)?O[m]:O[m]=C()}(m,function(){for(var C=0,O=U(String(Ke)).split("."),z=U(String(m)).split("."),ne=Math.max(O.length,z.length),De=0;0==C&&De<ne;De++){var st=O[De]||"",en=z[De]||"";do{if(st=/(\d*)(\D*)(.*)/.exec(st)||["","","",""],en=/(\d*)(\D*)(.*)/.exec(en)||["","","",""],0==st[0].length&&0==en[0].length)break;C=J(0==st[1].length?0:parseInt(st[1],10),0==en[1].length?0:parseInt(en[1],10))||J(0==st[2].length,0==en[2].length)||J(st[2],en[2]),st=st[3],en=en[3]}while(0==C)}return 0<=C})}var ir=de.document&&kn&&(Be()||parseInt(Ke,10))||void 0,Yr=!kn||9<=Number(ir),bo=kn&&!Wt("9"),Ji=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{de.addEventListener("test",ze,C),de.removeEventListener("test",ze,C)}catch(O){}return m}();function En(m,C){this.type=m,this.a=this.target=C,this.defaultPrevented=!1}function pn(m,C){if(En.call(this,m?m.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,m){var O=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.a=C,C=m.relatedTarget){if(lt){e:{try{yt(C.nodeName);var ne=!0;break e}catch(De){}ne=!1}ne||(C=null)}}else"mouseover"==O?C=m.fromElement:"mouseout"==O&&(C=m.toElement);this.relatedTarget=C,z?(this.clientX=void 0!==z.clientX?z.clientX:z.pageX,this.clientY=void 0!==z.clientY?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:Ot[m.pointerType]||"",this.c=m,m.defaultPrevented&&this.b()}}En.prototype.b=function(){this.defaultPrevented=!0},me(pn,En);var Ot={2:"touch",3:"pen",4:"mouse"};pn.prototype.b=function(){pn.S.b.call(this);var m=this.c;if(m.preventDefault)m.preventDefault();else if(m.returnValue=!1,bo)try{(m.ctrlKey||112<=m.keyCode&&123>=m.keyCode)&&(m.keyCode=-1)}catch(C){}};var ee="closure_listenable_"+(1e6*Math.random()|0),X=0;function le(m,C,O,z,ne){this.listener=m,this.proxy=null,this.src=C,this.type=O,this.capture=!!z,this.ca=ne,this.key=++X,this.Y=this.Z=!1}function be(m){m.Y=!0,m.listener=null,m.proxy=null,m.src=null,m.ca=null}function pe(m){this.src=m,this.a={},this.b=0}function ct(m,C){var O=C.type;if(O in m.a){var De,z=m.a[O],ne=qe(z,C);(De=0<=ne)&&Array.prototype.splice.call(z,ne,1),De&&(be(C),0==m.a[O].length&&(delete m.a[O],m.b--))}}function Et(m,C,O,z){for(var ne=0;ne<m.length;++ne){var De=m[ne];if(!De.Y&&De.listener==C&&De.capture==!!O&&De.ca==z)return ne}return-1}pe.prototype.add=function(m,C,O,z,ne){var De=m.toString();(m=this.a[De])||(m=this.a[De]=[],this.b++);var st=Et(m,C,z,ne);return-1<st?(C=m[st],O||(C.Z=!1)):((C=new le(C,this.src,De,!!z,ne)).Z=O,m.push(C)),C};var bt="closure_lm_"+(1e6*Math.random()|0),xt={};function nt(m,C,O,z,ne){if(z&&z.once)return qn(m,C,O,z,ne);if(Array.isArray(C)){for(var De=0;De<C.length;De++)nt(m,C[De],O,z,ne);return null}return O=xr(O),m&&m[ee]?m.va(C,O,Y(z)?!!z.capture:!!z,ne):vn(m,C,O,!1,z,ne)}function vn(m,C,O,z,ne,De){if(!C)throw Error("Invalid event type");var st=Y(ne)?!!ne.capture:!!ne;if(st&&!Yr)return null;var en=hi(m);if(en||(m[bt]=en=new pe(m)),(O=en.add(C,O,z,st,De)).proxy)return O;if(z=function(){var m=Zn,C=Yr?function(O){return m.call(C.src,C.listener,O)}:function(O){if(!(O=m.call(C.src,C.listener,O)))return O};return C}(),O.proxy=z,z.src=m,z.listener=O,m.addEventListener)Ji||(ne=st),void 0===ne&&(ne=!1),m.addEventListener(C.toString(),z,ne);else if(m.attachEvent)m.attachEvent(ln(C.toString()),z);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(z)}return O}function qn(m,C,O,z,ne){if(Array.isArray(C)){for(var De=0;De<C.length;De++)qn(m,C[De],O,z,ne);return null}return O=xr(O),m&&m[ee]?m.wa(C,O,Y(z)?!!z.capture:!!z,ne):vn(m,C,O,!0,z,ne)}function si(m,C,O,z,ne){if(Array.isArray(C))for(var De=0;De<C.length;De++)si(m,C[De],O,z,ne);else z=Y(z)?!!z.capture:!!z,O=xr(O),m&&m[ee]?(m=m.c,(C=String(C).toString())in m.a&&-1<(O=Et(De=m.a[C],O,z,ne))&&(be(De[O]),Array.prototype.splice.call(De,O,1),0==De.length&&(delete m.a[C],m.b--))):m&&(m=hi(m))&&(C=m.a[C.toString()],m=-1,C&&(m=Et(C,O,z,ne)),(O=-1<m?C[m]:null)&&Qn(O))}function Qn(m){if("number"!=typeof m&&m&&!m.Y){var C=m.src;if(C&&C[ee])ct(C.c,m);else{var O=m.type,z=m.proxy;C.removeEventListener?C.removeEventListener(O,z,m.capture):C.detachEvent?C.detachEvent(ln(O),z):C.addListener&&C.removeListener&&C.removeListener(z),(O=hi(C))?(ct(O,m),0==O.b&&(O.src=null,C[bt]=null)):be(m)}}}function ln(m){return m in xt?xt[m]:xt[m]="on"+m}function Xi(m,C){var O=m.listener,z=m.ca||m.src;return m.Z&&Qn(m),O.call(z,C)}function Zn(m,C){if(m.Y)return!0;if(!Yr){if(!C)e:{C=["window","event"];for(var O=de,z=0;z<C.length;z++)if(null==(O=O[C[z]])){C=null;break e}C=O}return Xi(m,C=new pn(C,this))}return Xi(m,new pn(C,this))}function hi(m){return(m=m[bt])instanceof pe?m:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xr(m){return"function"==Ce(m)?m:(m[nn]||(m[nn]=function(C){return m.handleEvent(C)}),m[nn])}function or(){Ee.call(this),this.c=new pe(this),this.J=this,this.C=null}function eo(m,C,O,z){if(!(C=m.c.a[String(C)]))return!0;C=C.concat();for(var ne=!0,De=0;De<C.length;++De){var st=C[De];if(st&&!st.Y&&st.capture==O){var en=st.listener,Jt=st.ca||st.src;st.Z&&ct(m.c,st),ne=!1!==en.call(Jt,z)&&ne}}return ne&&!z.defaultPrevented}me(or,Ee),or.prototype[ee]=!0,(ae=or.prototype).addEventListener=function(m,C,O,z){nt(this,m,C,O,z)},ae.removeEventListener=function(m,C,O,z){si(this,m,C,O,z)},ae.dispatchEvent=function(m){var C,O=this.C;if(O)for(C=[];O;O=O.C)C.push(O);O=this.J;var z=m.type||m;if("string"==typeof m)m=new En(m,O);else if(m instanceof En)m.target=m.target||O;else{var ne=m;ut(m=new En(z,O),ne)}if(ne=!0,C)for(var De=C.length-1;0<=De;De--){var st=m.a=C[De];ne=eo(st,z,!0,m)&&ne}if(ne=eo(st=m.a=O,z,!0,m)&&ne,ne=eo(st,z,!1,m)&&ne,C)for(De=0;De<C.length;De++)ne=eo(st=m.a=C[De],z,!1,m)&&ne;return ne},ae.G=function(){if(or.S.G.call(this),this.c){var C,m=this.c;for(C in m.a){for(var O=m.a[C],z=0;z<O.length;z++)be(O[z]);delete m.a[C],m.b--}}this.C=null},ae.va=function(m,C,O,z){return this.c.add(String(m),C,!1,O,z)},ae.wa=function(m,C,O,z){return this.c.add(String(m),C,!0,O,z)};var to=de.JSON.stringify;function Cn(){this.b=this.a=null}var Fi,Tt=new(function(){function m(C,O,z){this.f=z,this.c=C,this.g=O,this.b=0,this.a=null}return m.prototype.get=function(){var C;return 0<this.b?(this.b--,this.a=(C=this.a).next,C.next=null):C=this.c(),C},m}())(function(){return new hr},function(m){m.reset()},100);function rn(){var m=qo,C=null;return m.a&&(C=m.a,m.a=m.a.next,m.a||(m.b=null),C.next=null),C}function hr(){this.next=this.b=this.a=null}function Fr(m){de.setTimeout(function(){throw m},0)}function zo(m,C){Fi||function(){var m=de.Promise.resolve(void 0);Fi=function(){m.then(ro)}}(),no||(Fi(),no=!0),qo.add(m,C)}Cn.prototype.add=function(m,C){var O=Tt.get();O.set(m,C),this.b?this.b.next=O:this.a=O,this.b=O},hr.prototype.set=function(m,C){this.a=m,this.b=C,this.next=null},hr.prototype.reset=function(){this.next=this.b=this.a=null};var no=!1,qo=new Cn;function ro(){for(var m;m=rn();){try{m.a.call(m.b)}catch(O){Fr(O)}var C=Tt;C.g(m),C.b<C.f&&(C.b++,m.next=C.a,C.a=m)}no=!1}function di(m,C){or.call(this),this.b=m||1,this.a=C||de,this.f=Me(this.Ya,this),this.g=ve()}function Xt(m){m.aa=!1,m.M&&(m.a.clearTimeout(m.M),m.M=null)}function Vn(m,C,O){if("function"==Ce(m))O&&(m=Me(m,O));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Me(m.handleEvent,m)}return 2147483647<Number(C)?-1:de.setTimeout(m,C||0)}function Di(m){m.a=Vn(function(){m.a=null,m.c&&(m.c=!1,Di(m))},m.h);var C=m.b;m.b=null,m.g.apply(null,C)}me(di,or),(ae=di.prototype).aa=!1,ae.M=null,ae.Ya=function(){if(this.aa){var m=ve()-this.g;0<m&&m<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-m):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Xt(this),this.start()))}},ae.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ve())},ae.G=function(){di.S.G.call(this),Xt(this),delete this.a};var Ci=function(m){function C(O,z,ne){var De=m.call(this)||this;return De.g=null!=ne?O.bind(ne):O,De.h=z,De.b=null,De.c=!1,De.a=null,De}return function(m,C){function O(){this.constructor=m}k(m,C),m.prototype=null===C?Object.create(C):(O.prototype=C.prototype,new O)}(C,m),C.prototype.f=function(O){this.b=arguments,this.a?this.c=!0:Di(this)},C.prototype.G=function(){m.prototype.G.call(this),this.a&&(de.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},C}(Ee);function Un(m){Ee.call(this),this.b=m,this.a={}}me(Un,Ee);var Jn=[];function Xe(m,C,O,z){Array.isArray(O)||(O&&(Jn[0]=O.toString()),O=Jn);for(var ne=0;ne<O.length;ne++){var De=nt(C,O[ne],z||m.handleEvent,!1,m.b||m);if(!De)break;m.a[De.key]=De}}function Rt(m){et(m.a,function(C,O){this.a.hasOwnProperty(O)&&Qn(C)},m),m.a={}}function _n(){this.a=!0}function cn(m,C,O,z){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+function(m,C){if(!m.a)return C;if(!C)return null;try{var O=JSON.parse(C);if(O)for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var z=O[m];if(!(2>z.length)){var ne=z[1];if(Array.isArray(ne)&&!(1>ne.length)){var De=ne[0];if("noop"!=De&&"stop"!=De&&"close"!=De)for(var st=1;st<ne.length;st++)ne[st]=""}}}return to(O)}catch(en){return C}}(m,O)+(z?" "+z:"")})}Un.prototype.G=function(){Un.S.G.call(this),Rt(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_n.prototype.info=function(){};var Li=null;function Lr(){return Li=Li||new or}function wt(m){En.call(this,"serverreachability",m)}function fn(m){var C=Lr();C.dispatchEvent(new wt(C,m))}function sr(m){En.call(this,"statevent",m)}function Gn(m){var C=Lr();C.dispatchEvent(new sr(C,m))}function ar(m){En.call(this,"timingevent",m)}function Mn(m,C){if("function"!=Ce(m))throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){m()},C)}me(wt,En),me(sr,En),me(ar,En);var pi={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},dr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Xn(){}function Hs(){}Xn.prototype.a=null;var io,ai={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function kr(){En.call(this,"d")}function Nn(){En.call(this,"c")}function Vr(){}function Tr(m,C,O,z){this.g=m,this.c=C,this.f=O,this.T=z||1,this.J=new Un(this),this.P=pr,this.R=new di(m=$t?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}me(kr,En),me(Nn,En),me(Vr,Xn),io=new Vr;var pr=45e3,On={},wr={};function Ir(m,C,O){m.H=1,m.i=gi(Ur(C)),m.j=O,m.I=!0,Mr(m,null)}function Mr(m,C){m.u=ve(),An(m),m.l=Ur(m.i);var O=m.l,z=m.T;Array.isArray(z)||(z=[String(z)]),an(O.b,"t",z),m.D=0,m.a=bu(m.g,m.g.C?C:null),0<m.O&&(m.F=new Ci(Me(m.Ca,m,m.a),m.O)),Xe(m.J,m.a,"readystatechange",m.Wa),C=m.B?je(m.B):{},m.j?(m.m||(m.m="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.a.ba(m.l,m.m,m.j,C)):(m.m="GET",m.a.ba(m.l,m.m,null,C)),fn(1),function(m,C,O,z,ne,De){m.info(function(){if(m.a)if(De)for(var st="",en=De.split("&"),Jt=0;Jt<en.length;Jt++){var er=en[Jt].split("=");if(1<er.length){var tr=er[0];er=er[1];var Hr=tr.split("_");st=2<=Hr.length&&"type"==Hr[1]?st+(tr+"=")+er+"&":st+(tr+"=redacted&")}}else st=null;else st=De;return"XMLHTTP REQ ("+z+") [attempt "+ne+"]: "+C+"\n"+O+"\n"+st})}(m.c,m.m,m.l,m.f,m.T,m.j)}function wn(m,C,O){for(var z=!0;!m.A&&m.D<O.length;){var ne=Do(m,O);if(ne==wr){4==C&&(m.h=4,Gn(14),z=!1),cn(m.c,m.f,null,"[Incomplete Response]");break}if(ne==On){m.h=4,Gn(15),cn(m.c,m.f,O,"[Invalid Chunk]"),z=!1;break}cn(m.c,m.f,ne,null),Gs(m,ne)}4==C&&0==O.length&&(m.h=1,Gn(16),z=!1),m.b=m.b&&z,z?0<O.length&&!m.W&&(m.W=!0,(C=m.g).a==m&&C.V&&!C.F&&(C.c.info("Great, no buffering proxy detected. Bytes received: "+O.length),$i(C),C.F=!0)):(cn(m.c,m.f,O,"[Invalid Chunked Response]"),Si(m),Co(m))}function Do(m,C){var O=m.D,z=C.indexOf("\n",O);return-1==z?wr:(O=Number(C.substring(O,z)),isNaN(O)?On:(z+=1)+O>C.length?wr:(C=C.substr(z,O),m.D=z+O,C))}function An(m){m.U=ve()+m.P,ki(m,m.P)}function ki(m,C){if(null!=m.o)throw Error("WatchDog timer not null");m.o=Mn(Me(m.Ua,m),C)}function Vi(m){m.o&&(de.clearTimeout(m.o),m.o=null)}function Co(m){0==m.g.v||m.A||Oa(m.g,m)}function Si(m){Vi(m);var C=m.F;C&&"function"==typeof C.ja&&C.ja(),m.F=null,Xt(m.R),Rt(m.J),m.a&&(C=m.a,m.a=null,C.abort(),C.ja())}function Gs(m,C){try{var O=m.g;if(0!=O.v&&(O.a==m||We(O.b,m)))if(O.I=m.N,!m.C&&We(O.b,m)&&3==O.v){try{var z=O.ka.a.parse(C)}catch(ei){z=null}if(Array.isArray(z)&&3==z.length){var ne=z;if(0==ne[0])e:if(O.j)O.oa=ne[1],0<O.oa-O.P&&37500>ne[2]&&O.H&&0==O.o&&!O.m&&(O.m=Mn(Me(O.Ra,O),6e3));else{if(O.a){if(!(O.a.u+3e3<m.u))break e;Jr(O),Zo(O)}bs(O),Gn(18)}if(1>=xe(O.b)&&O.ea){try{O.ea()}catch(ei){}O.ea=void 0}}else Kn(O,11)}else if((m.C||O.a==m)&&Jr(O),!R(C))for(C=z=O.ka.a.parse(C),z=0;z<C.length;z++)if(O.P=(ne=C[z])[0],ne=ne[1],2==O.v)if("c"==ne[0]){O.J=ne[1],O.ga=ne[2];var De=ne[3];null!=De&&(O.ha=De,O.c.info("VER="+O.ha));var st=ne[4];null!=st&&(O.pa=st,O.c.info("SVER="+O.pa));var en=ne[5];if(null!=en&&"number"==typeof en&&0<en){var Jt=1.5*en;O.D=Jt,O.c.info("backChannelRequestTimeoutMs_="+Jt)}Jt=O;var er=m.a;if(er){var tr=er.a?er.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(tr){var Hr=Jt.b;!Hr.a&&(F(tr,"spdy")||F(tr,"quic")||F(tr,"h2"))&&(Hr.f=Hr.g,Hr.a=new Set,Hr.b&&(Vt(Hr,Hr.b),Hr.b=null))}if(Jt.A){var mi=er.a?er.a.getResponseHeader("X-HTTP-Session-Id"):null;mi&&(Jt.na=mi,on(Jt.B,Jt.A,mi))}}O.v=3,O.f&&O.f.ta(),O.V&&(O.N=ve()-m.u,O.c.info("Handshake RTT: "+O.N+"ms"));var lo=m;if((Jt=O).la=Mo(Jt,Jt.C?Jt.ga:null,Jt.fa),lo.C){Nt(Jt.b,lo);var Oo=lo,Xr=Jt.D;Xr&&Oo.setTimeout(Xr),Oo.o&&(Vi(Oo),An(Oo)),Jt.a=lo}else Eu(Jt);0<O.g.length&&jr(O)}else"stop"!=ne[0]&&"close"!=ne[0]||Kn(O,7);else 3==O.v&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?Kn(O,7):Yt(O):"noop"!=ne[0]&&O.f&&O.f.sa(ne),O.o=0);fn(4)}catch(ei){}}function $s(m,C){if(m.forEach&&"function"==typeof m.forEach)m.forEach(C,void 0);else if(q(m)||"string"==typeof m)tt(m,C,void 0);else{if(m.L&&"function"==typeof m.L)var O=m.L();else if(m.K&&"function"==typeof m.K)O=void 0;else if(q(m)||"string"==typeof m){O=[];for(var z=m.length,ne=0;ne<z;ne++)O.push(ne)}else for(ne in O=[],z=0,m)O[z++]=ne;z=function(m){if(m.K&&"function"==typeof m.K)return m.K();if("string"==typeof m)return m.split("");if(q(m)){for(var C=[],O=m.length,z=0;z<O;z++)C.push(m[z]);return C}for(z in C=[],O=0,m)C[O++]=m[z];return C}(m),ne=z.length;for(var De=0;De<ne;De++)C.call(void 0,z[De],O&&O[De],m)}}function Wo(m,C){this.b={},this.a=[],this.c=0;var O=arguments.length;if(1<O){if(O%2)throw Error("Uneven number of arguments");for(var z=0;z<O;z+=2)this.set(arguments[z],arguments[z+1])}else if(m)if(m instanceof Wo)for(O=m.L(),z=0;z<O.length;z++)this.set(O[z],m.get(O[z]));else for(z in m)this.set(z,m[z])}function zs(m){if(m.c!=m.a.length){for(var C=0,O=0;C<m.a.length;){var z=m.a[C];Ui(m.b,z)&&(m.a[O++]=z),C++}m.a.length=O}if(m.c!=m.a.length){var ne={};for(O=C=0;C<m.a.length;)Ui(ne,z=m.a[C])||(m.a[O++]=z,ne[z]=1),C++;m.a.length=O}}function Ui(m,C){return Object.prototype.hasOwnProperty.call(m,C)}(ae=Tr.prototype).setTimeout=function(m){this.P=m},ae.Wa=function(m){m=m.target;var C=this.F;C&&3==Gi(m)?C.f():this.Ca(m)},ae.Ca=function(m){try{if(m==this.a)e:{var C=Gi(this.a),O=this.a.ua(),z=this.a.X();if(!(3>C||3==C&&!$t&&!this.a.$())){this.A||4!=C||7==O||fn(8==O||0>=z?3:2),Vi(this);var ne=this.a.X();this.N=ne;var De=this.a.$();if(this.b=200==ne,function(m,C,O,z,ne,De,st){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ne+"]: "+C+"\n"+O+"\n"+De+" "+st})}(this.c,this.m,this.l,this.f,this.T,C,ne),this.b){if(this.V&&!this.C){t:{if(this.a){var st,en=this.a;if((st=en.a?en.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(st)){var Jt=st;break t}}Jt=null}if(!Jt){this.b=!1,this.h=3,Gn(12),Si(this),Co(this);break e}cn(this.c,this.f,Jt,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gs(this,Jt)}this.I?(wn(this,C,De),$t&&this.b&&3==C&&(Xe(this.J,this.R,"tick",this.Va),this.R.start())):(cn(this.c,this.f,De,null),Gs(this,De)),4==C&&Si(this),this.b&&!this.A&&(4==C?Oa(this.g,this):(this.b=!1,An(this)))}else 400==ne&&0<De.indexOf("Unknown SID")?(this.h=3,Gn(12)):(this.h=0,Gn(13)),Si(this),Co(this)}}}catch(er){}},ae.Va=function(){if(this.a){var m=Gi(this.a),C=this.a.$();this.D<C.length&&(Vi(this),wn(this,m,C),this.b&&4!=m&&An(this))}},ae.cancel=function(){this.A=!0,Si(this)},ae.Ua=function(){this.o=null;var m=ve();0<=m-this.U?(function(m,C){m.info(function(){return"TIMEOUT: "+C})}(this.c,this.l),2!=this.H&&(fn(3),Gn(17)),Si(this),this.h=2,Co(this)):ki(this,this.U-m)},(ae=Wo.prototype).K=function(){zs(this);for(var m=[],C=0;C<this.a.length;C++)m.push(this.b[this.a[C]]);return m},ae.L=function(){return zs(this),this.a.concat()},ae.get=function(m,C){return Ui(this.b,m)?this.b[m]:C},ae.set=function(m,C){Ui(this.b,m)||(this.c++,this.a.push(m)),this.b[m]=C},ae.forEach=function(m,C){for(var O=this.L(),z=0;z<O.length;z++){var ne=O[z],De=this.get(ne);m.call(C,De,ne,this)}};var qs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function So(m,C){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,m instanceof So){this.a=void 0!==C?C:m.a,ji(this,m.f),this.j=m.j,Ao(this,m.c),Ft(this,m.h),this.g=m.g,C=m.b;var O=new mr;O.c=C.c,C.a&&(O.a=new Wo(C.a),O.b=C.b),wu(this,O),this.i=m.i}else m&&(O=String(m).match(qs))?(this.a=!!C,ji(this,O[1]||"",!0),this.j=Ko(O[2]||""),Ao(this,O[3]||"",!0),Ft(this,O[4]),this.g=Ko(O[5]||"",!0),wu(this,O[6]||"",!0),this.i=Ko(O[7]||"")):(this.a=!!C,this.b=new mr(null,this.a))}function Ur(m){return new So(m)}function ji(m,C,O){m.f=O?Ko(C,!0):C,m.f&&(m.f=m.f.replace(/:$/,""))}function Ao(m,C,O){m.c=O?Ko(C,!0):C}function Ft(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.h=C}else m.h=null}function wu(m,C,O){C instanceof mr?(m.b=C,function(m,C){C&&!m.f&&(Nr(m),m.c=null,m.a.forEach(function(O,z){var ne=z.toLowerCase();z!=ne&&(Hi(this,z),an(this,ne,O))},m)),m.f=C}(m.b,m.a)):(O||(C=gr(C,vs)),m.b=new mr(C,m.a))}function on(m,C,O){m.b.set(C,O)}function gi(m){return on(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ve()).toString(36)),m}function Ko(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function gr(m,C,O){return"string"==typeof m?(m=encodeURI(m).replace(C,Er),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Er(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}So.prototype.toString=function(){var m=[],C=this.f;C&&m.push(gr(C,To,!0),":");var O=this.c;return(O||"file"==C)&&(m.push("//"),(C=this.j)&&m.push(gr(C,To,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(O=this.h)&&m.push(":",String(O))),(O=this.g)&&(this.c&&"/"!=O.charAt(0)&&m.push("/"),m.push(gr(O,"/"==O.charAt(0)?Ta:Bi,!0))),(O=this.b.toString())&&m.push("?",O),(O=this.i)&&m.push("#",gr(O,Wn)),m.join("")};var To=/[#\/\?@]/g,Bi=/[#\?:]/g,Ta=/[#\?]/g,vs=/[#\?@]/g,Wn=/#/g;function mr(m,C){this.b=this.a=null,this.c=m||null,this.f=!!C}function Nr(m){m.a||(m.a=new Wo,m.b=0,m.c&&function(m,C){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var z=m[O].indexOf("="),ne=null;if(0<=z){var De=m[O].substring(0,z);ne=m[O].substring(z+1)}else De=m[O];C(De,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}(m.c,function(C,O){m.add(decodeURIComponent(C.replace(/\+/g," ")),O)}))}function Hi(m,C){Nr(m),C=I(m,C),Ui(m.a.b,C)&&(m.c=null,m.b-=m.a.get(C).length,Ui((m=m.a).b,C)&&(delete m.b[C],m.c--,m.a.length>2*m.c&&zs(m)))}function Ia(m,C){return Nr(m),C=I(m,C),Ui(m.a.b,C)}function an(m,C,O){Hi(m,C),0<O.length&&(m.c=null,m.a.set(I(m,C),T(O)),m.b+=O.length)}function I(m,C){return C=String(C),m.f&&(C=C.toLowerCase()),C}function M(m,C){this.b=m,this.a=C}function $(m){this.g=m||se,m=de.PerformanceNavigationTiming?0<(m=de.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(de.ia&&de.ia.ya&&de.ia.ya()&&de.ia.ya().qb),this.f=m?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ae=mr.prototype).add=function(m,C){Nr(this),this.c=null,m=I(this,m);var O=this.a.get(m);return O||this.a.set(m,O=[]),O.push(C),this.b+=1,this},ae.forEach=function(m,C){Nr(this),this.a.forEach(function(O,z){tt(O,function(ne){m.call(C,ne,z,this)},this)},this)},ae.L=function(){Nr(this);for(var m=this.a.K(),C=this.a.L(),O=[],z=0;z<C.length;z++)for(var ne=m[z],De=0;De<ne.length;De++)O.push(C[z]);return O},ae.K=function(m){Nr(this);var C=[];if("string"==typeof m)Ia(this,m)&&(C=H(C,this.a.get(I(this,m))));else{m=this.a.K();for(var O=0;O<m.length;O++)C=H(C,m[O])}return C},ae.set=function(m,C){return Nr(this),this.c=null,Ia(this,m=I(this,m))&&(this.b-=this.a.get(m).length),this.a.set(m,[C]),this.b+=1,this},ae.get=function(m,C){return m&&0<(m=this.K(m)).length?String(m[0]):C},ae.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var m=[],C=this.a.L(),O=0;O<C.length;O++){var z=C[O],ne=encodeURIComponent(String(z));z=this.K(z);for(var De=0;De<z.length;De++){var st=ne;""!==z[De]&&(st+="="+encodeURIComponent(String(z[De]))),m.push(st)}}return this.c=m.join("&")};var se=10;function Ne(m){return!!m.b||!!m.a&&m.a.size>=m.f}function xe(m){return m.b?1:m.a?m.a.size:0}function We(m,C){return m.b?m.b==C:!!m.a&&m.a.has(C)}function Vt(m,C){m.a?m.a.add(C):m.b=C}function Nt(m,C){m.b&&m.b==C?m.b=null:m.a&&m.a.has(C)&&m.a.delete(C)}function qt(m){var C,O;if(null!=m.b)return m.c.concat(m.b.s);if(null!=m.a&&0!==m.a.size){var z=m.c;try{for(var ne=Ae(m.a.values()),De=ne.next();!De.done;De=ne.next())z=z.concat(De.value.s)}catch(en){C={error:en}}finally{try{De&&!De.done&&(O=ne.return)&&O.call(ne)}finally{if(C)throw C.error}}return z}return T(m.c)}function Qt(){}function jn(){this.a=new Qt}function Ht(m,C,O){var z=O||"";try{$s(m,function(ne,De){var st=ne;Y(ne)&&(st=to(ne)),C.push(z+De+"="+encodeURIComponent(st))})}catch(ne){throw C.push(z+"type="+encodeURIComponent("_badmap")),ne}}function $n(m,C,O,z,ne){try{C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null,ne(z)}catch(De){}}$.prototype.cancel=function(){var m,C;if(this.c=qt(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var O=Ae(this.a.values()),z=O.next();!z.done;z=O.next())z.value.cancel()}catch(De){m={error:De}}finally{try{z&&!z.done&&(C=O.return)&&C.call(O)}finally{if(m)throw m.error}}this.a.clear()}},Qt.prototype.stringify=function(m){return de.JSON.stringify(m,void 0)},Qt.prototype.parse=function(m){return de.JSON.parse(m,void 0)};var zn=de.JSON.parse;function Kt(m){or.call(this),this.headers=new Wo,this.H=m||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qr,this.D=this.F=!1}me(Kt,or);var Qr="",Zt=/^https?$/i,Pn=["POST","PUT"];function Ai(m){return"content-type"==m.toLowerCase()}function _s(m,C){m.b=!1,m.a&&(m.g=!0,m.a.abort(),m.g=!1),m.f=C,m.h=5,Dt(m),Yo(m)}function Dt(m){m.u||(m.u=!0,m.dispatchEvent("complete"),m.dispatchEvent("error"))}function Ma(m){if(m.b&&void 0!==Ve&&(!m.s[1]||4!=Gi(m)||2!=m.X()))if(m.l&&4==Gi(m))Vn(m.za,0,m);else if(m.dispatchEvent("readystatechange"),4==Gi(m)){m.b=!1;try{var z,C=m.X();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}if(!(z=O)){var ne;if(ne=0===C){var De=String(m.B).match(qs)[1]||null;if(!De&&de.self&&de.self.location){var st=de.self.location.protocol;De=st.substr(0,st.length-1)}ne=!Zt.test(De?De.toLowerCase():"")}z=ne}if(z)m.dispatchEvent("complete"),m.dispatchEvent("success");else{m.h=6;try{var en=2<Gi(m)?m.a.statusText:""}catch(Jt){en=""}m.f=en+" ["+m.X()+"]",Dt(m)}}finally{Yo(m)}}}function Yo(m,C){if(m.a){Qo(m);var O=m.a,z=m.s[0]?ze:null;m.a=null,m.s=null,C||m.dispatchEvent("ready");try{O.onreadystatechange=z}catch(ne){}}}function Qo(m){m.a&&m.D&&(m.a.ontimeout=null),m.m&&(de.clearTimeout(m.m),m.m=null)}function Gi(m){return m.a?m.a.readyState:0}function Io(m,C,O){e:{for(z in O){var z=!1;break e}z=!0}z||(O=function(m){var C="";return et(m,function(O,z){C+=z,C+=":",C+=O,C+="\r\n"}),C}(O),"string"==typeof m?null!=O&&encodeURIComponent(String(O)):on(m,C,O))}function Zr(m,C,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||C}function $e(m){this.pa=0,this.g=[],this.c=new _n,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Zr("failFast",!1,m),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Zr("baseRetryDelayMs",5e3,m),this.Ma=Zr("retryDelaySeedMs",1e4,m),this.Ja=Zr("forwardChannelMaxRetries",2,m),this.ma=Zr("forwardChannelRequestTimeoutMs",2e4,m),this.Ka=m&&m.g||void 0,this.D=void 0,this.C=m&&m.supportsCrossDomainXhr||!1,this.J="",this.b=new $(m&&m.concurrentRequestLimit),this.ka=new jn,this.da=m&&m.fastHandshake||!1,this.Ga=m&&m.b||!1,m&&m.f&&(this.c.a=!1),m&&m.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&m&&m.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Yt(m){if(bn(m),3==m.v){var C=m.R++,O=Ur(m.B);on(O,"SID",m.J),on(O,"RID",C),on(O,"TYPE","terminate"),lr(m,O),(C=new Tr(m,m.c,C,void 0)).H=2,C.i=gi(Ur(O)),O=!1,de.navigator&&de.navigator.sendBeacon&&(O=de.navigator.sendBeacon(C.i.toString(),"")),!O&&de.Image&&((new Image).src=C.i,O=!0),O||(C.a=bu(C.g,null),C.a.ba(C.i)),C.u=ve(),An(C)}Ks(m)}function Zo(m){m.a&&($i(m),m.a.cancel(),m.a=null)}function bn(m){Zo(m),m.j&&(de.clearTimeout(m.j),m.j=null),Jr(m),m.b.cancel(),m.h&&("number"==typeof m.h&&de.clearTimeout(m.h),m.h=null)}function ui(m,C){m.g.push(new M(m.La++,C)),3==m.v&&jr(m)}function jr(m){Ne(m.b)||m.h||(m.h=!0,zo(m.Ba,m),m.u=0)}function ws(m,C){var O;O=C?C.f:m.R++;var z=Ur(m.B);on(z,"SID",m.J),on(z,"RID",O),on(z,"AID",m.P),lr(m,z),m.i&&m.l&&Io(z,m.i,m.l),O=new Tr(m,m.c,O,m.u+1),null===m.i&&(O.B=m.l),C&&(m.g=C.s.concat(m.g)),C=Es(m,O,1e3),O.setTimeout(Math.round(.5*m.ma)+Math.round(.5*m.ma*Math.random())),Vt(m.b,O),Ir(O,z,C)}function lr(m,C){m.f&&$s({},function(O,z){on(C,z,O)})}function Es(m,C,O){O=Math.min(m.g.length,O);var z=m.f?Me(m.f.Ha,m.f,m):null;e:for(var ne=m.g,De=-1;;){var st=["count="+O];-1==De?0<O?st.push("ofs="+(De=ne[0].b)):De=0:st.push("ofs="+De);for(var en=!0,Jt=0;Jt<O;Jt++){var er=ne[Jt].b,tr=ne[Jt].a;if(0>(er-=De))De=Math.max(0,ne[Jt].b-100),en=!1;else try{Ht(tr,st,"req"+er+"_")}catch(Hr){z&&z(tr)}}if(en){z=st.join("&");break e}}return m=m.g.splice(0,O),C.s=m,z}function Eu(m){m.a||m.j||(m.U=1,zo(m.Aa,m),m.o=0)}function bs(m){return!(m.a||m.j||3<=m.o||(m.U++,m.j=Mn(Me(m.Aa,m),oo(m,m.o)),m.o++,0))}function $i(m){null!=m.s&&(de.clearTimeout(m.s),m.s=null)}function Dr(m){m.a=new Tr(m,m.c,"rpc",m.U),null===m.i&&(m.a.B=m.l),m.a.O=0;var C=Ur(m.la);on(C,"RID","rpc"),on(C,"SID",m.J),on(C,"CI",m.H?"0":"1"),on(C,"AID",m.P),lr(m,C),on(C,"TYPE","xmlhttp"),m.i&&m.l&&Io(C,m.i,m.l),m.D&&m.a.setTimeout(m.D);var O=m.a;m=m.ga,O.H=1,O.i=gi(Ur(C)),O.j=null,O.I=!0,Mr(O,m)}function Jr(m){null!=m.m&&(de.clearTimeout(m.m),m.m=null)}function Oa(m,C){var O=null;if(m.a==C){Jr(m),$i(m),m.a=null;var z=2}else{if(!We(m.b,C))return;O=C.s,Nt(m.b,C),z=1}if(m.I=C.N,0!=m.v)if(C.b)if(1==z){O=C.j?C.j.length:0,C=ve()-C.u;var ne=m.u;(z=Lr()).dispatchEvent(new ar(z,O,C,ne)),jr(m)}else Eu(m);else if(3==(ne=C.h)||0==ne&&0<m.I||!(1==z&&function(m,C){return!(xe(m.b)>=m.b.f-(m.h?1:0)||(m.h?(m.g=C.s.concat(m.g),0):1==m.v||2==m.v||m.u>=(m.Ia?0:m.Ja)||(m.h=Mn(Me(m.Ba,m,C),oo(m,m.u)),m.u++,0)))}(m,C)||2==z&&bs(m)))switch(O&&0<O.length&&(C=m.b,C.c=C.c.concat(O)),ne){case 1:Kn(m,5);break;case 4:Kn(m,10);break;case 3:Kn(m,6);break;default:Kn(m,2)}}function oo(m,C){var O=m.Fa+Math.floor(Math.random()*m.Ma);return m.f||(O*=2),O*C}function Kn(m,C){if(m.c.info("Error code "+C),2==C){var O=null;m.f&&(O=null);var z=Me(m.Xa,m);O||(O=new So("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||ji(O,"https"),gi(O)),function(m,C){var O=new _n;if(de.Image){var z=new Image;z.onload=we($n,O,z,"TestLoadImage: loaded",!0,C),z.onerror=we($n,O,z,"TestLoadImage: error",!1,C),z.onabort=we($n,O,z,"TestLoadImage: abort",!1,C),z.ontimeout=we($n,O,z,"TestLoadImage: timeout",!1,C),de.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else C(!1)}(O.toString(),z)}else Gn(2);m.v=0,m.f&&m.f.ra(C),Ks(m),bn(m)}function Ks(m){m.v=0,m.I=-1,m.f&&((0!=qt(m.b).length||0!=m.g.length)&&(m.b.c.length=0,T(m.g),m.g.length=0),m.f.qa())}function Mo(m,C,O){var z=function(m){return m instanceof So?Ur(m):new So(m,void 0)}(O);if(""!=z.c)C&&Ao(z,C+"."+z.c),Ft(z,z.h);else{var ne=de.location;z=function(m,C,O,z){var ne=new So(null,void 0);return m&&ji(ne,m),C&&Ao(ne,C),O&&Ft(ne,O),z&&(ne.g=z),ne}(ne.protocol,C?C+"."+ne.hostname:ne.hostname,+ne.port,O)}return m.W&&et(m.W,function(De,st){on(z,st,De)}),O=m.na,(C=m.A)&&O&&on(z,C,O),on(z,"VER",m.ha),lr(m,z),z}function bu(m,C){if(C&&!m.C)throw Error("Can't create secondary domain capable XhrIo object.");return(C=new Kt(m.Ka)).F=m.C,C}function Jo(){}function Ds(){if(kn&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function Cr(m,C){or.call(this),this.a=new $e(C),this.l=m,this.b=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.a.l=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.a&&(m?m["X-WebChannel-Client-Profile"]=C.a:m={"X-WebChannel-Client-Profile":C.a}),this.a.O=m,(m=C&&C.httpHeadersOverwriteParam)&&!R(m)&&(this.a.i=m),this.h=C&&C.supportsCrossDomainXhr||!1,this.g=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.a.A=C,null!==(m=this.b)&&C in m&&C in(m=this.b)&&delete m[C]),this.f=new Ye(this)}function cr(m){kr.call(this);var C=m.__sm__;if(C){e:{for(var O in C){m=O;break e}m=void 0}(this.c=m)?(m=this.c,this.data=null!==C&&m in C?C[m]:void 0):this.data=C}else this.data=m}function No(){Nn.call(this),this.status=1}function Ye(m){this.a=m}(ae=Kt.prototype).ba=function(m,C,O,z){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+m);C=C?C.toUpperCase():"GET",this.B=m,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(m){var C;return(C=m.a)||(C=m.a={}),C}(this.H?this.H:io),this.a.onreadystatechange=Me(this.za,this);try{this.A=!0,this.a.open(C,String(m),!0),this.A=!1}catch(De){return void _s(this,De)}m=O||"";var ne=new Wo(this.headers);z&&$s(z,function(De,st){ne.set(st,De)}),z=function(m){e:{for(var C=Ai,O=m.length,z="string"==typeof m?m.split(""):m,ne=0;ne<O;ne++)if(ne in z&&C.call(void 0,z[ne],ne,m)){C=ne;break e}C=-1}return 0>C?null:"string"==typeof m?m.charAt(C):m[C]}(ne.L()),O=de.FormData&&m instanceof de.FormData,!(0<=qe(Pn,C))||z||O||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ne.forEach(function(De,st){this.a.setRequestHeader(st,De)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Qo(this),0<this.o&&((this.D=function(m){return kn&&Wt(9)&&"number"==typeof m.timeout&&void 0!==m.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Me(this.xa,this)):this.m=Vn(this.xa,this.o,this)),this.l=!0,this.a.send(m),this.l=!1}catch(De){_s(this,De)}},ae.xa=function(){void 0!==Ve&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ae.abort=function(m){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=m||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yo(this))},ae.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yo(this,!0)),Kt.S.G.call(this)},ae.za=function(){this.j||(this.A||this.l||this.g?Ma(this):this.Ta())},ae.Ta=function(){Ma(this)},ae.X=function(){try{return 2<Gi(this)?this.a.status:-1}catch(m){return-1}},ae.$=function(){try{return this.a?this.a.responseText:""}catch(m){return""}},ae.Na=function(m){if(this.a){var C=this.a.responseText;return m&&0==C.indexOf(m)&&(C=C.substring(m.length)),zn(C)}},ae.ua=function(){return this.h},ae.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ae=$e.prototype).ha=8,ae.v=1,ae.Ba=function(m){if(this.h)if(this.h=null,1==this.v){if(!m){this.R=Math.floor(1e5*Math.random()),m=this.R++;var z,C=new Tr(this,this.c,m,void 0),O=this.l;if(this.O&&(O?ut(O=je(O),this.O):O=this.O),null===this.i&&(C.B=O),this.da)e:{for(var ne=z=0;ne<this.g.length;ne++){var De=this.g[ne];if(void 0===(De="__data__"in De.a&&"string"==typeof(De=De.a.__data__)?De.length:void 0))break;if(4096<(z+=De)){z=ne;break e}if(4096===z||ne===this.g.length-1){z=ne+1;break e}}z=1e3}else z=1e3;z=Es(this,C,z),on(ne=Ur(this.B),"RID",m),on(ne,"CVER",22),this.A&&on(ne,"X-HTTP-Session-Id",this.A),lr(this,ne),this.i&&O&&Io(ne,this.i,O),Vt(this.b,C),this.Ga&&on(ne,"TYPE","init"),this.da?(on(ne,"$req",z),on(ne,"SID","null"),C.V=!0,Ir(C,ne,null)):Ir(C,ne,z),this.v=2}}else 3==this.v&&(m?ws(this,m):0==this.g.length||Ne(this.b)||ws(this))},ae.Aa=function(){if(this.j=null,Dr(this),this.V&&!(this.F||null==this.a||0>=this.N)){var m=2*this.N;this.c.info("BP detection timer enabled: "+m),this.s=Mn(Me(this.Sa,this),m)}},ae.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Zo(this),Dr(this))},ae.Ra=function(){null!=this.m&&(this.m=null,Zo(this),bs(this),Gn(19))},ae.Xa=function(m){m?(this.c.info("Successfully pinged google.com"),Gn(2)):(this.c.info("Failed to ping google.com"),Gn(1))},(ae=Jo.prototype).ta=function(){},ae.sa=function(){},ae.ra=function(){},ae.qa=function(){},ae.Ha=function(){},Ds.prototype.a=function(m,C){return new Cr(m,C)},me(Cr,or),(ae=Cr.prototype).addEventListener=function(m,C,O,z){Cr.S.addEventListener.call(this,m,C,O,z)},ae.removeEventListener=function(m,C,O,z){Cr.S.removeEventListener.call(this,m,C,O,z)},ae.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var m=this.a,C=this.l,O=this.b||void 0;Gn(0),m.fa=C,m.W=O||{},m.H=m.T,m.B=Mo(m,null,m.fa),jr(m)},ae.close=function(){Yt(this.a)},ae.Pa=function(m){if("string"==typeof m){var C={};C.__data__=m,ui(this.a,C)}else this.g?((C={}).__data__=to(m),ui(this.a,C)):ui(this.a,m)},ae.G=function(){this.a.f=null,delete this.f,Yt(this.a),delete this.a,Cr.S.G.call(this)},me(cr,kr),me(No,Nn),me(Ye,Jo),Ye.prototype.ta=function(){this.a.dispatchEvent("a")},Ye.prototype.sa=function(m){this.a.dispatchEvent(new cr(m))},Ye.prototype.ra=function(m){this.a.dispatchEvent(new No(m))},Ye.prototype.qa=function(){this.a.dispatchEvent("b")},Ds.prototype.createWebChannel=Ds.prototype.a,Cr.prototype.send=Cr.prototype.Pa,Cr.prototype.open=Cr.prototype.Oa,Cr.prototype.close=Cr.prototype.close,pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,dr.COMPLETE="complete",Hs.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",or.prototype.listen=or.prototype.va,Kt.prototype.listenOnce=Kt.prototype.wa,Kt.prototype.getLastError=Kt.prototype.Qa,Kt.prototype.getLastErrorCode=Kt.prototype.ua,Kt.prototype.getStatus=Kt.prototype.X,Kt.prototype.getResponseJson=Kt.prototype.Na,Kt.prototype.getResponseText=Kt.prototype.$,Kt.prototype.send=Kt.prototype.ba;var so=function(){return new Ds},Ys=pi,ao=dr,uo=Hs,Pa=Kt;const Ti={createWebChannelTransport:so,ErrorCode:pi,EventType:dr,WebChannel:Hs,XhrIo:Kt}},7126:(ht,ce,K)=>{Object.defineProperty(ce,"__esModule",{value:!0}),function(v){for(var Ae in v)ce.hasOwnProperty(Ae)||(ce[Ae]=v[Ae])}(K(1004))},2488:(ht,ce,K)=>{Object.defineProperty(ce,"__esModule",{value:!0}),function(v){for(var Ae in v)ce.hasOwnProperty(Ae)||(ce[Ae]=v[Ae])}(K(4402))},2968:(ht,ce,K)=>{K.d(ce,{gw:()=>Oe,Ky:()=>qe,Z4:()=>ie,Wn:()=>Je,Vq:()=>Ee,HU:()=>ve,Fx:()=>we,Dp:()=>Me,ss:()=>me,pX:()=>L});var k=K(3556),v=K(6019),Ae=K(2869),ae=K(3192);const de=new class extends ae.v{}(class extends Ae.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,R,U):T.flush(this)}});var Ce=K(2210),q=K(8305),Y=K(7384),_e=K(5222),Ie=K(4763);const ie=new k.OlP("angularfire2.realtimeDatabaseURL"),Oe=ie;function Ge(){}class Me{constructor(T,R=de){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,U){const F=this.zone;return this.delegate.schedule(function(Z){F.runGuarded(()=>{T.apply(this,[Z])})},R,U)}}class we{constructor(T){this.zone=T,this.task=null}call(T,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),R.pipe((0,Y.b)(U,U,U)).subscribe(T).add(U)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class ve{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=T.run(()=>new Me(Zone.current,Ce.z))}}function me(H,T){return function(U){return(0,v.PM)(T)&&(U=U.lift(new we(H.ngZone))),U.pipe((0,_e.R)(H.outsideAngular),(0,Ie.Q)(H.insideAngular))}}const Ee=H=>T=>new q.y(R=>H.runOutsideAngular(()=>{Je(H)(T).subscribe(R)})),Je=H=>T=>new q.y(R=>T.subscribe(U=>H.run(()=>R.next(U)),U=>H.run(()=>R.error(U)),()=>H.run(()=>R.complete())));class qe{constructor(T,R){this.zone=T,this.platformId=R}schedule(...T){return this.zone.runGuarded(function(){return de.schedule.apply(de,T)})}keepUnstableUntilFirst(T){return(0,v.PM)(this.platformId)?new q.y(R=>{const U=()=>{},F=Zone.current.scheduleMacroTask("firebaseZoneBlock",U,{},U,U);T.subscribe(J=>{"scheduled"===F.state&&F.invoke(),R.next(J)},J=>{"scheduled"===F.state&&F.invoke(),R.error(J)},()=>{"scheduled"===F.state&&F.invoke(),R.complete()})}):T}runOutsideAngular(T){return new q.y(R=>this.zone.runOutsideAngular(()=>T.subscribe(U=>this.zone.run(()=>R.next(U)),U=>this.zone.run(()=>R.error(U)),()=>this.zone.run(()=>R.complete()))))}}const tt=["ngOnDestroy"],L=(H,T,R)=>new Proxy(H,{get:(U,F)=>R.runOutsideAngular(()=>{if(H[F])return H[F];if(tt.includes(F))return()=>{};let J=T.toPromise().then(Z=>{const Re=Z&&Z[F];return"function"==typeof Re?Re.bind(Z):Re&&Re.then?Re.then(fe=>R.run(()=>fe)):R.run(()=>Re)});return new Proxy(()=>{},{get:(Z,Re)=>J[Re],apply:(Z,Re,fe)=>J.then(et=>et&&et(...fe))})})})},9903:(ht,ce,K)=>{K.d(ce,{RU:()=>ze,sI:()=>Ce,Dh:()=>q,xv:()=>Y,Ot:()=>_e,q4:()=>Ie,Wy:()=>ie,hO:()=>Ge});var de,k=K(3556),v=K(9660),Ae=K.n(v);const ze=new k.OlP("angularfire2.app.options"),Ce=new k.OlP("angularfire2.app.nameOrConfig"),q=ze,Y=Ce;class _e{}const Ie=new k.GfV("5.4.2");function ie(Me,we,ve){const Ee="object"==typeof ve&&ve||{};return Ee.name=Ee.name||"string"==typeof ve&&ve||"[DEFAULT]",Ae().apps.filter(qe=>qe&&qe.name===Ee.name)[0]||we.runOutsideAngular(()=>Ae().initializeApp(Me,Ee))}const Oe={provide:_e,useFactory:ie,deps:[q,k.R0b,[new k.FiY,Y]]};let Ge=de=class{constructor(we){Ae().registerVersion&&(Ae().registerVersion("angularfire",Ie.full,we.toString()),Ae().registerVersion("angular",k.q4F.full))}static initializeApp(we,ve){return{ngModule:de,providers:[{provide:q,useValue:we},{provide:Y,useValue:ve}]}}};var we;Ge.\u0275fac=function(we){return new(we||Ge)(k.LFG(k.Lbi))},Ge.\u0275mod=k.oAB({type:Ge}),Ge.\u0275inj=k.cJS({providers:[Oe]}),Ge=de=function(Me,we,ve,me){var qe,Ee=arguments.length,Je=Ee<3?we:null===me?me=Object.getOwnPropertyDescriptor(we,ve):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(Me,we,ve,me);else for(var tt=Me.length-1;tt>=0;tt--)(qe=Me[tt])&&(Je=(Ee<3?qe(Je):Ee>3?qe(we,ve,Je):qe(we,ve))||Je);return Ee>3&&Je&&Object.defineProperty(we,ve,Je),Je}([(0,we=(0,k.tBr)(k.Lbi),function(ve,me){we(ve,me,0)}),function(Me,we){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],Ge)},4402:(ht,ce,K)=>{K.r(ce),K.d(ce,{AngularFireModule:()=>v.hO,DATABASE_URL:()=>k.gw,FIREBASE_APP_NAME:()=>v.xv,FIREBASE_OPTIONS:()=>v.Dh,FirebaseApp:()=>v.Ot,FirebaseNameOrConfigToken:()=>v.sI,FirebaseOptionsToken:()=>v.RU,FirebaseZoneScheduler:()=>k.Ky,RealtimeDatabaseURL:()=>k.Z4,VERSION:()=>v.q4,_firebaseAppFactory:()=>v.Wy,runInZone:()=>k.Wn,runOutsideAngular:()=>k.Vq,\u0275AngularFireSchedulers:()=>k.HU,\u0275BlockUntilFirstOperator:()=>k.Fx,\u0275ZoneScheduler:()=>k.Dp,\u0275keepUnstableUntilFirstFactory:()=>k.ss,\u0275lazySDKProxy:()=>k.pX});var k=K(2968),v=K(9903)},1004:(ht,ce,K)=>{K.r(ce),K.d(ce,{AngularFirestore:()=>yn,AngularFirestoreCollection:()=>ve,AngularFirestoreCollectionGroup:()=>Ee,AngularFirestoreDocument:()=>me,AngularFirestoreModule:()=>$t,DefaultFirestoreSettings:()=>ut,ENABLE_PERSISTENCE:()=>Re,EnablePersistenceToken:()=>F,FirestoreSettingsToken:()=>Z,PERSISTENCE_SETTINGS:()=>fe,PersistenceSettingsToken:()=>J,SETTINGS:()=>et,associateQuery:()=>yt,combineChange:()=>Me,combineChanges:()=>Ge,docChanges:()=>ie,fromCollectionRef:()=>q,fromDocRef:()=>Ce,fromRef:()=>ze,sortedChanges:()=>Oe,validateEventsArray:()=>we});var k=K(3556),v=K(5947),Ae=K(2997),ye=K(2210),ae=K(8305),Ve=K(4753);function ze(lt,Pe){return function(lt,Pe=ye.z){return new ae.y(Be=>{let Ke;return null!=Pe?Pe.schedule(()=>{Ke=lt.onSnapshot(Be)}):Ke=lt.onSnapshot(Be),function(){null!=Ke&&Ke()}})}(lt,Pe)}function Ce(lt,Pe){return ze(lt,Pe).pipe((0,Ve.U)(Be=>({payload:Be,type:"value"})))}function q(lt,Pe){return ze(lt,Pe).pipe((0,Ve.U)(Be=>({payload:Be,type:"query"})))}var Y=K(4763),_e=K(461),Ie=K(9495);function ie(lt,Pe){return q(lt,Pe).pipe((0,Ve.U)(Be=>Be.payload.docChanges().map(Ke=>({type:Ke.type,payload:Ke}))))}function Oe(lt,Pe,Be){return q(lt,Be).pipe((0,Ve.U)(Ke=>Ke.payload.docChanges()),(0,Ie.R)((Ke,_t)=>Ge(Ke,_t,Pe),[]),(0,Ve.U)(Ke=>Ke.map(_t=>({type:_t.type,payload:_t}))))}function Ge(lt,Pe,Be){return Pe.forEach(Ke=>{Be.indexOf(Ke.type)>-1&&(lt=Me(lt,Ke))}),lt}function Me(lt,Pe){switch(Pe.type){case"added":lt[Pe.newIndex]&&lt[Pe.newIndex].doc.ref.isEqual(Pe.doc.ref)||lt.splice(Pe.newIndex,0,Pe);break;case"modified":(null==lt[Pe.oldIndex]||lt[Pe.oldIndex].doc.ref.isEqual(Pe.doc.ref))&&(Pe.oldIndex!==Pe.newIndex?(lt.splice(Pe.oldIndex,1),lt.splice(Pe.newIndex,0,Pe)):lt.splice(Pe.newIndex,1,Pe));break;case"removed":lt[Pe.oldIndex]&&lt[Pe.oldIndex].doc.ref.isEqual(Pe.doc.ref)&&lt.splice(Pe.oldIndex,1)}return lt}function we(lt){return(!lt||0===lt.length)&&(lt=["added","removed","modified"]),lt}class ve{constructor(Pe,Be,Ke){this.ref=Pe,this.query=Be,this.afs=Ke}stateChanges(Pe){return Pe&&0!==Pe.length?ie(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Ve.U)(Be=>Be.filter(Ke=>Pe.indexOf(Ke.type)>-1)),(0,_e.h)(Be=>Be.length>0)):ie(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(Pe){return this.stateChanges(Pe).pipe((0,Ie.R)((Be,Ke)=>[...Be,...Ke],[]))}snapshotChanges(Pe){const Be=we(Pe);return Oe(this.query,Be,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Pe={}){return q(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Ve.U)(Be=>Be.payload.docs.map(Ke=>Pe.idField?Object.assign({},Ke.data(),{[Pe.idField]:Ke.id}):Ke.data())))}get(Pe){return(0,v.D)(this.query.get(Pe)).pipe((0,Y.Q)(this.afs.schedulers.insideAngular))}add(Pe){return this.ref.add(Pe)}doc(Pe){return new me(this.ref.doc(Pe),this.afs)}}class me{constructor(Pe,Be){this.ref=Pe,this.afs=Be}set(Pe,Be){return this.ref.set(Pe,Be)}update(Pe){return this.ref.update(Pe)}delete(){return this.ref.delete()}collection(Pe,Be){const Ke=this.ref.collection(Pe),{ref:_t,query:it}=yt(Ke,Be);return new ve(_t,it,this.afs)}snapshotChanges(){return Ce(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe((0,Ve.U)(Pe=>Pe.payload.data()))}get(Pe){return(0,v.D)(this.ref.get(Pe)).pipe((0,Y.Q)(this.afs.schedulers.insideAngular))}}class Ee{constructor(Pe,Be){this.query=Pe,this.afs=Be}stateChanges(Pe){return Pe&&0!==Pe.length?ie(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Ve.U)(Be=>Be.filter(Ke=>Pe.indexOf(Ke.type)>-1)),(0,_e.h)(Be=>Be.length>0)):ie(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(Pe){return this.stateChanges(Pe).pipe((0,Ie.R)((Be,Ke)=>[...Be,...Ke],[]))}snapshotChanges(Pe){const Be=we(Pe);return Oe(this.query,Be,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return q(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Ve.U)(Be=>Be.payload.docs.map(Ke=>Ke.data())))}get(Pe){return(0,v.D)(this.query.get(Pe)).pipe((0,Y.Q)(this.afs.schedulers.insideAngular))}}var Je=K(2968),qe=K(9903),tt=K(6019),L=K(9660),H=K.n(L),R=function(lt,Pe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(lt,Pe)},U=function(lt,Pe){return function(Be,Ke){Pe(Be,Ke,lt)}};const F=new k.OlP("angularfire2.enableFirestorePersistence"),J=new k.OlP("angularfire2.firestore.persistenceSettings"),Z=new k.OlP("angularfire2.firestore.settings"),Re=F,fe=J,et=Z,je=parseInt(H().SDK_VERSION.split(".")[0]),Te=parseInt(H().SDK_VERSION.split(".")[1]),ut=je<5||5==je&&Te<8?{timestampsInSnapshots:!0}:{};function yt(lt,Pe=(Be=>Be)){return{query:Pe(lt),ref:lt}}let yn=(()=>{let lt=class{constructor(Be,Ke,_t,it,pt,zt,Wt){this.schedulers=new Je.HU(zt),this.keepUnstableUntilFirst=(0,Je.ss)(this.schedulers,pt),this.firestore=zt.runOutsideAngular(()=>{const dn=(0,qe.Wy)(Be,zt,Ke).firestore();return dn.settings(it||ut),dn}),this.persistenceEnabled$=_t&&!(0,tt.PM)(pt)?zt.runOutsideAngular(()=>{try{return(0,v.D)(this.firestore.enablePersistence(Wt||void 0).then(()=>!0,()=>!1))}catch(dn){return(0,Ae.of)(!1)}}):(0,Ae.of)(!1)}collection(Be,Ke){let _t;_t="string"==typeof Be?this.firestore.collection(Be):Be;const{ref:it,query:pt}=yt(_t,Ke);return new ve(it,pt,this)}collectionGroup(Be,Ke){if(je<6)throw"collection group queries require Firebase JS SDK >= 6.0";const _t=Ke||(zt=>zt),pt=this.firestore.collectionGroup(Be);return new Ee(_t(pt),this)}doc(Be){let Ke;return Ke="string"==typeof Be?this.firestore.doc(Be):Be,new me(Ke,this)}createId(){return this.firestore.collection("_").doc().id}};return lt.\u0275fac=function(Be){return new(Be||lt)(k.LFG(qe.Dh),k.LFG(qe.xv,8),k.LFG(Re,8),k.LFG(et,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(fe,8))},lt.\u0275prov=k.Yz7({token:lt,factory:function(Pe){return lt.\u0275fac(Pe)}}),lt=function(lt,Pe,Be,Ke){var pt,_t=arguments.length,it=_t<3?Pe:null===Ke?Ke=Object.getOwnPropertyDescriptor(Pe,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(lt,Pe,Be,Ke);else for(var zt=lt.length-1;zt>=0;zt--)(pt=lt[zt])&&(it=(_t<3?pt(it):_t>3?pt(Pe,Be,it):pt(Pe,Be))||it);return _t>3&&it&&Object.defineProperty(Pe,Be,it),it}([U(0,(0,k.tBr)(qe.Dh)),U(1,(0,k.FiY)()),U(1,(0,k.tBr)(qe.xv)),U(2,(0,k.FiY)()),U(2,(0,k.tBr)(Re)),U(3,(0,k.FiY)()),U(3,(0,k.tBr)(et)),U(4,(0,k.tBr)(k.Lbi)),U(6,(0,k.FiY)()),U(6,(0,k.tBr)(fe)),R("design:paramtypes",[Object,Object,Object,Object,Object,k.R0b,Object])],lt),lt})();var Tn;K(684);let $t=Tn=class{static enablePersistence(Pe){return{ngModule:Tn,providers:[{provide:F,useValue:!0},{provide:J,useValue:Pe}]}}};$t.\u0275fac=function(Pe){return new(Pe||$t)},$t.\u0275mod=k.oAB({type:$t}),$t.\u0275inj=k.cJS({providers:[yn]})},9660:(ht,ce,K)=>{function v(Ve){return Ve&&"object"==typeof Ve&&"default"in Ve?Ve:{default:Ve}}var Ae=v(K(3002));Ae.default.registerVersion("firebase","7.24.0","app"),ht.exports=Ae.default},8305:(ht,ce,K)=>{K.d(ce,{y:()=>q});var k=K(3113),v=K(7908),Ae=K(4816),ye=K(4623);var de=K(5367),ze=K(5044),Ce=K(8706);let q=(()=>{class ie{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Me=new ie;return Me.source=this,Me.operator=Ge,Me}subscribe(Ge,Me,we){const ve=function(ie){return ie&&ie instanceof k.Lv||function(ie){return ie&&(0,ze.m)(ie.next)&&(0,ze.m)(ie.error)&&(0,ze.m)(ie.complete)}(ie)&&(0,v.Nn)(ie)}(Ge)?Ge:new k.Hp(Ge,Me,we);return(0,Ce.x)(()=>{const{operator:me,source:Ee}=this;ve.add(me?me.call(ve,Ee):Ee?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Me){Ge.error(Me)}}forEach(Ge,Me){return new(Me=Y(Me))((we,ve)=>{let me;me=this.subscribe(Ee=>{try{Ge(Ee)}catch(Je){ve(Je),null==me||me.unsubscribe()}},ve,we)})}_subscribe(Ge){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Ge)}[Ae.L](){return this}pipe(...Ge){return function(ie){return 0===ie.length?ye.y:1===ie.length?ie[0]:function(Ge){return ie.reduce((Me,we)=>we(Me),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=Y(Ge))((Me,we)=>{let ve;this.subscribe(me=>ve=me,me=>we(me),()=>Me(ve))})}}return ie.create=Oe=>new ie(Oe),ie})();function Y(ie){var Oe;return null!==(Oe=null!=ie?ie:de.v.Promise)&&void 0!==Oe?Oe:Promise}},273:(ht,ce,K)=>{K.d(ce,{x:()=>de});var k=K(8305),v=K(7908);const ye=(0,K(4893).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=K(3980),Ve=K(8706);let de=(()=>{class Ce extends k.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const _e=new ze(this,this);return _e.operator=Y,_e}_throwIfClosed(){if(this.closed)throw new ye}next(Y){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const _e=this.observers.slice();for(const Ie of _e)Ie.next(Y)}})}error(Y){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:_e}=this;for(;_e.length;)_e.shift().error(Y)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:_e,isStopped:Ie,observers:ie}=this;return _e||Ie?v.Lc:(ie.push(Y),new v.w0(()=>(0,ae.P)(ie,Y)))}_checkFinalizedStatuses(Y){const{hasError:_e,thrownError:Ie,isStopped:ie}=this;_e?Y.error(Ie):ie&&Y.complete()}asObservable(){const Y=new k.y;return Y.source=this,Y}}return Ce.create=(q,Y)=>new ze(q,Y),Ce})();class ze extends de{constructor(q,Y){super(),this.destination=q,this.source=Y}next(q){var Y,_e;null===(_e=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===_e||_e.call(Y,q)}error(q){var Y,_e;null===(_e=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===_e||_e.call(Y,q)}complete(){var q,Y;null===(Y=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Y||Y.call(q)}_subscribe(q){var Y,_e;return null!==(_e=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(q))&&void 0!==_e?_e:v.Lc}}},3113:(ht,ce,K)=>{K.d(ce,{Hp:()=>Ie,Lv:()=>_e});var k=K(5044),v=K(7908),Ae=K(5367),ye=K(5160);function ae(){}const Ve=Ce("C",void 0,void 0);function Ce(we,ve,me){return{kind:we,value:ve,error:me}}var q=K(2496),Y=K(8706);class _e extends v.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,v.Nn)(ve)&&ve.add(this)):this.destination=Me}static create(ve,me,Ee){return new Ie(ve,me,Ee)}next(ve){this.isStopped?Ge(Ce("N",ve,void 0),this):this._next(ve)}error(ve){this.isStopped?Ge(Ce("E",void 0,ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ge(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ie extends _e{constructor(ve,me,Ee){let Je;if(super(),(0,k.m)(ve))Je=ve;else if(ve){let qe;({next:Je,error:me,complete:Ee}=ve),this&&Ae.v.useDeprecatedNextContext?(qe=Object.create(ve),qe.unsubscribe=()=>this.unsubscribe()):qe=ve,Je=null==Je?void 0:Je.bind(qe),me=null==me?void 0:me.bind(qe),Ee=null==Ee?void 0:Ee.bind(qe)}this.destination={next:Je?ie(Je):ae,error:ie(null!=me?me:Oe),complete:Ee?ie(Ee):ae}}}function ie(we,ve){return(...me)=>{try{we(...me)}catch(Ee){Ae.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Ee):(0,ye.h)(Ee)}}}function Oe(we){throw we}function Ge(we,ve){const{onStoppedNotification:me}=Ae.v;me&&q.z.setTimeout(()=>me(we,ve))}const Me={closed:!0,next:ae,error:Oe,complete:ae}},7908:(ht,ce,K)=>{K.d(ce,{Lc:()=>Ve,w0:()=>ae,Nn:()=>de});var k=K(5044);const Ae=(0,K(4893).d)(Ce=>function(Y){Ce(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((_e,Ie)=>`${Ie+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ye=K(3980);class ae{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ie of Y)ie.remove(this);else Y.remove(this);const{initialTeardown:_e}=this;if((0,k.m)(_e))try{_e()}catch(ie){q=ie instanceof Ae?ie.errors:[ie]}const{_teardowns:Ie}=this;if(Ie){this._teardowns=null;for(const ie of Ie)try{ze(ie)}catch(Oe){q=null!=q?q:[],Oe instanceof Ae?q=[...q,...Oe.errors]:q.push(Oe)}}if(q)throw new Ae(q)}}add(q){var Y;if(q&&q!==this)if(this.closed)ze(q);else{if(q instanceof ae){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(Y=this._teardowns)&&void 0!==Y?Y:[]).push(q)}}_hasParent(q){const{_parentage:Y}=this;return Y===q||Array.isArray(Y)&&Y.includes(q)}_addParent(q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(q),Y):Y?[Y,q]:q}_removeParent(q){const{_parentage:Y}=this;Y===q?this._parentage=null:Array.isArray(Y)&&(0,ye.P)(Y,q)}remove(q){const{_teardowns:Y}=this;Y&&(0,ye.P)(Y,q),q instanceof ae&&q._removeParent(this)}}ae.EMPTY=(()=>{const Ce=new ae;return Ce.closed=!0,Ce})();const Ve=ae.EMPTY;function de(Ce){return Ce instanceof ae||Ce&&"closed"in Ce&&(0,k.m)(Ce.remove)&&(0,k.m)(Ce.add)&&(0,k.m)(Ce.unsubscribe)}function ze(Ce){(0,k.m)(Ce)?Ce():Ce.unsubscribe()}},5367:(ht,ce,K)=>{K.d(ce,{v:()=>k});const k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(ht,ce,K)=>{K.d(ce,{E:()=>v});const v=new(K(8305).y)(ae=>ae.complete())},5947:(ht,ce,K)=>{K.d(ce,{D:()=>Je});var k=K(9985),v=K(4763),Ae=K(5222),Ve=K(8305),ze=K(5497),Ce=K(5044),q=K(8395);function _e(qe,tt){if(!qe)throw new Error("Iterable cannot be null");return new Ve.y(L=>{(0,q.f)(L,tt,()=>{const H=qe[Symbol.asyncIterator]();(0,q.f)(L,tt,()=>{H.next().then(T=>{T.done?L.complete():L.next(T.value)})},0,!0)})})}var Ie=K(1073),ie=K(2442),Oe=K(1537),Ge=K(2317),Me=K(9908),we=K(3754),ve=K(7751);function Je(qe,tt){return tt?function(qe,tt){if(null!=qe){if((0,Ie.c)(qe))return function(qe,tt){return(0,k.Xf)(qe).pipe((0,Ae.R)(tt),(0,v.Q)(tt))}(qe,tt);if((0,Oe.z)(qe))return function(qe,tt){return new Ve.y(L=>{let H=0;return tt.schedule(function(){H===qe.length?L.complete():(L.next(qe[H++]),L.closed||this.schedule())})})}(qe,tt);if((0,ie.t)(qe))return function(qe,tt){return(0,k.Xf)(qe).pipe((0,Ae.R)(tt),(0,v.Q)(tt))}(qe,tt);if((0,Me.D)(qe))return _e(qe,tt);if((0,Ge.T)(qe))return function(qe,tt){return new Ve.y(L=>{let H;return(0,q.f)(L,tt,()=>{H=qe[ze.h](),(0,q.f)(L,tt,()=>{let T,R;try{({value:T,done:R}=H.next())}catch(U){return void L.error(U)}R?L.complete():L.next(T)},0,!0)}),()=>(0,Ce.m)(null==H?void 0:H.return)&&H.return()})}(qe,tt);if((0,ve.L)(qe))return function(qe,tt){return _e((0,ve.Q)(qe),tt)}(qe,tt)}throw(0,we.z)(qe)}(qe,tt):(0,k.Xf)(qe)}},9985:(ht,ce,K)=>{K.d(ce,{Xf:()=>Ie});var k=K(9162),v=K(1537),Ae=K(2442),ye=K(8305),ae=K(1073),Ve=K(9908),de=K(3754),ze=K(2317),Ce=K(7751),q=K(5044),Y=K(5160),_e=K(4816);function Ie(Ee){if(Ee instanceof ye.y)return Ee;if(null!=Ee){if((0,ae.c)(Ee))return function(Ee){return new ye.y(Je=>{const qe=Ee[_e.L]();if((0,q.m)(qe.subscribe))return qe.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,v.z)(Ee))return function(Ee){return new ye.y(Je=>{for(let qe=0;qe<Ee.length&&!Je.closed;qe++)Je.next(Ee[qe]);Je.complete()})}(Ee);if((0,Ae.t)(Ee))return function(Ee){return new ye.y(Je=>{Ee.then(qe=>{Je.closed||(Je.next(qe),Je.complete())},qe=>Je.error(qe)).then(null,Y.h)})}(Ee);if((0,Ve.D)(Ee))return we(Ee);if((0,ze.T)(Ee))return function(Ee){return new ye.y(Je=>{for(const qe of Ee)if(Je.next(qe),Je.closed)return;Je.complete()})}(Ee);if((0,Ce.L)(Ee))return function(Ee){return we((0,Ce.Q)(Ee))}(Ee)}throw(0,de.z)(Ee)}function we(Ee){return new ye.y(Je=>{(function(Ee,Je){var qe,tt,L,H;return(0,k.mG)(this,void 0,void 0,function*(){try{for(qe=(0,k.KL)(Ee);!(tt=yield qe.next()).done;)if(Je.next(tt.value),Je.closed)return}catch(T){L={error:T}}finally{try{tt&&!tt.done&&(H=qe.return)&&(yield H.call(qe))}finally{if(L)throw L.error}}Je.complete()})})(Ee,Je).catch(qe=>Je.error(qe))})}},2997:(ht,ce,K)=>{K.d(ce,{of:()=>Ae});var k=K(8830),v=K(5947);function Ae(...ye){const ae=(0,k.yG)(ye);return(0,v.D)(ye,ae)}},8889:(ht,ce,K)=>{K.d(ce,{Q:()=>v});var k=K(3113);class v extends k.Lv{constructor(ye,ae,Ve,de,ze){super(ye),this.onFinalize=ze,this._next=ae?function(Ce){try{ae(Ce)}catch(q){ye.error(q)}}:super._next,this._error=de?function(Ce){try{de(Ce)}catch(q){ye.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(Ce){ye.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}},461:(ht,ce,K)=>{K.d(ce,{h:()=>Ae});var k=K(9947),v=K(8889);function Ae(ye,ae){return(0,k.e)((Ve,de)=>{let ze=0;Ve.subscribe(new v.Q(de,Ce=>ye.call(ae,Ce,ze++)&&de.next(Ce)))})}},4753:(ht,ce,K)=>{K.d(ce,{U:()=>Ae});var k=K(9947),v=K(8889);function Ae(ye,ae){return(0,k.e)((Ve,de)=>{let ze=0;Ve.subscribe(new v.Q(de,Ce=>{de.next(ye.call(ae,Ce,ze++))}))})}},5373:(ht,ce,K)=>{K.d(ce,{J:()=>Ae});var k=K(5724),v=K(4623);function Ae(ye=1/0){return(0,k.z)(v.y,ye)}},5724:(ht,ce,K)=>{K.d(ce,{z:()=>ze});var k=K(4753),v=K(9985),Ae=K(9947),ae=(K(8395),K(8889)),de=K(5044);function ze(Ce,q,Y=1/0){return(0,de.m)(q)?ze((_e,Ie)=>(0,k.U)((ie,Oe)=>q(_e,ie,Ie,Oe))((0,v.Xf)(Ce(_e,Ie))),Y):("number"==typeof q&&(Y=q),(0,Ae.e)((_e,Ie)=>function(Ce,q,Y,_e,Ie,ie,Oe,Ge){const Me=[];let we=0,ve=0,me=!1;const Ee=()=>{me&&!Me.length&&!we&&q.complete()},Je=tt=>we<_e?qe(tt):Me.push(tt),qe=tt=>{we++;let L=!1;(0,v.Xf)(Y(tt,ve++)).subscribe(new ae.Q(q,H=>{q.next(H)},()=>{L=!0},void 0,()=>{if(L)try{for(we--;Me.length&&we<_e;){const H=Me.shift();qe(H)}Ee()}catch(H){q.error(H)}}))};return Ce.subscribe(new ae.Q(q,Je,()=>{me=!0,Ee()})),()=>{}}(_e,Ie,Ce,Y)))}},4763:(ht,ce,K)=>{K.d(ce,{Q:()=>ye});var k=K(8395),v=K(9947),Ae=K(8889);function ye(ae,Ve=0){return(0,v.e)((de,ze)=>{de.subscribe(new Ae.Q(ze,Ce=>(0,k.f)(ze,ae,()=>ze.next(Ce),Ve),()=>(0,k.f)(ze,ae,()=>ze.complete(),Ve),Ce=>(0,k.f)(ze,ae,()=>ze.error(Ce),Ve)))})}},9495:(ht,ce,K)=>{K.d(ce,{R:()=>ye});var k=K(9947),v=K(8889);function Ae(ae,Ve,de,ze,Ce){return(q,Y)=>{let _e=de,Ie=Ve,ie=0;q.subscribe(new v.Q(Y,Oe=>{const Ge=ie++;Ie=_e?ae(Ie,Oe,Ge):(_e=!0,Oe),ze&&Y.next(Ie)},Ce&&(()=>{_e&&Y.next(Ie),Y.complete()})))}}function ye(ae,Ve){return(0,k.e)(Ae(ae,Ve,arguments.length>=2,!0))}},5222:(ht,ce,K)=>{K.d(ce,{R:()=>v});var k=K(9947);function v(Ae,ye=0){return(0,k.e)((ae,Ve)=>{Ve.add(Ae.schedule(()=>ae.subscribe(Ve),ye))})}},9468:(ht,ce,K)=>{K.d(ce,{q:()=>ye});var k=K(5583),v=K(9947),Ae=K(8889);function ye(ae){return ae<=0?()=>k.E:(0,v.e)((Ve,de)=>{let ze=0;Ve.subscribe(new Ae.Q(de,Ce=>{++ze<=ae&&(de.next(Ce),ae<=ze&&de.complete())}))})}},7384:(ht,ce,K)=>{K.d(ce,{b:()=>ae});var k=K(5044),v=K(9947),Ae=K(8889),ye=K(4623);function ae(Ve,de,ze){const Ce=(0,k.m)(Ve)||de||ze?{next:Ve,error:de,complete:ze}:Ve;return Ce?(0,v.e)((q,Y)=>{var _e;null===(_e=Ce.subscribe)||void 0===_e||_e.call(Ce);let Ie=!0;q.subscribe(new Ae.Q(Y,ie=>{var Oe;null===(Oe=Ce.next)||void 0===Oe||Oe.call(Ce,ie),Y.next(ie)},()=>{var ie;Ie=!1,null===(ie=Ce.complete)||void 0===ie||ie.call(Ce),Y.complete()},ie=>{var Oe;Ie=!1,null===(Oe=Ce.error)||void 0===Oe||Oe.call(Ce,ie),Y.error(ie)},()=>{var ie,Oe;Ie&&(null===(ie=Ce.unsubscribe)||void 0===ie||ie.call(Ce)),null===(Oe=Ce.finalize)||void 0===Oe||Oe.call(Ce)}))}):ye.y}},2869:(ht,ce,K)=>{K.d(ce,{o:()=>ae});var k=K(7908);class v extends k.w0{constructor(de,ze){super()}schedule(de,ze=0){return this}}const Ae={setInterval(...Ve){const{delegate:de}=Ae;return((null==de?void 0:de.setInterval)||setInterval)(...Ve)},clearInterval(Ve){const{delegate:de}=Ae;return((null==de?void 0:de.clearInterval)||clearInterval)(Ve)},delegate:void 0};var ye=K(3980);class ae extends v{constructor(de,ze){super(de,ze),this.scheduler=de,this.work=ze,this.pending=!1}schedule(de,ze=0){if(this.closed)return this;this.state=de;const Ce=this.id,q=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(q,Ce,ze)),this.pending=!0,this.delay=ze,this.id=this.id||this.requestAsyncId(q,this.id,ze),this}requestAsyncId(de,ze,Ce=0){return Ae.setInterval(de.flush.bind(de,this),Ce)}recycleAsyncId(de,ze,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return ze;Ae.clearInterval(ze)}execute(de,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(de,ze);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ze){let q,Ce=!1;try{this.work(de)}catch(Y){Ce=!0,q=Y||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:de,scheduler:ze}=this,{actions:Ce}=ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Ce,this),null!=de&&(this.id=this.recycleAsyncId(ze,de,null)),this.delay=null,super.unsubscribe()}}}},3192:(ht,ce,K)=>{K.d(ce,{v:()=>Ae});const k={now:()=>(k.delegate||Date).now(),delegate:void 0};class v{constructor(ae,Ve=v.now){this.schedulerActionCtor=ae,this.now=Ve}schedule(ae,Ve=0,de){return new this.schedulerActionCtor(this,ae).schedule(de,Ve)}}v.now=k.now;class Ae extends v{constructor(ae,Ve=v.now){super(ae,Ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:Ve}=this;if(this._active)return void Ve.push(ae);let de;this._active=!0;do{if(de=ae.execute(ae.state,ae.delay))break}while(ae=Ve.shift());if(this._active=!1,de){for(;ae=Ve.shift();)ae.unsubscribe();throw de}}}},2210:(ht,ce,K)=>{K.d(ce,{z:()=>Ae});var k=K(2869);const Ae=new(K(3192).v)(k.o)},2496:(ht,ce,K)=>{K.d(ce,{z:()=>k});const k={setTimeout(...v){const{delegate:Ae}=k;return((null==Ae?void 0:Ae.setTimeout)||setTimeout)(...v)},clearTimeout(v){const{delegate:Ae}=k;return((null==Ae?void 0:Ae.clearTimeout)||clearTimeout)(v)},delegate:void 0}},5497:(ht,ce,K)=>{K.d(ce,{h:()=>v});const v="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(ht,ce,K)=>{K.d(ce,{L:()=>k});const k="function"==typeof Symbol&&Symbol.observable||"@@observable"},8830:(ht,ce,K)=>{K.d(ce,{_6:()=>Ve,jO:()=>ye,yG:()=>ae});var k=K(5044);function Ae(de){return de[de.length-1]}function ye(de){return(0,k.m)(Ae(de))?de.pop():void 0}function ae(de){return function(de){return de&&(0,k.m)(de.schedule)}(Ae(de))?de.pop():void 0}function Ve(de,ze){return"number"==typeof Ae(de)?de.pop():ze}},3980:(ht,ce,K)=>{function k(v,Ae){if(v){const ye=v.indexOf(Ae);0<=ye&&v.splice(ye,1)}}K.d(ce,{P:()=>k})},4893:(ht,ce,K)=>{function k(v){const ye=v(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}K.d(ce,{d:()=>k})},8706:(ht,ce,K)=>{K.d(ce,{x:()=>Ae,O:()=>ye});var k=K(5367);let v=null;function Ae(ae){if(k.v.useDeprecatedSynchronousErrorHandling){const Ve=!v;if(Ve&&(v={errorThrown:!1,error:null}),ae(),Ve){const{errorThrown:de,error:ze}=v;if(v=null,de)throw ze}}else ae()}function ye(ae){k.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=ae)}},8395:(ht,ce,K)=>{function k(v,Ae,ye,ae=0,Ve=!1){const de=Ae.schedule(function(){ye(),Ve?v.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(v.add(de),!Ve)return de}K.d(ce,{f:()=>k})},4623:(ht,ce,K)=>{function k(v){return v}K.d(ce,{y:()=>k})},1537:(ht,ce,K)=>{K.d(ce,{z:()=>k});const k=v=>v&&"number"==typeof v.length&&"function"!=typeof v},9908:(ht,ce,K)=>{K.d(ce,{D:()=>v});var k=K(5044);function v(Ae){return Symbol.asyncIterator&&(0,k.m)(null==Ae?void 0:Ae[Symbol.asyncIterator])}},5044:(ht,ce,K)=>{function k(v){return"function"==typeof v}K.d(ce,{m:()=>k})},1073:(ht,ce,K)=>{K.d(ce,{c:()=>Ae});var k=K(4816),v=K(5044);function Ae(ye){return(0,v.m)(ye[k.L])}},2317:(ht,ce,K)=>{K.d(ce,{T:()=>Ae});var k=K(5497),v=K(5044);function Ae(ye){return(0,v.m)(null==ye?void 0:ye[k.h])}},2442:(ht,ce,K)=>{K.d(ce,{t:()=>v});var k=K(5044);function v(Ae){return(0,k.m)(null==Ae?void 0:Ae.then)}},7751:(ht,ce,K)=>{K.d(ce,{Q:()=>Ae,L:()=>ye});var k=K(9162),v=K(5044);function Ae(ae){return(0,k.FC)(this,arguments,function*(){const de=ae.getReader();try{for(;;){const{value:ze,done:Ce}=yield(0,k.qq)(de.read());if(Ce)return yield(0,k.qq)(void 0);yield yield(0,k.qq)(ze)}}finally{de.releaseLock()}})}function ye(ae){return(0,v.m)(null==ae?void 0:ae.getReader)}},9947:(ht,ce,K)=>{K.d(ce,{A:()=>v,e:()=>Ae});var k=K(5044);function v(ye){return(0,k.m)(null==ye?void 0:ye.lift)}function Ae(ye){return ae=>{if(v(ae))return ae.lift(function(Ve){try{return ye(Ve,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5160:(ht,ce,K)=>{K.d(ce,{h:()=>Ae});var k=K(5367),v=K(2496);function Ae(ye){v.z.setTimeout(()=>{const{onUnhandledError:ae}=k.v;if(!ae)throw ye;ae(ye)})}},3754:(ht,ce,K)=>{function k(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(ce,{z:()=>k})},9709:(ht,ce,K)=>{var k=K(6019),v=K(3556);class Ae extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends Ae{static makeCurrent(){(0,k.HT)(new ye)}onAndCancel(i,r,f){return i.addEventListener(r,f,!1),()=>{i.removeEventListener(r,f,!1)}}dispatchEvent(i,r){i.dispatchEvent(r)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,r){return(r=r||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,r){return"window"===r?window:"document"===r?i:"body"===r?i.body:null}getBaseHref(i){const r=(ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null);return null==r?null:function(u){de=de||document.createElement("a"),de.setAttribute("href",u);const i=de.pathname;return"/"===i.charAt(0)?i:`/${i}`}(r)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,k.Mx)(document.cookie,i)}}let de,ae=null;const Ce=new v.OlP("TRANSITION_ID"),Y=[{provide:v.ip1,useFactory:function(u,i,r){return()=>{r.get(v.CZH).donePromise.then(()=>{const f=(0,k.q)(),p=i.querySelectorAll(`style[ng-transition="${u}"]`);for(let E=0;E<p.length;E++)f.remove(p[E])})}},deps:[Ce,k.K0,v.zs3],multi:!0}];class _e{static init(){(0,v.VLi)(new _e)}addToWindow(i){v.dqk.getAngularTestability=(f,p=!0)=>{const E=i.findTestabilityInTree(f,p);if(null==E)throw new Error("Could not find testability for element.");return E},v.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(f=>{const p=v.dqk.getAllAngularTestabilities();let E=p.length,A=!1;const P=function(G){A=A||G,E--,0==E&&f(A)};p.forEach(function(G){G.whenStable(P)})})}findTestabilityInTree(i,r,f){if(null==r)return null;const p=i.getTestability(r);return null!=p?p:f?(0,k.q)().isShadowRoot(r)?this.findTestabilityInTree(i,r.host,!0):this.findTestabilityInTree(i,r.parentElement,!0):null}}let Ie=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const ie=new v.OlP("EventManagerPlugins");let Oe=(()=>{class u{constructor(r,f){this._zone=f,this._eventNameToPlugin=new Map,r.forEach(p=>p.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,f,p){return this._findPluginFor(f).addEventListener(r,f,p)}addGlobalEventListener(r,f,p){return this._findPluginFor(f).addGlobalEventListener(r,f,p)}getZone(){return this._zone}_findPluginFor(r){const f=this._eventNameToPlugin.get(r);if(f)return f;const p=this._plugins;for(let E=0;E<p.length;E++){const A=p[E];if(A.supports(r))return this._eventNameToPlugin.set(r,A),A}throw new Error(`No event manager plugin found for event ${r}`)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(ie),v.LFG(v.R0b))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class Ge{constructor(i){this._doc=i}addGlobalEventListener(i,r,f){const p=(0,k.q)().getGlobalEventTarget(this._doc,i);if(!p)throw new Error(`Unsupported event target ${p} for event ${r}`);return this.addEventListener(p,r,f)}}let Me=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(r){const f=new Set;r.forEach(p=>{this._stylesSet.has(p)||(this._stylesSet.add(p),f.add(p))}),this.onStylesAdded(f)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),we=(()=>{class u extends Me{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,f,p){r.forEach(E=>{const A=this._doc.createElement("style");A.textContent=E,p.push(f.appendChild(A))})}addHost(r){const f=[];this._addStylesToHost(this._stylesSet,r,f),this._hostNodes.set(r,f)}removeHost(r){const f=this._hostNodes.get(r);f&&f.forEach(ve),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((f,p)=>{this._addStylesToHost(r,p,f)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(ve))}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.K0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();function ve(u){(0,k.q)().remove(u)}const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ee=/%COMP%/g;function R(u,i,r){for(let f=0;f<i.length;f++){let p=i[f];Array.isArray(p)?R(u,p,r):(p=p.replace(Ee,u),r.push(p))}return r}function U(u){return i=>{if("__ngUnwrap__"===i)return u;!1===u(i)&&(i.preventDefault(),i.returnValue=!1)}}let J=(()=>{class u{constructor(r,f,p){this.eventManager=r,this.sharedStylesHost=f,this.appId=p,this.rendererByCompId=new Map,this.defaultRenderer=new Z(r)}createRenderer(r,f){if(!r||!f)return this.defaultRenderer;switch(f.encapsulation){case v.ifc.Emulated:{let p=this.rendererByCompId.get(f.id);return p||(p=new et(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,p)),p.applyToHost(r),p}case 1:case v.ifc.ShadowDom:return new je(this.eventManager,this.sharedStylesHost,r,f);default:if(!this.rendererByCompId.has(f.id)){const p=R(f.id,f.styles,[]);this.sharedStylesHost.addStyles(p),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(Oe),v.LFG(we),v.LFG(v.AFp))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class Z{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,r){return r?document.createElementNS(me[r]||r,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,r){i.appendChild(r)}insertBefore(i,r,f){i&&i.insertBefore(r,f)}removeChild(i,r){i&&i.removeChild(r)}selectRootElement(i,r){let f="string"==typeof i?document.querySelector(i):i;if(!f)throw new Error(`The selector "${i}" did not match any elements`);return r||(f.textContent=""),f}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,r,f,p){if(p){r=p+":"+r;const E=me[p];E?i.setAttributeNS(E,r,f):i.setAttribute(r,f)}else i.setAttribute(r,f)}removeAttribute(i,r,f){if(f){const p=me[f];p?i.removeAttributeNS(p,r):i.removeAttribute(`${f}:${r}`)}else i.removeAttribute(r)}addClass(i,r){i.classList.add(r)}removeClass(i,r){i.classList.remove(r)}setStyle(i,r,f,p){p&(v.JOm.DashCase|v.JOm.Important)?i.style.setProperty(r,f,p&v.JOm.Important?"important":""):i.style[r]=f}removeStyle(i,r,f){f&v.JOm.DashCase?i.style.removeProperty(r):i.style[r]=""}setProperty(i,r,f){i[r]=f}setValue(i,r){i.nodeValue=r}listen(i,r,f){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,r,U(f)):this.eventManager.addEventListener(i,r,U(f))}}class et extends Z{constructor(i,r,f,p){super(i),this.component=f;const E=R(p+"-"+f.id,f.styles,[]);r.addStyles(E),this.contentAttr="_ngcontent-%COMP%".replace(Ee,p+"-"+f.id),this.hostAttr="_nghost-%COMP%".replace(Ee,p+"-"+f.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,r){const f=super.createElement(i,r);return super.setAttribute(f,this.contentAttr,""),f}}class je extends Z{constructor(i,r,f,p){super(i),this.sharedStylesHost=r,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=R(p.id,p.styles,[]);for(let A=0;A<E.length;A++){const P=document.createElement("style");P.textContent=E[A],this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,r){return super.appendChild(this.nodeOrShadowRoot(i),r)}insertBefore(i,r,f){return super.insertBefore(this.nodeOrShadowRoot(i),r,f)}removeChild(i,r){return super.removeChild(this.nodeOrShadowRoot(i),r)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Te=(()=>{class u extends Ge{constructor(r){super(r)}supports(r){return!0}addEventListener(r,f,p){return r.addEventListener(f,p,!1),()=>this.removeEventListener(r,f,p)}removeEventListener(r,f,p){return r.removeEventListener(f,p)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.K0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const ut=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kn={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let Tn=(()=>{class u extends Ge{constructor(r){super(r)}supports(r){return null!=u.parseEventName(r)}addEventListener(r,f,p){const E=u.parseEventName(f),A=u.eventCallback(E.fullKey,p,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(r,E.domEventName,A))}static parseEventName(r){const f=r.toLowerCase().split("."),p=f.shift();if(0===f.length||"keydown"!==p&&"keyup"!==p)return null;const E=u._normalizeKey(f.pop());let A="";if(ut.forEach(G=>{const ue=f.indexOf(G);ue>-1&&(f.splice(ue,1),A+=G+".")}),A+=E,0!=f.length||0===E.length)return null;const P={};return P.domEventName=p,P.fullKey=A,P}static getEventFullKey(r){let f="",p=function(u){let i=u.key;if(null==i){if(i=u.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===u.location&&hn.hasOwnProperty(i)&&(i=hn[i]))}return yn[i]||i}(r);return p=p.toLowerCase()," "===p?p="space":"."===p&&(p="dot"),ut.forEach(E=>{E!=p&&kn[E](r)&&(f+=E+".")}),f+=p,f}static eventCallback(r,f,p){return E=>{u.getEventFullKey(E)===r&&p.runGuarded(()=>f(E))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.K0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const _t=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:k.bD},{provide:v.g9A,useValue:function(){ye.makeCurrent(),_e.init()},multi:!0},{provide:k.K0,useFactory:function(){return(0,v.RDi)(document),document},deps:[]}]),it=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function(){return new v.qLn},deps:[]},{provide:ie,useClass:Te,multi:!0,deps:[k.K0,v.R0b,v.Lbi]},{provide:ie,useClass:Tn,multi:!0,deps:[k.K0]},{provide:J,useClass:J,deps:[Oe,we,v.AFp]},{provide:v.FYo,useExisting:J},{provide:Me,useExisting:we},{provide:we,useClass:we,deps:[k.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Oe,useClass:Oe,deps:[ie,v.R0b]},{provide:k.JF,useClass:Ie,deps:[]}];let pt=(()=>{class u{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:u,providers:[{provide:v.AFp,useValue:r.appId},{provide:Ce,useExisting:v.AFp},Y]}}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(u,12))},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:it,imports:[k.ez,v.hGG]}),u})();"undefined"!=typeof window&&window;var Cn=K(5947),Tt=K(2997),rn=K(273);class hr extends rn.x{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const r=super._subscribe(i);return!r.closed&&i.next(this._value),r}getValue(){const{hasError:i,thrownError:r,_value:f}=this;if(i)throw r;return this._throwIfClosed(),f}next(i){super.next(this._value=i)}}var Fr=K(8305);const{isArray:zo}=Array,{getPrototypeOf:Fi,prototype:bi,keys:no}=Object;function qo(u){if(1===u.length){const i=u[0];if(zo(i))return{args:i,keys:null};if(function(u){return u&&"object"==typeof u&&Fi(u)===bi}(i)){const r=no(i);return{args:r.map(f=>i[f]),keys:r}}}return{args:u,keys:null}}var di=K(4623),Xt=K(4753);const{isArray:Vn}=Array;function Ci(u){return(0,Xt.U)(i=>function(u,i){return Vn(i)?u(...i):u(i)}(u,i))}var Un=K(8830);function Jn(u,i){return u.reduce((r,f,p)=>(r[f]=i[p],r),{})}var Xe=K(8889),Rt=K(8395);function Hn(u,i,r){u?(0,Rt.f)(r,u,i):i()}const _r=(0,K(4893).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"});var Sn=K(5373);function Lr(...u){return(0,Sn.J)(1)((0,Cn.D)(u,(0,Un.yG)(u)))}var wt=K(9985);function fn(u){return new Fr.y(i=>{(0,wt.Xf)(u()).subscribe(i)})}var sr=K(5583),Gn=K(7908),ar=K(9947);function Mn(){return(0,ar.e)((u,i)=>{let r=null;u._refCount++;const f=new Xe.Q(i,void 0,void 0,void 0,()=>{if(!u||u._refCount<=0||0<--u._refCount)return void(r=null);const p=u._connection,E=r;r=null,p&&(!E||p===E)&&p.unsubscribe(),i.unsubscribe()});u.subscribe(f),f.closed||(r=u.connect())})}class pi extends Fr.y{constructor(i,r){super(),this.source=i,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,(0,ar.A)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,null==i||i.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Gn.w0;const r=this.getSubject();i.add(this.source.subscribe(new Xe.Q(r,void 0,()=>{this._teardown(),r.complete()},f=>{this._teardown(),r.error(f)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Gn.w0.EMPTY)}return i}refCount(){return Mn()(this)}}function dr(u,i){return(0,ar.e)((r,f)=>{let p=null,E=0,A=!1;const P=()=>A&&!p&&f.complete();r.subscribe(new Xe.Q(f,G=>{null==p||p.unsubscribe();let ue=0;const Fe=E++;(0,wt.Xf)(u(G,Fe)).subscribe(p=new Xe.Q(f,Le=>f.next(i?i(G,Le,Fe,ue++):Le),()=>{p=null,P()}))},()=>{A=!0,P()}))})}var Xn=K(9468),Hs=K(9495),ai=K(461);function kr(u){return(0,ar.e)((i,r)=>{let E,f=null,p=!1;f=i.subscribe(new Xe.Q(r,void 0,void 0,A=>{E=(0,wt.Xf)(u(A,kr(u)(i))),f?(f.unsubscribe(),f=null,E.subscribe(r)):p=!0})),p&&(f.unsubscribe(),f=null,E.subscribe(r))})}var Nn=K(5724),io=K(5044);function Vr(u,i){return(0,io.m)(i)?(0,Nn.z)(u,i,1):(0,Nn.z)(u,1)}function Tr(u){return u<=0?()=>sr.E:(0,ar.e)((i,r)=>{let f=[];i.subscribe(new Xe.Q(r,p=>{f.push(p),u<f.length&&f.shift()},()=>{for(const p of f)r.next(p);r.complete()},void 0,()=>{f=null}))})}function pr(u=On){return(0,ar.e)((i,r)=>{let f=!1;i.subscribe(new Xe.Q(r,p=>{f=!0,r.next(p)},()=>f?r.complete():r.error(u())))})}function On(){return new _r}function wr(u){return(0,ar.e)((i,r)=>{let f=!1;i.subscribe(new Xe.Q(r,p=>{f=!0,r.next(p)},()=>{f||r.next(u),r.complete()}))})}function Mr(u,i){const r=arguments.length>=2;return f=>f.pipe(u?(0,ai.h)((p,E)=>u(p,E,f)):di.y,(0,Xn.q)(1),r?wr(i):pr(()=>new _r))}var wn=K(7384);class An{constructor(i,r){this.id=i,this.url=r}}class ki extends An{constructor(i,r,f="imperative",p=null){super(i,r),this.navigationTrigger=f,this.restoredState=p}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends An{constructor(i,r,f){super(i,r),this.urlAfterRedirects=f}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Co extends An{constructor(i,r,f){super(i,r),this.reason=f}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Si extends An{constructor(i,r,f){super(i,r),this.error=f}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gs extends An{constructor(i,r,f,p){super(i,r),this.urlAfterRedirects=f,this.state=p}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vu extends An{constructor(i,r,f,p){super(i,r),this.urlAfterRedirects=f,this.state=p}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s extends An{constructor(i,r,f,p,E){super(i,r),this.urlAfterRedirects=f,this.state=p,this.shouldActivate=E}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wo extends An{constructor(i,r,f,p){super(i,r),this.urlAfterRedirects=f,this.state=p}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zs extends An{constructor(i,r,f,p){super(i,r),this.urlAfterRedirects=f,this.state=p}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qs{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _u{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(i,r,f){this.routerEvent=i,this.position=r,this.anchor=f}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class wu{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const r=this.params[i];return Array.isArray(r)?r[0]:r}return null}getAll(i){if(this.has(i)){const r=this.params[i];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function on(u){return new wu(u)}const gi="ngNavigationCancelingError";function Ws(u){const i=Error("NavigationCancelingError: "+u);return i[gi]=!0,i}function Ko(u,i,r){const f=r.path.split("/");if(f.length>u.length||"full"===r.pathMatch&&(i.hasChildren()||f.length<u.length))return null;const p={};for(let E=0;E<f.length;E++){const A=f[E],P=u[E];if(A.startsWith(":"))p[A.substring(1)]=P;else if(A!==P.path)return null}return{consumed:u.slice(0,f.length),posParams:p}}function Er(u,i){const r=u?Object.keys(u):void 0,f=i?Object.keys(i):void 0;if(!r||!f||r.length!=f.length)return!1;let p;for(let E=0;E<r.length;E++)if(p=r[E],!To(u[p],i[p]))return!1;return!0}function To(u,i){if(Array.isArray(u)&&Array.isArray(i)){if(u.length!==i.length)return!1;const r=[...u].sort(),f=[...i].sort();return r.every((p,E)=>f[E]===p)}return u===i}function Bi(u){return Array.prototype.concat.apply([],u)}function Ta(u){return u.length>0?u[u.length-1]:null}function Wn(u,i){for(const r in u)u.hasOwnProperty(r)&&i(u[r],r)}function mr(u){return(0,v.CqO)(u)?u:(0,v.QGY)(u)?(0,Cn.D)(Promise.resolve(u)):(0,Tt.of)(u)}const Hi={exact:function j(u,i,r){if(!qt(u.segments,i.segments)||!Ne(u.segments,i.segments,r)||u.numberOfChildren!==i.numberOfChildren)return!1;for(const f in i.children)if(!u.children[f]||!j(u.children[f],i.children[f],r))return!1;return!0},subset:$},Ia={exact:function(u,i){return Er(u,i)},subset:function(u,i){return Object.keys(i).length<=Object.keys(u).length&&Object.keys(i).every(r=>To(u[r],i[r]))},ignored:()=>!0};function an(u,i,r){return Hi[r.paths](u.root,i.root,r.matrixParams)&&Ia[r.queryParams](u.queryParams,i.queryParams)&&!("exact"===r.fragment&&u.fragment!==i.fragment)}function $(u,i,r){return se(u,i,i.segments,r)}function se(u,i,r,f){if(u.segments.length>r.length){const p=u.segments.slice(0,r.length);return!(!qt(p,r)||i.hasChildren()||!Ne(p,r,f))}if(u.segments.length===r.length){if(!qt(u.segments,r)||!Ne(u.segments,r,f))return!1;for(const p in i.children)if(!u.children[p]||!$(u.children[p],i.children[p],f))return!1;return!0}{const p=r.slice(0,u.segments.length),E=r.slice(u.segments.length);return!!(qt(u.segments,p)&&Ne(u.segments,p,f)&&u.children[Ft])&&se(u.children[Ft],i,E,f)}}function Ne(u,i,r){return i.every((f,p)=>Ia[r](u[p].parameters,f.parameters))}class xe{constructor(i,r,f){this.root=i,this.queryParams=r,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return ur.serialize(this)}}class We{constructor(i,r){this.segments=i,this.children=r,this.parent=null,Wn(r,(f,p)=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class Vt{constructor(i,r){this.path=i,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return _s(this)}}function qt(u,i){return u.length===i.length&&u.every((r,f)=>r.path===i[f].path)}class jn{}class Ht{parse(i){const r=new $e(i);return new xe(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(i){const r=`/${zn(i.root,!0)}`,f=function(u){const i=Object.keys(u).map(r=>{const f=u[r];return Array.isArray(f)?f.map(p=>`${Qr(r)}=${Qr(p)}`).join("&"):`${Qr(r)}=${Qr(f)}`}).filter(r=>!!r);return i.length?`?${i.join("&")}`:""}(i.queryParams);var u;return`${r}${f}${"string"==typeof i.fragment?`#${u=i.fragment,encodeURI(u)}`:""}`}}const ur=new Ht;function $n(u){return u.segments.map(i=>_s(i)).join("/")}function zn(u,i){if(!u.hasChildren())return $n(u);if(i){const r=u.children[Ft]?zn(u.children[Ft],!1):"",f=[];return Wn(u.children,(p,E)=>{E!==Ft&&f.push(`${E}:${zn(p,!1)}`)}),f.length>0?`${r}(${f.join("//")})`:r}{const r=function(u,i){let r=[];return Wn(u.children,(f,p)=>{p===Ft&&(r=r.concat(i(f,p)))}),Wn(u.children,(f,p)=>{p!==Ft&&(r=r.concat(i(f,p)))}),r}(u,(f,p)=>p===Ft?[zn(u.children[Ft],!1)]:[`${p}:${zn(f,!1)}`]);return 1===Object.keys(u.children).length&&null!=u.children[Ft]?`${$n(u)}/${r[0]}`:`${$n(u)}/(${r.join("//")})`}}function Kt(u){return encodeURIComponent(u).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(u){return Kt(u).replace(/%3B/gi,";")}function Pn(u){return Kt(u).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function br(u){return decodeURIComponent(u)}function Ai(u){return br(u.replace(/\+/g,"%20"))}function _s(u){return`${Pn(u.path)}${function(u){return Object.keys(u).map(i=>`;${Pn(i)}=${Pn(u[i])}`).join("")}(u.parameters)}`}const Yo=/^[^\/()?;=#]+/;function Qo(u){const i=u.match(Yo);return i?i[0]:""}const Gi=/^[^=?&#]+/,Io=/^[^&#]+/;class $e{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(i.length>0||Object.keys(r).length>0)&&(f[Ft]=new We(i,r)),f}parseSegment(){const i=Qo(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Vt(br(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const r=Qo(this.remaining);if(!r)return;this.capture(r);let f="";if(this.consumeOptional("=")){const p=Qo(this.remaining);p&&(f=p,this.capture(f))}i[br(r)]=br(f)}parseQueryParam(i){const r=function(u){const i=u.match(Gi);return i?i[0]:""}(this.remaining);if(!r)return;this.capture(r);let f="";if(this.consumeOptional("=")){const A=function(u){const i=u.match(Io);return i?i[0]:""}(this.remaining);A&&(f=A,this.capture(f))}const p=Ai(r),E=Ai(f);if(i.hasOwnProperty(p)){let A=i[p];Array.isArray(A)||(A=[A],i[p]=A),A.push(E)}else i[p]=E}parseParens(i){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=Qo(this.remaining),p=this.remaining[f.length];if("/"!==p&&")"!==p&&";"!==p)throw new Error(`Cannot parse url '${this.url}'`);let E;f.indexOf(":")>-1?(E=f.substr(0,f.indexOf(":")),this.capture(E),this.capture(":")):i&&(E=Ft);const A=this.parseChildren();r[E]=1===Object.keys(A).length?A[Ft]:new We([],A),this.consumeOptional("//")}return r}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class Yt{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const r=this.pathFromRoot(i);return r.length>1?r[r.length-2]:null}children(i){const r=Zo(i,this._root);return r?r.children.map(f=>f.value):[]}firstChild(i){const r=Zo(i,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(i){const r=bn(i,this._root);return r.length<2?[]:r[r.length-2].children.map(p=>p.value).filter(p=>p!==i)}pathFromRoot(i){return bn(i,this._root).map(r=>r.value)}}function Zo(u,i){if(u===i.value)return i;for(const r of i.children){const f=Zo(u,r);if(f)return f}return null}function bn(u,i){if(u===i.value)return[i];for(const r of i.children){const f=bn(u,r);if(f.length)return f.unshift(i),f}return[]}class ui{constructor(i,r){this.value=i,this.children=r}toString(){return`TreeNode(${this.value})`}}function jr(u){const i={};return u&&u.children.forEach(r=>i[r.value.outlet]=r),i}class Br extends Yt{constructor(i,r){super(i),this.snapshot=r,Jr(this,i)}toString(){return this.snapshot.toString()}}function ws(u,i){const r=function(u,i){const A=new $i([],{},{},"",{},Ft,i,null,u.root,-1,{});return new Dr("",new ui(A,[]))}(u,i),f=new hr([new Vt("",{})]),p=new hr({}),E=new hr({}),A=new hr({}),P=new hr(""),G=new Es(f,p,A,P,E,Ft,i,r.root);return G.snapshot=r.root,new Br(new ui(G,[]),r)}class Es{constructor(i,r,f,p,E,A,P,G){this.url=i,this.params=r,this.queryParams=f,this.fragment=p,this.data=E,this.outlet=A,this.component=P,this._futureSnapshot=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xt.U)(i=>on(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xt.U)(i=>on(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eu(u,i="emptyOnly"){const r=u.pathFromRoot;let f=0;if("always"!==i)for(f=r.length-1;f>=1;){const p=r[f],E=r[f-1];if(p.routeConfig&&""===p.routeConfig.path)f--;else{if(E.component)break;f--}}return function(u){return u.reduce((i,r)=>({params:St(St({},i.params),r.params),data:St(St({},i.data),r.data),resolve:St(St({},i.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(f))}class $i{constructor(i,r,f,p,E,A,P,G,ue,Fe,Le){this.url=i,this.params=r,this.queryParams=f,this.fragment=p,this.data=E,this.outlet=A,this.component=P,this.routeConfig=G,this._urlSegment=ue,this._lastPathIndex=Fe,this._resolve=Le}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends Yt{constructor(i,r){super(r),this.url=i,Jr(this,r)}toString(){return Oa(this._root)}}function Jr(u,i){i.value._routerState=u,i.children.forEach(r=>Jr(u,r))}function Oa(u){const i=u.children.length>0?` { ${u.children.map(Oa).join(", ")} } `:"";return`${u.value}${i}`}function oo(u){if(u.snapshot){const i=u.snapshot,r=u._futureSnapshot;u.snapshot=r,Er(i.queryParams,r.queryParams)||u.queryParams.next(r.queryParams),i.fragment!==r.fragment&&u.fragment.next(r.fragment),Er(i.params,r.params)||u.params.next(r.params),function(u,i){if(u.length!==i.length)return!1;for(let r=0;r<u.length;++r)if(!Er(u[r],i[r]))return!1;return!0}(i.url,r.url)||u.url.next(r.url),Er(i.data,r.data)||u.data.next(r.data)}else u.snapshot=u._futureSnapshot,u.data.next(u._futureSnapshot.data)}function Kn(u,i){const r=Er(u.params,i.params)&&function(u,i){return qt(u,i)&&u.every((r,f)=>Er(r.parameters,i[f].parameters))}(u.url,i.url);return r&&!(!u.parent!=!i.parent)&&(!u.parent||Kn(u.parent,i.parent))}function Mo(u,i,r){if(r&&u.shouldReuseRoute(i.value,r.value.snapshot)){const f=r.value;f._futureSnapshot=i.value;const p=function(u,i,r){return i.children.map(f=>{for(const p of r.children)if(u.shouldReuseRoute(f.value,p.value.snapshot))return Mo(u,f,p);return Mo(u,f)})}(u,i,r);return new ui(f,p)}{if(u.shouldAttach(i.value)){const E=u.retrieve(i.value);if(null!==E){const A=E.route;return A.value._futureSnapshot=i.value,A.children=i.children.map(P=>Mo(u,P)),A}}const f=function(u){return new Es(new hr(u.url),new hr(u.params),new hr(u.queryParams),new hr(u.fragment),new hr(u.data),u.outlet,u.component,u)}(i.value),p=i.children.map(E=>Mo(u,E));return new ui(f,p)}}function Cr(u){return"object"==typeof u&&null!=u&&!u.outlets&&!u.segmentPath}function cr(u){return"object"==typeof u&&null!=u&&u.outlets}function No(u,i,r,f,p){let E={};return f&&Wn(f,(A,P)=>{E[P]=Array.isArray(A)?A.map(G=>`${G}`):`${A}`}),new xe(r.root===u?i:Ye(r.root,u,i),E,p)}function Ye(u,i,r){const f={};return Wn(u.children,(p,E)=>{f[E]=p===i?r:Ye(p,i,r)}),new We(u.segments,f)}class so{constructor(i,r,f){if(this.isAbsolute=i,this.numberOfDoubleDots=r,this.commands=f,i&&f.length>0&&Cr(f[0]))throw new Error("Root segment cannot have matrix parameters");const p=f.find(cr);if(p&&p!==Ta(f))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ao{constructor(i,r,f){this.segmentGroup=i,this.processChildren=r,this.index=f}}function Ti(u,i,r){if(u||(u=new We([],{})),0===u.segments.length&&u.hasChildren())return m(u,i,r);const f=function(u,i,r){let f=0,p=i;const E={match:!1,pathIndex:0,commandIndex:0};for(;p<u.segments.length;){if(f>=r.length)return E;const A=u.segments[p],P=r[f];if(cr(P))break;const G=`${P}`,ue=f<r.length-1?r[f+1]:null;if(p>0&&void 0===G)break;if(G&&ue&&"object"==typeof ue&&void 0===ue.outlets){if(!De(G,ue,A))return E;f+=2}else{if(!De(G,{},A))return E;f++}p++}return{match:!0,pathIndex:p,commandIndex:f}}(u,i,r),p=r.slice(f.commandIndex);if(f.match&&f.pathIndex<u.segments.length){const E=new We(u.segments.slice(0,f.pathIndex),{});return E.children[Ft]=new We(u.segments.slice(f.pathIndex),u.children),m(E,0,p)}return f.match&&0===p.length?new We(u.segments,{}):f.match&&!u.hasChildren()?O(u,i,r):f.match?m(u,0,p):O(u,i,r)}function m(u,i,r){if(0===r.length)return new We(u.segments,{});{const f=function(u){return cr(u[0])?u[0].outlets:{[Ft]:u}}(r),p={};return Wn(f,(E,A)=>{"string"==typeof E&&(E=[E]),null!==E&&(p[A]=Ti(u.children[A],i,E))}),Wn(u.children,(E,A)=>{void 0===f[A]&&(p[A]=E)}),new We(u.segments,p)}}function O(u,i,r){const f=u.segments.slice(0,i);let p=0;for(;p<r.length;){const E=r[p];if(cr(E)){const G=z(E.outlets);return new We(f,G)}if(0===p&&Cr(r[0])){f.push(new Vt(u.segments[i].path,ne(r[0]))),p++;continue}const A=cr(E)?E.outlets[Ft]:`${E}`,P=p<r.length-1?r[p+1]:null;A&&P&&Cr(P)?(f.push(new Vt(A,ne(P))),p+=2):(f.push(new Vt(A,{})),p++)}return new We(f,{})}function z(u){const i={};return Wn(u,(r,f)=>{"string"==typeof r&&(r=[r]),null!==r&&(i[f]=O(new We([],{}),0,r))}),i}function ne(u){const i={};return Wn(u,(r,f)=>i[f]=`${r}`),i}function De(u,i,r){return u==r.path&&Er(i,r.parameters)}class en{constructor(i,r,f,p){this.routeReuseStrategy=i,this.futureState=r,this.currState=f,this.forwardEvent=p}activate(i){const r=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,f,i),oo(this.futureState.root),this.activateChildRoutes(r,f,i)}deactivateChildRoutes(i,r,f){const p=jr(r);i.children.forEach(E=>{const A=E.value.outlet;this.deactivateRoutes(E,p[A],f),delete p[A]}),Wn(p,(E,A)=>{this.deactivateRouteAndItsChildren(E,f)})}deactivateRoutes(i,r,f){const p=i.value,E=r?r.value:null;if(p===E)if(p.component){const A=f.getContext(p.outlet);A&&this.deactivateChildRoutes(i,r,A.children)}else this.deactivateChildRoutes(i,r,f);else E&&this.deactivateRouteAndItsChildren(r,f)}deactivateRouteAndItsChildren(i,r){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,r):this.deactivateRouteAndOutlet(i,r)}detachAndStoreRouteSubtree(i,r){const f=r.getContext(i.value.outlet),p=f&&i.value.component?f.children:r,E=jr(i);for(const A of Object.keys(E))this.deactivateRouteAndItsChildren(E[A],p);if(f&&f.outlet){const A=f.outlet.detach(),P=f.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:A,route:i,contexts:P})}}deactivateRouteAndOutlet(i,r){const f=r.getContext(i.value.outlet),p=f&&i.value.component?f.children:r,E=jr(i);for(const A of Object.keys(E))this.deactivateRouteAndItsChildren(E[A],p);f&&f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated(),f.attachRef=null,f.resolver=null,f.route=null)}activateChildRoutes(i,r,f){const p=jr(r);i.children.forEach(E=>{this.activateRoutes(E,p[E.value.outlet],f),this.forwardEvent(new ji(E.value.snapshot))}),i.children.length&&this.forwardEvent(new So(i.value.snapshot))}activateRoutes(i,r,f){const p=i.value,E=r?r.value:null;if(oo(p),p===E)if(p.component){const A=f.getOrCreateContext(p.outlet);this.activateChildRoutes(i,r,A.children)}else this.activateChildRoutes(i,r,f);else if(p.component){const A=f.getOrCreateContext(p.outlet);if(this.routeReuseStrategy.shouldAttach(p.snapshot)){const P=this.routeReuseStrategy.retrieve(p.snapshot);this.routeReuseStrategy.store(p.snapshot,null),A.children.onOutletReAttached(P.contexts),A.attachRef=P.componentRef,A.route=P.route.value,A.outlet&&A.outlet.attach(P.componentRef,P.route.value),oo(P.route.value),this.activateChildRoutes(i,null,A.children)}else{const P=function(u){for(let i=u.parent;i;i=i.parent){const r=i.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(p.snapshot),G=P?P.module.componentFactoryResolver:null;A.attachRef=null,A.route=p,A.resolver=G,A.outlet&&A.outlet.activateWith(p,G),this.activateChildRoutes(i,null,A.children)}}else this.activateChildRoutes(i,null,f)}}class er{constructor(i,r){this.routes=i,this.module=r}}function tr(u){return"function"==typeof u}function mi(u){return u instanceof xe}const Ii=Symbol("INITIAL_VALUE");function Po(){return dr(u=>function(...u){const i=(0,Un.yG)(u),r=(0,Un.jO)(u),{args:f,keys:p}=qo(u);if(0===f.length)return(0,Cn.D)([],i);const E=new Fr.y(function(u,i,r=di.y){return f=>{Hn(i,()=>{const{length:p}=u,E=new Array(p);let A=p,P=p;for(let G=0;G<p;G++)Hn(i,()=>{const ue=(0,Cn.D)(u[G],i);let Fe=!1;ue.subscribe(new Xe.Q(f,Le=>{E[G]=Le,Fe||(Fe=!0,P--),P||f.next(r(E.slice()))},()=>{--A||f.complete()}))},f)},f)}}(f,i,p?A=>Jn(p,A):di.y));return r?E.pipe(Ci(r)):E}(u.map(i=>i.pipe((0,Xn.q)(1),function(...u){const i=(0,Un.yG)(u);return(0,ar.e)((r,f)=>{(i?Lr(u,r,i):Lr(u,r)).subscribe(f)})}(Ii)))).pipe((0,Hs.R)((i,r)=>{let f=!1;return r.reduce((p,E,A)=>p!==Ii?p:(E===Ii&&(f=!0),f||!1!==E&&A!==r.length-1&&!mi(E)?p:E),i)},Ii),(0,ai.h)(i=>i!==Ii),(0,Xt.U)(i=>mi(i)?i:!0===i),(0,Xn.q)(1)))}class Wl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ra,this.attachRef=null}}class Ra{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const f=this.getOrCreateContext(i);f.outlet=r,this.contexts.set(i,f)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Wl,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}let Cs=(()=>{class u{constructor(r,f,p,E,A){this.parentContexts=r,this.location=f,this.resolver=p,this.changeDetector=A,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=E||Ft,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,f){this.activated=r,this._activatedRoute=f,this.location.insert(r.hostView),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,f){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const A=(f=f||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),P=this.parentContexts.getOrCreateContext(this.name).children,G=new ol(r,P,this.location.injector);this.activated=this.location.createComponent(A,this.location.length,G),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(Ra),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},u.\u0275dir=v.lG2({type:u,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),u})();class ol{constructor(i,r,f){this.route=i,this.childContexts=r,this.parent=f}get(i,r){return i===Es?this.route:i===Ra?this.childContexts:this.parent.get(i,r)}}let Wc=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275cmp=v.Xpm({type:u,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,f){1&r&&v._UZ(0,"router-outlet")},directives:[Cs],encapsulation:2}),u})();function sl(u,i=""){for(let r=0;r<u.length;r++){const f=u[r];Kc(f,Yc(i,f))}}function Kc(u,i){u.children&&sl(u.children,i)}function Yc(u,i){return i?u||i.path?u&&!i.path?`${u}/`:!u&&i.path?i.path:`${u}/${i.path}`:"":u}function Ss(u){const i=u.children&&u.children.map(Ss),r=i?Ei(St({},u),{children:i}):St({},u);return!r.component&&(i||r.loadChildren)&&r.outlet&&r.outlet!==Ft&&(r.component=Wc),r}function Mi(u){return u.outlet||Ft}function Du(u,i){const r=u.filter(f=>Mi(f)===i);return r.push(...u.filter(f=>Mi(f)!==i)),r}const xa={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fa(u,i,r){var P;if(""===i.path)return"full"===i.pathMatch&&(u.hasChildren()||r.length>0)?St({},xa):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const p=(i.matcher||Ko)(r,u,i);if(!p)return St({},xa);const E={};Wn(p.posParams,(G,ue)=>{E[ue]=G.path});const A=p.consumed.length>0?St(St({},E),p.consumed[p.consumed.length-1].parameters):E;return{matched:!0,consumedSegments:p.consumed,lastChild:p.consumed.length,parameters:A,positionalParamSegments:null!=(P=p.posParams)?P:{}}}function La(u,i,r,f,p="corrected"){if(r.length>0&&function(u,i,r){return r.some(f=>Rn(u,i,f)&&Mi(f)!==Ft)}(u,r,f)){const A=new We(i,function(u,i,r,f){const p={};p[Ft]=f,f._sourceSegment=u,f._segmentIndexShift=i.length;for(const E of r)if(""===E.path&&Mi(E)!==Ft){const A=new We([],{});A._sourceSegment=u,A._segmentIndexShift=i.length,p[Mi(E)]=A}return p}(u,i,f,new We(r,u.children)));return A._sourceSegment=u,A._segmentIndexShift=i.length,{segmentGroup:A,slicedSegments:[]}}if(0===r.length&&function(u,i,r){return r.some(f=>Rn(u,i,f))}(u,r,f)){const A=new We(u.segments,function(u,i,r,f,p,E){const A={};for(const P of f)if(Rn(u,r,P)&&!p[Mi(P)]){const G=new We([],{});G._sourceSegment=u,G._segmentIndexShift="legacy"===E?u.segments.length:i.length,A[Mi(P)]=G}return St(St({},p),A)}(u,i,r,f,u.children,p));return A._sourceSegment=u,A._segmentIndexShift=i.length,{segmentGroup:A,slicedSegments:r}}const E=new We(u.segments,u.children);return E._sourceSegment=u,E._segmentIndexShift=i.length,{segmentGroup:E,slicedSegments:r}}function Rn(u,i,r){return(!(u.hasChildren()||i.length>0)||"full"!==r.pathMatch)&&""===r.path}function Xf(u,i,r,f){return!!(Mi(u)===f||f!==Ft&&Rn(i,r,u))&&("**"===u.path||Fa(i,u,r).matched)}function Kl(u,i,r){return 0===i.length&&!u.children[r]}class ti{constructor(i){this.segmentGroup=i||null}}class Zc{constructor(i){this.urlTree=i}}function Cu(u){return new Fr.y(i=>i.error(new ti(u)))}function yi(u){return new Fr.y(i=>i.error(new Zc(u)))}function Yl(u){return new Fr.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${u}'`)))}class Ua{constructor(i,r,f,p,E){this.configLoader=r,this.urlSerializer=f,this.urlTree=p,this.config=E,this.allowRedirects=!0,this.ngModule=i.get(v.h0i)}apply(){const i=La(this.urlTree.root,[],[],this.config).segmentGroup,r=new We(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Ft).pipe((0,Xt.U)(E=>this.createUrlTree(Qs(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe(kr(E=>{if(E instanceof Zc)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof ti?this.noMatchError(E):E}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,Ft).pipe((0,Xt.U)(p=>this.createUrlTree(Qs(p),i.queryParams,i.fragment))).pipe(kr(p=>{throw p instanceof ti?this.noMatchError(p):p}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,r,f){const p=i.segments.length>0?new We([],{[Ft]:i}):i;return new xe(p,r,f)}expandSegmentGroup(i,r,f,p){return 0===f.segments.length&&f.hasChildren()?this.expandChildren(i,r,f).pipe((0,Xt.U)(E=>new We([],E))):this.expandSegment(i,f,r,f.segments,p,!0)}expandChildren(i,r,f){const p=[];for(const E of Object.keys(f.children))"primary"===E?p.unshift(E):p.push(E);return(0,Cn.D)(p).pipe(Vr(E=>{const A=f.children[E],P=Du(r,E);return this.expandSegmentGroup(i,P,A,E).pipe((0,Xt.U)(G=>({segment:G,outlet:E})))}),(0,Hs.R)((E,A)=>(E[A.outlet]=A.segment,E),{}),function(u,i){const r=arguments.length>=2;return f=>f.pipe(u?(0,ai.h)((p,E)=>u(p,E,f)):di.y,Tr(1),r?wr(i):pr(()=>new _r))}())}expandSegment(i,r,f,p,E,A){return(0,Cn.D)(f).pipe(Vr(P=>this.expandSegmentAgainstRoute(i,r,f,P,p,E,A).pipe(kr(ue=>{if(ue instanceof ti)return(0,Tt.of)(null);throw ue}))),Mr(P=>!!P),kr((P,G)=>{if(P instanceof _r||"EmptyError"===P.name){if(Kl(r,p,E))return(0,Tt.of)(new We([],{}));throw new ti(r)}throw P}))}expandSegmentAgainstRoute(i,r,f,p,E,A,P){return Xf(p,r,E,A)?void 0===p.redirectTo?this.matchSegmentAgainstRoute(i,r,p,E,A):P&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,r,f,p,E,A):Cu(r):Cu(r)}expandSegmentAgainstRouteUsingRedirect(i,r,f,p,E,A){return"**"===p.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,f,p,A):this.expandRegularSegmentAgainstRouteUsingRedirect(i,r,f,p,E,A)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,r,f,p){const E=this.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?yi(E):this.lineralizeSegments(f,E).pipe((0,Nn.z)(A=>{const P=new We(A,{});return this.expandSegment(i,P,r,A,p,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,r,f,p,E,A){const{matched:P,consumedSegments:G,lastChild:ue,positionalParamSegments:Fe}=Fa(r,p,E);if(!P)return Cu(r);const Le=this.applyRedirectCommands(G,p.redirectTo,Fe);return p.redirectTo.startsWith("/")?yi(Le):this.lineralizeSegments(p,Le).pipe((0,Nn.z)(rt=>this.expandSegment(i,r,f,rt.concat(E.slice(ue)),A,!1)))}matchSegmentAgainstRoute(i,r,f,p,E){if("**"===f.path)return f.loadChildren?(f._loadedConfig?(0,Tt.of)(f._loadedConfig):this.configLoader.load(i.injector,f)).pipe((0,Xt.U)(rt=>(f._loadedConfig=rt,new We(p,{})))):(0,Tt.of)(new We(p,{}));const{matched:A,consumedSegments:P,lastChild:G}=Fa(r,f,p);if(!A)return Cu(r);const ue=p.slice(G);return this.getChildConfig(i,f,p).pipe((0,Nn.z)(Le=>{const rt=Le.module,Qe=Le.routes,{segmentGroup:ot,slicedSegments:vt}=La(r,P,ue,Qe),It=new We(ot.segments,ot.children);if(0===vt.length&&It.hasChildren())return this.expandChildren(rt,Qe,It).pipe((0,Xt.U)(Fn=>new We(P,Fn)));if(0===Qe.length&&0===vt.length)return(0,Tt.of)(new We(P,{}));const Gt=Mi(f)===E;return this.expandSegment(rt,It,Qe,vt,Gt?Ft:E,!0).pipe((0,Xt.U)(fr=>new We(P.concat(fr.segments),fr.children)))}))}getChildConfig(i,r,f){return r.children?(0,Tt.of)(new er(r.children,i)):r.loadChildren?void 0!==r._loadedConfig?(0,Tt.of)(r._loadedConfig):this.runCanLoadGuards(i.injector,r,f).pipe((0,Nn.z)(p=>{return p?this.configLoader.load(i.injector,r).pipe((0,Xt.U)(E=>(r._loadedConfig=E,E))):(u=r,new Fr.y(i=>i.error(Ws(`Cannot load children because the guard of the route "path: '${u.path}'" returned false`))));var u})):(0,Tt.of)(new er([],i))}runCanLoadGuards(i,r,f){const p=r.canLoad;if(!p||0===p.length)return(0,Tt.of)(!0);const E=p.map(A=>{const P=i.get(A);let G;if((u=P)&&tr(u.canLoad))G=P.canLoad(r,f);else{if(!tr(P))throw new Error("Invalid CanLoad guard");G=P(r,f)}var u;return mr(G)});return(0,Tt.of)(E).pipe(Po(),(0,wn.b)(A=>{if(!mi(A))return;const P=Ws(`Redirecting to "${this.urlSerializer.serialize(A)}"`);throw P.url=A,P}),(0,Xt.U)(A=>!0===A))}lineralizeSegments(i,r){let f=[],p=r.root;for(;;){if(f=f.concat(p.segments),0===p.numberOfChildren)return(0,Tt.of)(f);if(p.numberOfChildren>1||!p.children[Ft])return Yl(i.redirectTo);p=p.children[Ft]}}applyRedirectCommands(i,r,f){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),i,f)}applyRedirectCreatreUrlTree(i,r,f,p){const E=this.createSegmentGroup(i,r.root,f,p);return new xe(E,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(i,r){const f={};return Wn(i,(p,E)=>{if("string"==typeof p&&p.startsWith(":")){const P=p.substring(1);f[E]=r[P]}else f[E]=p}),f}createSegmentGroup(i,r,f,p){const E=this.createSegments(i,r.segments,f,p);let A={};return Wn(r.children,(P,G)=>{A[G]=this.createSegmentGroup(i,P,f,p)}),new We(E,A)}createSegments(i,r,f,p){return r.map(E=>E.path.startsWith(":")?this.findPosParam(i,E,p):this.findOrReturn(E,f))}findPosParam(i,r,f){const p=f[r.path.substring(1)];if(!p)throw new Error(`Cannot redirect to '${i}'. Cannot find '${r.path}'.`);return p}findOrReturn(i,r){let f=0;for(const p of r){if(p.path===i.path)return r.splice(f),p;f++}return i}}function Qs(u){const i={};for(const f of Object.keys(u.children)){const E=Qs(u.children[f]);(E.segments.length>0||E.hasChildren())&&(i[f]=E)}return function(u){if(1===u.numberOfChildren&&u.children[Ft]){const i=u.children[Ft];return new We(u.segments.concat(i.segments),i.children)}return u}(new We(u.segments,i))}class As{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Xo{constructor(i,r){this.component=i,this.route=r}}function Xc(u,i,r){const f=u._root;return zi(f,i?i._root:null,r,[f.value])}function Ts(u,i,r){const f=function(u){if(!u)return null;for(let i=u.parent;i;i=i.parent){const r=i.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(i);return(f?f.module.injector:r).get(u)}function zi(u,i,r,f,p={canDeactivateChecks:[],canActivateChecks:[]}){const E=jr(i);return u.children.forEach(A=>{(function(u,i,r,f,p={canDeactivateChecks:[],canActivateChecks:[]}){const E=u.value,A=i?i.value:null,P=r?r.getContext(u.value.outlet):null;if(A&&E.routeConfig===A.routeConfig){const G=function(u,i,r){if("function"==typeof r)return r(u,i);switch(r){case"pathParamsChange":return!qt(u.url,i.url);case"pathParamsOrQueryParamsChange":return!qt(u.url,i.url)||!Er(u.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(u,i)||!Er(u.queryParams,i.queryParams);default:return!Kn(u,i)}}(A,E,E.routeConfig.runGuardsAndResolvers);G?p.canActivateChecks.push(new As(f)):(E.data=A.data,E._resolvedData=A._resolvedData),zi(u,i,E.component?P?P.children:null:r,f,p),G&&P&&P.outlet&&P.outlet.isActivated&&p.canDeactivateChecks.push(new Xo(P.outlet.component,A))}else A&&Ro(i,P,p),p.canActivateChecks.push(new As(f)),zi(u,null,E.component?P?P.children:null:r,f,p)})(A,E[A.value.outlet],r,f.concat([A.value]),p),delete E[A.value.outlet]}),Wn(E,(A,P)=>Ro(A,r.getContext(P),p)),p}function Ro(u,i,r){const f=jr(u),p=u.value;Wn(f,(E,A)=>{Ro(E,p.component?i?i.children.getContext(A):null:i,r)}),r.canDeactivateChecks.push(new Xo(p.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,p))}class Ha{}function Ni(u){return new Fr.y(i=>i.error(u))}class Lt{constructor(i,r,f,p,E,A){this.rootComponentType=i,this.config=r,this.urlTree=f,this.url=p,this.paramsInheritanceStrategy=E,this.relativeLinkResolution=A}recognize(){const i=La(this.urlTree.root,[],[],this.config.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,i,Ft);if(null===r)return null;const f=new $i([],Object.freeze({}),Object.freeze(St({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),p=new ui(f,r),E=new Dr(this.url,p);return this.inheritParamsAndData(E._root),E}inheritParamsAndData(i){const r=i.value,f=Eu(r,this.paramsInheritanceStrategy);r.params=Object.freeze(f.params),r.data=Object.freeze(f.data),i.children.forEach(p=>this.inheritParamsAndData(p))}processSegmentGroup(i,r,f){return 0===r.segments.length&&r.hasChildren()?this.processChildren(i,r):this.processSegment(i,r,r.segments,f)}processChildren(i,r){const f=[];for(const E of Object.keys(r.children)){const A=r.children[E],P=Du(i,E),G=this.processSegmentGroup(P,A,E);if(null===G)return null;f.push(...G)}const p=nr(f);return p.sort((i,r)=>i.value.outlet===Ft?-1:r.value.outlet===Ft?1:i.value.outlet.localeCompare(r.value.outlet)),p}processSegment(i,r,f,p){for(const E of i){const A=this.processSegmentAgainstRoute(E,r,f,p);if(null!==A)return A}return Kl(r,f,p)?[]:null}processSegmentAgainstRoute(i,r,f,p){if(i.redirectTo||!Xf(i,r,f,p))return null;let E,A=[],P=[];if("**"===i.path){const Qe=f.length>0?Ta(f).parameters:{};E=new $i(f,Qe,Object.freeze(St({},this.urlTree.queryParams)),this.urlTree.fragment,Or(i),Mi(i),i.component,i,vi(r),Gr(r)+f.length,Xs(i))}else{const Qe=Fa(r,i,f);if(!Qe.matched)return null;A=Qe.consumedSegments,P=f.slice(Qe.lastChild),E=new $i(A,Qe.parameters,Object.freeze(St({},this.urlTree.queryParams)),this.urlTree.fragment,Or(i),Mi(i),i.component,i,vi(r),Gr(r)+A.length,Xs(i))}const G=(u=i).children?u.children:u.loadChildren?u._loadedConfig.routes:[],{segmentGroup:ue,slicedSegments:Fe}=La(r,A,P,G.filter(Qe=>void 0===Qe.redirectTo),this.relativeLinkResolution);var u;if(0===Fe.length&&ue.hasChildren()){const Qe=this.processChildren(G,ue);return null===Qe?null:[new ui(E,Qe)]}if(0===G.length&&0===Fe.length)return[new ui(E,[])];const Le=Mi(i)===p,rt=this.processSegment(G,ue,Fe,Le?Ft:p);return null===rt?null:[new ui(E,rt)]}}function Pd(u){const i=u.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function nr(u){const i=[],r=new Set;for(const f of u){if(!Pd(f)){i.push(f);continue}const p=i.find(E=>f.value.routeConfig===E.value.routeConfig);void 0!==p?(p.children.push(...f.children),r.add(p)):i.push(f)}for(const f of r){const p=nr(f.children);i.push(new ui(f.value,p))}return i.filter(f=>!r.has(f))}function vi(u){let i=u;for(;i._sourceSegment;)i=i._sourceSegment;return i}function Gr(u){let i=u,r=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,r+=i._segmentIndexShift?i._segmentIndexShift:0;return r-1}function Or(u){return u.data||{}}function Xs(u){return u.resolve||{}}function $r(u){return dr(i=>{const r=u(i);return r?(0,Cn.D)(r).pipe((0,Xt.U)(()=>i)):(0,Tt.of)(i)})}class Mu extends class{shouldDetach(i){return!1}store(i,r){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,r){return i.routeConfig===r.routeConfig}}{}const _i=new v.OlP("ROUTES");class Nu{constructor(i,r,f,p){this.injector=i,this.compiler=r,this.onLoadStartListener=f,this.onLoadEndListener=p}load(i,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const p=this.loadModuleFactory(r.loadChildren).pipe((0,Xt.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(r);const A=E.create(i);return new er(Bi(A.injector.get(_i,void 0,v.XFs.Self|v.XFs.Optional)).map(Ss),A)}),kr(E=>{throw r._loader$=void 0,E}));return r._loader$=new pi(p,()=>new rn.x).pipe(Mn()),r._loader$}loadModuleFactory(i){return mr(i()).pipe((0,Nn.z)(r=>r instanceof v.YKP?(0,Tt.of)(r):(0,Cn.D)(this.compiler.compileModuleAsync(r))))}}class qi{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}function ll(u){throw u}function Xl(u,i,r){return i.parse("/")}function ec(u,i){return(0,Tt.of)(null)}const ri={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ou={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pr=(()=>{class u{constructor(r,f,p,E,A,P,G){this.rootComponentType=r,this.urlSerializer=f,this.rootContexts=p,this.location=E,this.config=G,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rn.x,this.errorHandler=ll,this.malformedUriErrorHandler=Xl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ec,afterPreactivation:ec},this.urlHandlingStrategy=new qi,this.routeReuseStrategy=new Mu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=A.get(v.h0i),this.console=A.get(v.c2e);const Le=A.get(v.R0b);this.isNgZoneEnabled=Le instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(G),this.currentUrlTree=new xe(new We([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nu(A,P,rt=>this.triggerEvent(new Ui(rt)),rt=>this.triggerEvent(new qs(rt))),this.routerState=ws(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null==(r=this.location.getState())?void 0:r.\u0275routerPageId}setupNavigations(r){const f=this.events;return r.pipe((0,ai.h)(p=>0!==p.id),(0,Xt.U)(p=>Ei(St({},p),{extractedUrl:this.urlHandlingStrategy.extract(p.rawUrl)})),dr(p=>{let E=!1,A=!1;return(0,Tt.of)(p).pipe((0,wn.b)(P=>{this.currentNavigation={id:P.id,initialUrl:P.currentRawUrl,extractedUrl:P.extractedUrl,trigger:P.source,extras:P.extras,previousNavigation:this.lastSuccessfulNavigation?Ei(St({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dr(P=>{const G=this.browserUrlTree.toString(),ue=!this.navigated||P.extractedUrl.toString()!==G||G!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ue)&&this.urlHandlingStrategy.shouldProcessUrl(P.rawUrl))return Ga(P.source)&&(this.browserUrlTree=P.extractedUrl),(0,Tt.of)(P).pipe(dr(Le=>{const rt=this.transitions.getValue();return f.next(new ki(Le.id,this.serializeUrl(Le.extractedUrl),Le.source,Le.restoredState)),rt!==this.transitions.getValue()?sr.E:Promise.resolve(Le)}),function(u,i,r,f){return dr(p=>function(u,i,r,f,p){return new Ua(u,i,r,f,p).apply()}(u,i,r,p.extractedUrl,f).pipe((0,Xt.U)(E=>Ei(St({},p),{urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wn.b)(Le=>{this.currentNavigation=Ei(St({},this.currentNavigation),{finalUrl:Le.urlAfterRedirects})}),function(u,i,r,f,p){return(0,Nn.z)(E=>function(u,i,r,f,p="emptyOnly",E="legacy"){try{const A=new Lt(u,i,r,f,p,E).recognize();return null===A?Ni(new Ha):(0,Tt.of)(A)}catch(A){return Ni(A)}}(u,i,E.urlAfterRedirects,r(E.urlAfterRedirects),f,p).pipe((0,Xt.U)(A=>Ei(St({},E),{targetSnapshot:A}))))}(this.rootComponentType,this.config,Le=>this.serializeUrl(Le),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wn.b)(Le=>{if("eager"===this.urlUpdateStrategy){if(!Le.extras.skipLocationChange){const Qe=this.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl);this.setBrowserUrl(Qe,Le)}this.browserUrlTree=Le.urlAfterRedirects}const rt=new Gs(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);f.next(rt)}));if(ue&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:rt,extractedUrl:Qe,source:ot,restoredState:vt,extras:It}=P,Gt=new ki(rt,this.serializeUrl(Qe),ot,vt);f.next(Gt);const gn=ws(Qe,this.rootComponentType).snapshot;return(0,Tt.of)(Ei(St({},P),{targetSnapshot:gn,urlAfterRedirects:Qe,extras:Ei(St({},It),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=P.rawUrl,P.resolve(null),sr.E}),$r(P=>{const{targetSnapshot:G,id:ue,extractedUrl:Fe,rawUrl:Le,extras:{skipLocationChange:rt,replaceUrl:Qe}}=P;return this.hooks.beforePreactivation(G,{navigationId:ue,appliedUrlTree:Fe,rawUrlTree:Le,skipLocationChange:!!rt,replaceUrl:!!Qe})}),(0,wn.b)(P=>{const G=new vu(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);this.triggerEvent(G)}),(0,Xt.U)(P=>Ei(St({},P),{guards:Xc(P.targetSnapshot,P.currentSnapshot,this.rootContexts)})),function(u,i){return(0,Nn.z)(r=>{const{targetSnapshot:f,currentSnapshot:p,guards:{canActivateChecks:E,canDeactivateChecks:A}}=r;return 0===A.length&&0===E.length?(0,Tt.of)(Ei(St({},r),{guardsResult:!0})):function(u,i,r,f){return(0,Cn.D)(u).pipe((0,Nn.z)(p=>function(u,i,r,f,p){const E=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!E||0===E.length)return(0,Tt.of)(!0);const A=E.map(P=>{const G=Ts(P,i,p);let ue;if(function(u){return u&&tr(u.canDeactivate)}(G))ue=mr(G.canDeactivate(u,i,r,f));else{if(!tr(G))throw new Error("Invalid CanDeactivate guard");ue=mr(G(u,i,r,f))}return ue.pipe(Mr())});return(0,Tt.of)(A).pipe(Po())}(p.component,p.route,r,i,f)),Mr(p=>!0!==p,!0))}(A,f,p,u).pipe((0,Nn.z)(P=>P&&function(u){return"boolean"==typeof u}(P)?function(u,i,r,f){return(0,Cn.D)(i).pipe(Vr(p=>Lr(function(u,i){return null!==u&&i&&i(new _u(u)),(0,Tt.of)(!0)}(p.route.parent,f),function(u,i){return null!==u&&i&&i(new Ur(u)),(0,Tt.of)(!0)}(p.route,f),function(u,i,r){const f=i[i.length-1],E=i.slice(0,i.length-1).reverse().map(A=>function(u){const i=u.routeConfig?u.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:u,guards:i}:null}(A)).filter(A=>null!==A).map(A=>fn(()=>{const P=A.guards.map(G=>{const ue=Ts(G,A.node,r);let Fe;if(function(u){return u&&tr(u.canActivateChild)}(ue))Fe=mr(ue.canActivateChild(f,u));else{if(!tr(ue))throw new Error("Invalid CanActivateChild guard");Fe=mr(ue(f,u))}return Fe.pipe(Mr())});return(0,Tt.of)(P).pipe(Po())}));return(0,Tt.of)(E).pipe(Po())}(u,p.path,r),function(u,i,r){const f=i.routeConfig?i.routeConfig.canActivate:null;if(!f||0===f.length)return(0,Tt.of)(!0);const p=f.map(E=>fn(()=>{const A=Ts(E,i,r);let P;if(function(u){return u&&tr(u.canActivate)}(A))P=mr(A.canActivate(i,u));else{if(!tr(A))throw new Error("Invalid CanActivate guard");P=mr(A(i,u))}return P.pipe(Mr())}));return(0,Tt.of)(p).pipe(Po())}(u,p.route,r))),Mr(p=>!0!==p,!0))}(f,E,u,i):(0,Tt.of)(P)),(0,Xt.U)(P=>Ei(St({},r),{guardsResult:P})))})}(this.ngModule.injector,P=>this.triggerEvent(P)),(0,wn.b)(P=>{if(mi(P.guardsResult)){const ue=Ws(`Redirecting to "${this.serializeUrl(P.guardsResult)}"`);throw ue.url=P.guardsResult,ue}const G=new $s(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot,!!P.guardsResult);this.triggerEvent(G)}),(0,ai.h)(P=>!!P.guardsResult||(this.restoreHistory(P),this.cancelNavigationTransition(P,""),!1)),$r(P=>{if(P.guards.canActivateChecks.length)return(0,Tt.of)(P).pipe((0,wn.b)(G=>{const ue=new Wo(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ue)}),dr(G=>{let ue=!1;return(0,Tt.of)(G).pipe(function(u,i){return(0,Nn.z)(r=>{const{targetSnapshot:f,guards:{canActivateChecks:p}}=r;if(!p.length)return(0,Tt.of)(r);let E=0;return(0,Cn.D)(p).pipe(Vr(A=>function(u,i,r,f){return function(u,i,r,f){const p=Object.keys(u);if(0===p.length)return(0,Tt.of)({});const E={};return(0,Cn.D)(p).pipe((0,Nn.z)(A=>function(u,i,r,f){const p=Ts(u,i,f);return mr(p.resolve?p.resolve(i,r):p(i,r))}(u[A],i,r,f).pipe((0,wn.b)(P=>{E[A]=P}))),Tr(1),(0,Nn.z)(()=>Object.keys(E).length===p.length?(0,Tt.of)(E):sr.E))}(u._resolve,u,i,f).pipe((0,Xt.U)(E=>(u._resolvedData=E,u.data=St(St({},u.data),Eu(u,r).resolve),null)))}(A.route,f,u,i)),(0,wn.b)(()=>E++),Tr(1),(0,Nn.z)(A=>E===p.length?(0,Tt.of)(r):sr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wn.b)({next:()=>ue=!0,complete:()=>{ue||(this.restoreHistory(G),this.cancelNavigationTransition(G,"At least one route resolver didn't emit any value."))}}))}),(0,wn.b)(G=>{const ue=new zs(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ue)}))}),$r(P=>{const{targetSnapshot:G,id:ue,extractedUrl:Fe,rawUrl:Le,extras:{skipLocationChange:rt,replaceUrl:Qe}}=P;return this.hooks.afterPreactivation(G,{navigationId:ue,appliedUrlTree:Fe,rawUrlTree:Le,skipLocationChange:!!rt,replaceUrl:!!Qe})}),(0,Xt.U)(P=>{const G=function(u,i,r){const f=Mo(u,i._root,r?r._root:void 0);return new Br(f,i)}(this.routeReuseStrategy,P.targetSnapshot,P.currentRouterState);return Ei(St({},P),{targetRouterState:G})}),(0,wn.b)(P=>{this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects)}),((u,i,r)=>(0,Xt.U)(f=>(new en(i,f.targetRouterState,f.currentRouterState,r).activate(u),f)))(this.rootContexts,this.routeReuseStrategy,P=>this.triggerEvent(P)),(0,wn.b)({next(){E=!0},complete(){E=!0}}),function(u){return(0,ar.e)((i,r)=>{try{i.subscribe(r)}finally{r.add(u)}})}(()=>{var P;E||A||this.cancelNavigationTransition(p,`Navigation ID ${p.id} is not equal to the current navigation id ${this.navigationId}`),(null==(P=this.currentNavigation)?void 0:P.id)===p.id&&(this.currentNavigation=null)}),kr(P=>{if(A=!0,function(u){return u&&u[gi]}(P)){const G=mi(P.url);G||(this.navigated=!0,this.restoreHistory(p,!0));const ue=new Co(p.id,this.serializeUrl(p.extractedUrl),P.message);f.next(ue),G?setTimeout(()=>{const Fe=this.urlHandlingStrategy.merge(P.url,this.rawUrlTree),Le={skipLocationChange:p.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ga(p.source)};this.scheduleNavigation(Fe,"imperative",null,Le,{resolve:p.resolve,reject:p.reject,promise:p.promise})},0):p.resolve(!1)}else{this.restoreHistory(p,!0);const G=new Si(p.id,this.serializeUrl(p.extractedUrl),P);f.next(G);try{p.resolve(this.errorHandler(P))}catch(ue){p.reject(ue)}}return sr.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}setTransition(r){this.transitions.next(St(St({},this.transitions.value),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const f="popstate"===r.type?"popstate":"hashchange";"popstate"===f&&setTimeout(()=>{var P;const p={replaceUrl:!0},E=(null==(P=r.state)?void 0:P.navigationId)?r.state:null;if(E){const G=St({},E);delete G.navigationId,delete G.\u0275routerPageId,0!==Object.keys(G).length&&(p.state=G)}const A=this.parseUrl(r.url);this.scheduleNavigation(A,f,E,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){sl(r),this.config=r.map(Ss),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,f={}){const{relativeTo:p,queryParams:E,fragment:A,queryParamsHandling:P,preserveFragment:G}=f,ue=p||this.routerState.root,Fe=G?this.currentUrlTree.fragment:A;let Le=null;switch(P){case"merge":Le=St(St({},this.currentUrlTree.queryParams),E);break;case"preserve":Le=this.currentUrlTree.queryParams;break;default:Le=E||null}return null!==Le&&(Le=this.removeEmptyProps(Le)),function(u,i,r,f,p){if(0===r.length)return No(i.root,i.root,i,f,p);const E=function(u){if("string"==typeof u[0]&&1===u.length&&"/"===u[0])return new so(!0,0,u);let i=0,r=!1;const f=u.reduce((p,E,A)=>{if("object"==typeof E&&null!=E){if(E.outlets){const P={};return Wn(E.outlets,(G,ue)=>{P[ue]="string"==typeof G?G.split("/"):G}),[...p,{outlets:P}]}if(E.segmentPath)return[...p,E.segmentPath]}return"string"!=typeof E?[...p,E]:0===A?(E.split("/").forEach((P,G)=>{0==G&&"."===P||(0==G&&""===P?r=!0:".."===P?i++:""!=P&&p.push(P))}),p):[...p,E]},[]);return new so(r,i,f)}(r);if(E.toRoot())return No(i.root,new We([],{}),i,f,p);const A=function(u,i,r){if(u.isAbsolute)return new ao(i.root,!0,0);if(-1===r.snapshot._lastPathIndex){const E=r.snapshot._urlSegment;return new ao(E,E===i.root,0)}const f=Cr(u.commands[0])?0:1;return function(u,i,r){let f=u,p=i,E=r;for(;E>p;){if(E-=p,f=f.parent,!f)throw new Error("Invalid number of '../'");p=f.segments.length}return new ao(f,!1,p-E)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+f,u.numberOfDoubleDots)}(E,i,u),P=A.processChildren?m(A.segmentGroup,A.index,E.commands):Ti(A.segmentGroup,A.index,E.commands);return No(A.segmentGroup,P,i,f,p)}(ue,this.currentUrlTree,r,Le,null!=Fe?Fe:null)}navigateByUrl(r,f={skipLocationChange:!1}){const p=mi(r)?r:this.parseUrl(r),E=this.urlHandlingStrategy.merge(p,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,f)}navigate(r,f={skipLocationChange:!1}){return function(u){for(let i=0;i<u.length;i++){const r=u[i];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${i}`)}}(r),this.navigateByUrl(this.createUrlTree(r,f),f)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let f;try{f=this.urlSerializer.parse(r)}catch(p){f=this.malformedUriErrorHandler(p,this.urlSerializer,r)}return f}isActive(r,f){let p;if(p=!0===f?St({},ri):!1===f?St({},Ou):f,mi(r))return an(this.currentUrlTree,r,p);const E=this.parseUrl(r);return an(this.currentUrlTree,E,p)}removeEmptyProps(r){return Object.keys(r).reduce((f,p)=>{const E=r[p];return null!=E&&(f[p]=E),f},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Vi(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,f,p,E,A){var Gt,gn,fr;if(this.disposed)return Promise.resolve(!1);const P=this.transitions.value,G=Ga(f)&&P&&!Ga(P.source),ue=P.rawUrl.toString()===r.toString(),Fe=P.id===(null==(Gt=this.currentNavigation)?void 0:Gt.id);if(G&&ue&&Fe)return Promise.resolve(!0);let rt,Qe,ot;A?(rt=A.resolve,Qe=A.reject,ot=A.promise):ot=new Promise((Fn,pu)=>{rt=Fn,Qe=pu});const vt=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(p=this.location.getState()),It=p&&p.\u0275routerPageId?p.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?null!=(gn=this.browserPageId)?gn:0:(null!=(fr=this.browserPageId)?fr:0)+1):It=0,this.setTransition({id:vt,targetPageId:It,source:f,restoredState:p,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:E,resolve:rt,reject:Qe,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(Fn=>Promise.reject(Fn))}setBrowserUrl(r,f){const p=this.urlSerializer.serialize(r),E=St(St({},f.extras.state),this.generateNgRouterState(f.id,f.targetPageId));this.location.isCurrentPathEqualTo(p)||f.extras.replaceUrl?this.location.replaceState(p,"",E):this.location.go(p,"",E)}restoreHistory(r,f=!1){var p,E;if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(p=this.currentNavigation)?void 0:p.finalUrl)||0===A?this.currentUrlTree===(null==(E=this.currentNavigation)?void 0:E.finalUrl)&&0===A&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(A)}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,f){const p=new Co(r.id,this.serializeUrl(r.extractedUrl),f);this.triggerEvent(p),r.resolve(!1)}generateNgRouterState(r,f){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:f}:{navigationId:r}}}return u.\u0275fac=function(r){v.$Z()},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();function Ga(u){return"imperative"!==u}class fl{}class Pu{preload(i,r){return(0,Tt.of)(null)}}let ta=(()=>{class u{constructor(r,f,p,E){this.router=r,this.injector=p,this.preloadingStrategy=E,this.loader=new Nu(p,f,G=>r.triggerEvent(new Ui(G)),G=>r.triggerEvent(new qs(G)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ai.h)(r=>r instanceof Vi),Vr(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(v.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,f){const p=[];for(const E of f)if(E.loadChildren&&!E.canLoad&&E._loadedConfig){const A=E._loadedConfig;p.push(this.processRoutes(A.module,A.routes))}else E.loadChildren&&!E.canLoad?p.push(this.preloadConfig(r,E)):E.children&&p.push(this.processRoutes(r,E.children));return(0,Cn.D)(p).pipe((0,Sn.J)(),(0,Xt.U)(E=>{}))}preloadConfig(r,f){return this.preloadingStrategy.preload(f,()=>(f._loadedConfig?(0,Tt.of)(f._loadedConfig):this.loader.load(r.injector,f)).pipe((0,Nn.z)(E=>(f._loadedConfig=E,this.processRoutes(E.module,E.routes)))))}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(Pr),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(fl))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),rs=(()=>{class u{constructor(r,f,p={}){this.router=r,this.viewportScroller=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Vi&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ao&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,f){this.router.triggerEvent(new Ao(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return u.\u0275fac=function(r){v.$Z()},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const Lo=new v.OlP("ROUTER_CONFIGURATION"),ic=new v.OlP("ROUTER_FORROOT_GUARD"),th=[k.Ye,{provide:jn,useClass:Ht},{provide:Pr,useFactory:function(u,i,r,f,p,E,A={},P,G){const ue=new Pr(null,u,i,r,f,p,Bi(E));return P&&(ue.urlHandlingStrategy=P),G&&(ue.routeReuseStrategy=G),function(u,i){u.errorHandler&&(i.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(i.malformedUriErrorHandler=u.malformedUriErrorHandler),u.onSameUrlNavigation&&(i.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.relativeLinkResolution&&(i.relativeLinkResolution=u.relativeLinkResolution),u.urlUpdateStrategy&&(i.urlUpdateStrategy=u.urlUpdateStrategy),u.canceledNavigationResolution&&(i.canceledNavigationResolution=u.canceledNavigationResolution)}(A,ue),A.enableTracing&&ue.events.subscribe(Fe=>{var Le,rt;null==(Le=console.group)||Le.call(console,`Router Event: ${Fe.constructor.name}`),console.log(Fe.toString()),console.log(Fe),null==(rt=console.groupEnd)||rt.call(console)}),ue},deps:[jn,Ra,k.Ye,v.zs3,v.Sil,_i,Lo,[class{},new v.FiY],[class{},new v.FiY]]},Ra,{provide:Es,useFactory:function(u){return u.routerState.root},deps:[Pr]},ta,Pu,class{preload(i,r){return r().pipe(kr(()=>(0,Tt.of)(null)))}},{provide:Lo,useValue:{enableTracing:!1}}];function nh(){return new v.PXZ("Router",Pr)}let oc=(()=>{class u{constructor(r,f){}static forRoot(r,f){return{ngModule:u,providers:[th,of(r),{provide:ic,useFactory:rf,deps:[[Pr,new v.FiY,new v.tp0]]},{provide:Lo,useValue:f||{}},{provide:k.S$,useFactory:Ru,deps:[k.lw,[new v.tBr(k.mr),new v.FiY],Lo]},{provide:rs,useFactory:nf,deps:[Pr,k.EM,Lo]},{provide:fl,useExisting:f&&f.preloadingStrategy?f.preloadingStrategy:Pu},{provide:v.PXZ,multi:!0,useFactory:nh},[ko,{provide:v.ip1,multi:!0,useFactory:za,deps:[ko]},{provide:qa,useFactory:dl,deps:[ko]},{provide:v.tb,multi:!0,useExisting:qa}]]}}static forChild(r){return{ngModule:u,providers:[of(r)]}}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(ic,8),v.LFG(Pr,8))},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({}),u})();function nf(u,i,r){return r.scrollOffset&&i.setOffset(r.scrollOffset),new rs(u,i,r)}function Ru(u,i,r={}){return r.useHash?new k.Do(u,i):new k.b0(u,i)}function rf(u){return"guarded"}function of(u){return[{provide:v.deG,multi:!0,useValue:u},{provide:_i,multi:!0,useValue:u}]}let ko=(()=>{class u{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rn.x}appInitializer(){return this.injector.get(k.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let f=null;const p=new Promise(P=>f=P),E=this.injector.get(Pr),A=this.injector.get(Lo);return"disabled"===A.initialNavigation?(E.setUpLocationChangeListener(),f(!0)):"enabled"===A.initialNavigation||"enabledBlocking"===A.initialNavigation?(E.hooks.afterPreactivation=()=>this.initNavigation?(0,Tt.of)(null):(this.initNavigation=!0,f(!0),this.resultOfPreactivationDone),E.initialNavigation()):f(!0),p})}bootstrapListener(r){const f=this.injector.get(Lo),p=this.injector.get(ta),E=this.injector.get(rs),A=this.injector.get(Pr),P=this.injector.get(v.z2F);r===P.components[0]&&(("enabledNonBlocking"===f.initialNavigation||void 0===f.initialNavigation)&&A.initialNavigation(),p.setUpPreloading(),E.init(),A.resetRootComponentType(P.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(v.zs3))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();function za(u){return u.appInitializer.bind(u)}function dl(u){return u.bootstrapListener.bind(u)}const qa=new v.OlP("Router Initializer"),is=[];let pl=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({imports:[[oc.forRoot(is)],oc]}),u})(),ac=(()=>{class u{constructor(r,f){this._renderer=r,this._elementRef=f,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(r,f){this._renderer.setProperty(this._elementRef.nativeElement,r,f)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(v.Qsj),v.Y36(v.SBq))},u.\u0275dir=v.lG2({type:u}),u})(),Ns=(()=>{class u extends ac{}return u.\u0275fac=function(){let i;return function(f){return(i||(i=v.n5z(u)))(f||u)}}(),u.\u0275dir=v.lG2({type:u,features:[v.qOj]}),u})();const Wi=new v.OlP("NgValueAccessor"),af={provide:Wi,useExisting:(0,v.Gpc)(()=>os),multi:!0},na=new v.OlP("CompositionEventMode");let os=(()=>{class u extends ac{constructor(r,f,p){super(r,f),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const u=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(u.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(na,8))},u.\u0275dir=v.lG2({type:u,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,f){1&r&&v.NdJ("input",function(E){return f._handleInput(E.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(E){return f._compositionEnd(E.target.value)})},features:[v._Bn([af]),v.qOj]}),u})();function Os(u){return null==u||0===u.length}function rh(u){return null!=u&&"number"==typeof u.length}const qr=new v.OlP("NgValidators"),Ps=new v.OlP("NgAsyncValidators"),uf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class li{static min(i){return u=i,i=>{if(Os(i.value)||Os(u))return null;const r=parseFloat(i.value);return!isNaN(r)&&r<u?{min:{min:u,actual:i.value}}:null};var u}static max(i){return u=i,i=>{if(Os(i.value)||Os(u))return null;const r=parseFloat(i.value);return!isNaN(r)&&r>u?{max:{max:u,actual:i.value}}:null};var u}static required(i){return Os(i.value)?{required:!0}:null}static requiredTrue(i){return!0===i.value?null:{required:!0}}static email(i){return Os((u=i).value)||uf.test(u.value)?null:{email:!0};var u}static minLength(i){return u=i,i=>Os(i.value)||!rh(i.value)?null:i.value.length<u?{minlength:{requiredLength:u,actualLength:i.value.length}}:null;var u}static maxLength(i){return u=i,i=>rh(i.value)&&i.value.length>u?{maxlength:{requiredLength:u,actualLength:i.value.length}}:null;var u}static pattern(i){return function(u){if(!u)return Vo;let i,r;return"string"==typeof u?(r="","^"!==u.charAt(0)&&(r+="^"),r+=u,"$"!==u.charAt(u.length-1)&&(r+="$"),i=new RegExp(r)):(r=u.toString(),i=u),f=>{if(Os(f.value))return null;const p=f.value;return i.test(p)?null:{pattern:{requiredPattern:r,actualValue:p}}}}(i)}static nullValidator(i){return null}static compose(i){return _l(i)}static composeAsync(i){return ia(i)}}function Vo(u){return null}function ml(u){return null!=u}function yl(u){const i=(0,v.QGY)(u)?(0,Cn.D)(u):u;return(0,v.CqO)(i),i}function vl(u){let i={};return u.forEach(r=>{i=null!=r?St(St({},i),r):i}),0===Object.keys(i).length?null:i}function lc(u,i){return i.map(r=>r(u))}function hf(u){return u.map(i=>function(u){return!u.validate}(i)?i:r=>i.validate(r))}function _l(u){if(!u)return null;const i=u.filter(ml);return 0==i.length?null:function(r){return vl(lc(r,i))}}function Lu(u){return null!=u?_l(hf(u)):null}function ia(u){if(!u)return null;const i=u.filter(ml);return 0==i.length?null:function(r){return function(...u){const i=(0,Un.jO)(u),{args:r,keys:f}=qo(u),p=new Fr.y(E=>{const{length:A}=r;if(!A)return void E.complete();const P=new Array(A);let G=A,ue=A;for(let Fe=0;Fe<A;Fe++){let Le=!1;(0,wt.Xf)(r[Fe]).subscribe(new Xe.Q(E,rt=>{Le||(Le=!0,ue--),P[Fe]=rt},()=>G--,void 0,()=>{(!G||!Le)&&(ue||E.next(f?Jn(f,P):P),E.complete())}))}});return i?p.pipe(Ci(i)):p}(lc(r,i).map(yl)).pipe((0,Xt.U)(vl))}}function wl(u){return null!=u?ia(hf(u)):null}function fo(u,i){return null===u?[i]:Array.isArray(u)?[...u,i]:[u,i]}function Qa(u){return u._rawValidators}function El(u){return u._rawAsyncValidators}function Rs(u){return u?Array.isArray(u)?u:[u]:[]}function cc(u,i){return Array.isArray(u)?u.includes(i):u===i}function oh(u,i){const r=Rs(i);return Rs(u).forEach(p=>{cc(r,p)||r.push(p)}),r}function sh(u,i){return Rs(i).filter(r=>!cc(u,r))}class ah{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Lu(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=wl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,r){return!!this.control&&this.control.hasError(i,r)}getError(i,r){return this.control?this.control.getError(i,r):null}}class ii extends ah{get formDirective(){return null}get path(){return null}}class as extends ah{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fc{constructor(i){this._cd=i}is(i){var r,f,p;return"submitted"===i?!!(null==(r=this._cd)?void 0:r.submitted):!!(null==(p=null==(f=this._cd)?void 0:f.control)?void 0:p[i])}}let uh=(()=>{class u extends fc{constructor(r){super(r)}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(as,2))},u.\u0275dir=v.lG2({type:u,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,f){2&r&&v.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))},features:[v.qOj]}),u})(),bl=(()=>{class u extends fc{constructor(r){super(r)}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(ii,10))},u.\u0275dir=v.lG2({type:u,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,f){2&r&&v.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))("ng-submitted",f.is("submitted"))},features:[v.qOj]}),u})();function Dl(u,i){dc(u,i),i.valueAccessor.writeValue(u.value),function(u,i){i.valueAccessor.registerOnChange(r=>{u._pendingValue=r,u._pendingChange=!0,u._pendingDirty=!0,"change"===u.updateOn&&ho(u,i)})}(u,i),function(u,i){const r=(f,p)=>{i.valueAccessor.writeValue(f),p&&i.viewToModelUpdate(f)};u.registerOnChange(r),i._registerOnDestroy(()=>{u._unregisterOnChange(r)})}(u,i),function(u,i){i.valueAccessor.registerOnTouched(()=>{u._pendingTouched=!0,"blur"===u.updateOn&&u._pendingChange&&ho(u,i),"submit"!==u.updateOn&&u.markAsTouched()})}(u,i),function(u,i){if(i.valueAccessor.setDisabledState){const r=f=>{i.valueAccessor.setDisabledState(f)};u.registerOnDisabledChange(r),i._registerOnDestroy(()=>{u._unregisterOnDisabledChange(r)})}}(u,i)}function Vu(u,i,r=!0){const f=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(f),i.valueAccessor.registerOnTouched(f)),aa(u,i),u&&(i._invokeOnDestroyCallbacks(),u._registerOnCollectionChange(()=>{}))}function Za(u,i){u.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(i)})}function dc(u,i){const r=Qa(u);null!==i.validator?u.setValidators(fo(r,i.validator)):"function"==typeof r&&u.setValidators([r]);const f=El(u);null!==i.asyncValidator?u.setAsyncValidators(fo(f,i.asyncValidator)):"function"==typeof f&&u.setAsyncValidators([f]);const p=()=>u.updateValueAndValidity();Za(i._rawValidators,p),Za(i._rawAsyncValidators,p)}function aa(u,i){let r=!1;if(null!==u){if(null!==i.validator){const p=Qa(u);if(Array.isArray(p)&&p.length>0){const E=p.filter(A=>A!==i.validator);E.length!==p.length&&(r=!0,u.setValidators(E))}}if(null!==i.asyncValidator){const p=El(u);if(Array.isArray(p)&&p.length>0){const E=p.filter(A=>A!==i.asyncValidator);E.length!==p.length&&(r=!0,u.setAsyncValidators(E))}}}const f=()=>{};return Za(i._rawValidators,f),Za(i._rawAsyncValidators,f),r}function ho(u,i){u._pendingDirty&&u.markAsDirty(),u.setValue(u._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(u._pendingValue),u._pendingChange=!1}function ua(u,i){const r=u.indexOf(i);r>-1&&u.splice(r,1)}const us="VALID",Tl="INVALID",Xa="PENDING",ju="DISABLED";function Wr(u){return(Ar(u)?u.validators:u)||null}function tu(u){return Array.isArray(u)?Lu(u):u||null}function nu(u,i){return(Ar(i)?i.asyncValidators:u)||null}function Bu(u){return Array.isArray(u)?wl(u):u||null}function Ar(u){return null!=u&&!Array.isArray(u)&&"object"==typeof u}class Pi{constructor(i,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=r,this._composedValidatorFn=tu(this._rawValidators),this._composedAsyncValidatorFn=Bu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===us}get invalid(){return this.status===Tl}get pending(){return this.status==Xa}get disabled(){return this.status===ju}get enabled(){return this.status!==ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=tu(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=Bu(i)}addValidators(i){this.setValidators(oh(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(oh(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(sh(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(sh(i,this._rawAsyncValidators))}hasValidator(i){return cc(this._rawValidators,i)}hasAsyncValidator(i){return cc(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Xa,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const r=this._parentMarkedDirty(i.onlySelf);this.status=ju,this.errors=null,this._forEachChild(f=>{f.disable(Ei(St({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ei(St({},i),{skipPristineCheck:r})),this._onDisabledChange.forEach(f=>f(!0))}enable(i={}){const r=this._parentMarkedDirty(i.onlySelf);this.status=us,this._forEachChild(f=>{f.enable(Ei(St({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Ei(St({},i),{skipPristineCheck:r})),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===us||this.status===Xa)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ju:us}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Xa,this._hasOwnPendingAsyncValidator=!0;const r=yl(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,r={}){this.errors=i,this._updateControlsErrors(!1!==r.emitEvent)}get(i){return function(u,i,r){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let f=u;return i.forEach(p=>{f=f instanceof ru?f.controls.hasOwnProperty(p)?f.controls[p]:null:f instanceof Hu&&f.at(p)||null}),f}(this,i)}getError(i,r){const f=r?this.get(r):this;return f&&f.errors?f.errors[i]:null}hasError(i,r){return!!this.getError(i,r)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?ju:this.errors?Tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xa)?Xa:this._anyControlsHaveStatus(Tl)?Tl:us}_anyControlsHaveStatus(i){return this._anyControls(r=>r.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ar(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ls extends Pi{constructor(i=null,r,f){super(Wr(r),nu(f,r)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,r={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(i,r={}){this.setValue(i,r)}reset(i=null,r={}){this._applyFormState(i),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){ua(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){ua(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class ru extends Pi{constructor(i,r,f){super(Wr(r),nu(f,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,r){return this.controls[i]?this.controls[i]:(this.controls[i]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(i,r,f={}){this.registerControl(i,r),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(i,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(i,r,f={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],r&&this.registerControl(i,r),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,r={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(f=>{this._throwIfControlMissing(f),this.controls[f].setValue(i[f],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){null!=i&&(Object.keys(i).forEach(f=>{this.controls[f]&&this.controls[f].patchValue(i[f],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i={},r={}){this._forEachChild((f,p)=>{f.reset(i[p],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(i,r,f)=>(i[f]=r instanceof ls?r.value:r.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(r,f)=>!!f._syncPendingControls()||r);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(r=>{const f=this.controls[r];f&&i(f,r)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const r of Object.keys(this.controls)){const f=this.controls[r];if(this.contains(r)&&i(f))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,r,f)=>((r.enabled||this.disabled)&&(i[f]=r.value),i))}_reduceChildren(i,r){let f=i;return this._forEachChild((p,E)=>{f=r(f,p,E)}),f}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((r,f)=>{if(void 0===i[f])throw new Error(`Must supply a value for form control with name: '${f}'.`)})}}class Hu extends Pi{constructor(i,r,f){super(Wr(r),nu(f,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,r={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(i,r,f={}){this.controls.splice(i,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(i,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(i,r,f={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,r={}){this._checkAllValuesPresent(i),i.forEach((f,p)=>{this._throwIfControlMissing(p),this.at(p).setValue(f,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){null!=i&&(i.forEach((f,p)=>{this.at(p)&&this.at(p).patchValue(f,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i=[],r={}){this._forEachChild((f,p)=>{f.reset(i[p],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(i=>i instanceof ls?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((r,f)=>!!f._syncPendingControls()||r,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((r,f)=>{i(r,f)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(r=>r.enabled&&i(r))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((r,f)=>{if(void 0===i[f])throw new Error(`Must supply a value for form control at index: ${f}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}let wc=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275dir=v.lG2({type:u,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),u})(),yf=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({}),u})();const Nl=new v.OlP("NgModelWithFormControlWarning"),$u={provide:ii,useExisting:(0,v.Gpc)(()=>su)};let su=(()=>{class u extends ii{constructor(r,f){super(),this.validators=r,this.asyncValidators=f,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(r),this._setAsyncValidators(f)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(aa(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const f=this.form.get(r.path);return Dl(f,r),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),f}getControl(r){return this.form.get(r.path)}removeControl(r){Vu(r.control||null,r,!1),ua(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,f){this.form.get(r.path).setValue(f)}onSubmit(r){return this.submitted=!0,function(u,i){u._syncPendingControls(),i.forEach(r=>{const f=r.control;"submit"===f.updateOn&&f._pendingChange&&(r.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const f=r.control,p=this.form.get(r.path);f!==p&&(Vu(f||null,r),p instanceof ls&&(Dl(p,r),r.control=p))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const f=this.form.get(r.path);(function(u,i){dc(u,i)})(f,r),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const f=this.form.get(r.path);f&&function(u,i){return aa(u,i)}(f,r)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dc(this.form,this),this._oldForm&&aa(this._oldForm,this)}_checkFormPresent(){}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(qr,10),v.Y36(Ps,10))},u.\u0275dir=v.lG2({type:u,selectors:[["","formGroup",""]],hostBindings:function(r,f){1&r&&v.NdJ("submit",function(E){return f.onSubmit(E)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([$u]),v.qOj,v.TTD]}),u})();const jd={provide:as,useExisting:(0,v.Gpc)(()=>xl)};let xl=(()=>{class u extends as{constructor(r,f,p,E,A){super(),this._ngModelWarningConfig=A,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(f),this._setAsyncValidators(p),this.valueAccessor=function(u,i){if(!i)return null;let r,f,p;return Array.isArray(i),i.forEach(E=>{E.constructor===os?r=E:function(u){return Object.getPrototypeOf(u.constructor)===Ns}(E)?f=E:p=E}),p||f||r||null}(0,E)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(u,i){if(!u.hasOwnProperty("model"))return!1;const r=u.model;return!!r.isFirstChange()||!Object.is(i,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(u,i){return[...i.path,u]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return u._ngModelWarningSentOnce=!1,u.\u0275fac=function(r){return new(r||u)(v.Y36(ii,13),v.Y36(qr,10),v.Y36(Ps,10),v.Y36(Wi,10),v.Y36(Nl,8))},u.\u0275dir=v.lG2({type:u,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([jd]),v.qOj,v.TTD]}),u})();const gh={provide:Wi,useExisting:(0,v.Gpc)(()=>s),multi:!0};function a(u,i){return null==u?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${u}: ${i}`.slice(0,50))}let s=(()=>{class u extends Ns{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const f=this._getOptionId(r);null==f&&this.setProperty("selectedIndex",-1);const p=a(f,r);this.setProperty("value",p)}registerOnChange(r){this.onChange=f=>{this.value=this._getOptionValue(f),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const f of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(f),r))return f;return null}_getOptionValue(r){const f=function(u){return u.split(":")[0]}(r);return this._optionMap.has(f)?this._optionMap.get(f):r}}return u.\u0275fac=function(){let i;return function(f){return(i||(i=v.n5z(u)))(f||u)}}(),u.\u0275dir=v.lG2({type:u,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,f){1&r&&v.NdJ("change",function(E){return f.onChange(E.target.value)})("blur",function(){return f.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([gh]),v.qOj]}),u})(),c=(()=>{class u{constructor(r,f,p){this._element=r,this._renderer=f,this._select=p,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(a(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(s,9))},u.\u0275dir=v.lG2({type:u,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),u})();const d={provide:Wi,useExisting:(0,v.Gpc)(()=>N),multi:!0};function y(u,i){return null==u?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${u}: ${i}`.slice(0,50))}let N=(()=>{class u extends Ns{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let f;if(this.value=r,Array.isArray(r)){const p=r.map(E=>this._getOptionId(E));f=(E,A)=>{E._setSelected(p.indexOf(A.toString())>-1)}}else f=(p,E)=>{p._setSelected(!1)};this._optionMap.forEach(f)}registerOnChange(r){this.onChange=f=>{const p=[],E=f.selectedOptions;if(void 0!==E){const A=E;for(let P=0;P<A.length;P++){const ue=this._getOptionValue(A[P].value);p.push(ue)}}else{const A=f.options;for(let P=0;P<A.length;P++){const G=A[P];if(G.selected){const ue=this._getOptionValue(G.value);p.push(ue)}}}this.value=p,r(p)}}_registerOption(r){const f=(this._idCounter++).toString();return this._optionMap.set(f,r),f}_getOptionId(r){for(const f of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(f)._value,r))return f;return null}_getOptionValue(r){const f=function(u){return u.split(":")[0]}(r);return this._optionMap.has(f)?this._optionMap.get(f)._value:r}}return u.\u0275fac=function(){let i;return function(f){return(i||(i=v.n5z(u)))(f||u)}}(),u.\u0275dir=v.lG2({type:u,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,f){1&r&&v.NdJ("change",function(E){return f.onChange(E.target)})("blur",function(){return f.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([d]),v.qOj]}),u})(),B=(()=>{class u{constructor(r,f,p){this._element=r,this._renderer=f,this._select=p,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(y(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(y(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(N,9))},u.\u0275dir=v.lG2({type:u,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),u})(),Ri=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({imports:[[yf]]}),u})(),cs=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({imports:[Ri]}),u})(),Bd=(()=>{class u{static withConfig(r){return{ngModule:u,providers:[{provide:Nl,useValue:r.warnOnNgModelWithFormControl}]}}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({imports:[Ri]}),u})(),gg=(()=>{class u{group(r,f=null){const p=this._reduceControls(r);let P,E=null,A=null;return null!=f&&(function(u){return void 0!==u.asyncValidators||void 0!==u.validators||void 0!==u.updateOn}(f)?(E=null!=f.validators?f.validators:null,A=null!=f.asyncValidators?f.asyncValidators:null,P=null!=f.updateOn?f.updateOn:void 0):(E=null!=f.validator?f.validator:null,A=null!=f.asyncValidator?f.asyncValidator:null)),new ru(p,{asyncValidators:A,updateOn:P,validators:E})}control(r,f,p){return new ls(r,f,p)}array(r,f,p){const E=r.map(A=>this._createControl(A));return new Hu(E,f,p)}_reduceControls(r){const f={};return Object.keys(r).forEach(p=>{f[p]=this._createControl(r[p])}),f}_createControl(r){return r instanceof ls||r instanceof ru||r instanceof Hu?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:Bd}),u})();var mh=K(7126);let Hd=(()=>{class u{constructor(r){this.angularFirestore=r}getUserDoc(r){return this.angularFirestore.collection("student-collection").doc(r).valueChanges()}getUserList(){return this.angularFirestore.collection("student-collection").snapshotChanges()}createStudent(r){return new Promise((f,p)=>{this.angularFirestore.collection("student-collection").add(r).then(E=>{console.log(E)},E=>p(E))})}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(mh.AngularFirestore))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function yh(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Full Name is required"),v.qZA())}function Gd(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Minimum Length is 6"),v.qZA())}function wf(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Maximum Length is 20"),v.qZA())}function Ef(u,i){if(1&u&&(v.TgZ(0,"div",28),v.YNc(1,yh,2,0,"div",29),v.YNc(2,Gd,2,0,"div",29),v.YNc(3,wf,2,0,"div",29),v.qZA()),2&u){const r=v.oxw();v.xp6(1),v.Q6J("ngIf",r.f.fullname.errors.required),v.xp6(1),v.Q6J("ngIf",r.f.fullname.errors.minlength),v.xp6(1),v.Q6J("ngIf",r.f.fullname.errors.maxlength)}}function $d(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Father Name is required"),v.qZA())}function vh(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Minimum Length is 6"),v.qZA())}function zd(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Maximum Length is 20"),v.qZA())}function _h(u,i){if(1&u&&(v.TgZ(0,"div",28),v.YNc(1,$d,2,0,"div",29),v.YNc(2,vh,2,0,"div",29),v.YNc(3,zd,2,0,"div",29),v.qZA()),2&u){const r=v.oxw();v.xp6(1),v.Q6J("ngIf",r.f.fname.errors.required),v.xp6(1),v.Q6J("ngIf",r.f.fname.errors.minlength),v.xp6(1),v.Q6J("ngIf",r.f.fname.errors.maxlength)}}function Tc(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Phone is required"),v.qZA())}function yg(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Enter Phone in right pattern"),v.qZA())}function qd(u,i){1&u&&(v.TgZ(0,"div"),v._uU(1,"Minimum Length is 10"),v.qZA())}function vg(u,i){if(1&u&&(v.TgZ(0,"div",28),v.YNc(1,Tc,2,0,"div",29),v.YNc(2,yg,2,0,"div",29),v.YNc(3,qd,2,0,"div",29),v.qZA()),2&u){const r=v.oxw();v.xp6(1),v.Q6J("ngIf",r.f.phone.errors.required),v.xp6(1),v.Q6J("ngIf",r.f.phone.errors.pattern),v.xp6(1),v.Q6J("ngIf",r.f.phone.errors.minlength)}}const wh=function(u){return{"is-invalid":u}};let Wd=(()=>{class u{constructor(r,f){this.formBuilder=r,this._user=f,this.title="my-app",this.submitted=!1,this.user=[{fullname:"",fname:"",phone:"",size:" "}]}ngOnInit(){this.form=this.formBuilder.group({fullname:[null,[li.required,li.minLength(6),li.maxLength(20)]],fname:[null,[li.required,li.minLength(6),li.maxLength(20)]],phone:[null,[li.required,li.minLength(10),li.pattern(/[0-9]/)]],size:[null,[li.required]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,!this.form.invalid&&(alert("Form have been Submitted successfully"),this._user.createStudent(this.form.value),this.submitted=!1,this.form.reset())}}return u.\u0275fac=function(r){return new(r||u)(v.Y36(gg),v.Y36(Hd))},u.\u0275cmp=v.Xpm({type:u,selectors:[["app-root"]],decls:53,vars:13,consts:[[1,"pt-5","pb-5","mt-0","align-items-center","d-flex","bg-dark",2,"min-height","100vh","background-size","cover","background-image","url()"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center","d-flex-row","text-center","h-100"],[1,"col-12","col-md-4","col-lg-3","h-50"],[1,"card","shadow"],[1,"card-body","mx-auto"],[1,"card-title","mt-2","text-center"],[1,"text-center"],["href","",1,"btn","btn-block","btn-danger"],[1,"fab","fa-instagram","mr-2"],["href","",1,"btn","btn-block","btn-primary"],[1,"fab","fa-facebook-f","mr-2"],[1,"text-muted","font-weight-bold"],[3,"formGroup","ngSubmit"],[1,"form-group","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["name","","placeholder","Full Name","type","text","formControlName","fullname",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"fa","fa-user-tie"],["name","","placeholder","Father Name","type","text","formControlName","fname",1,"form-control",3,"ngClass"],[1,"fa","fa-phone"],["placeholder","Phone Number","type","text","formControlName","phone",1,"form-control",3,"ngClass"],[1,"fas","fa-tshirt"],["formControlName","size",1,"form-control"],[1,"form-group"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,f){1&r&&(v.TgZ(0,"section",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v.TgZ(4,"div",4),v.TgZ(5,"div",5),v.TgZ(6,"h4",6),v._uU(7,"SHAH PREMIER LEAGUE"),v.qZA(),v.TgZ(8,"p",7),v._uU(9,"Register Now"),v.qZA(),v.TgZ(10,"p"),v.TgZ(11,"a",8),v._UZ(12,"i",9),v._uU(13,"Instagram"),v.qZA(),v.TgZ(14,"a",10),v._UZ(15,"i",11),v._uU(16,"Facebook"),v.qZA(),v.qZA(),v._UZ(17,"p",12),v.TgZ(18,"form",13),v.NdJ("ngSubmit",function(){return f.onSubmit()}),v.TgZ(19,"div",14),v.TgZ(20,"div",15),v.TgZ(21,"span",16),v._UZ(22,"i",17),v.qZA(),v.qZA(),v._UZ(23,"input",18),v.YNc(24,Ef,4,3,"div",19),v.qZA(),v.TgZ(25,"div",14),v.TgZ(26,"div",15),v.TgZ(27,"span",16),v._UZ(28,"i",20),v.qZA(),v.qZA(),v._UZ(29,"input",21),v.YNc(30,_h,4,3,"div",19),v.qZA(),v.TgZ(31,"div",14),v.TgZ(32,"div",15),v.TgZ(33,"span",16),v._UZ(34,"i",22),v.qZA(),v.qZA(),v._UZ(35,"input",23),v.YNc(36,vg,4,3,"div",19),v.qZA(),v.TgZ(37,"div",14),v.TgZ(38,"div",15),v.TgZ(39,"span",16),v._UZ(40,"i",24),v.qZA(),v.qZA(),v.TgZ(41,"select",25),v.TgZ(42,"option"),v._uU(43,"Small"),v.qZA(),v.TgZ(44,"option"),v._uU(45,"Medium"),v.qZA(),v.TgZ(46,"option"),v._uU(47,"Large"),v.qZA(),v.TgZ(48,"option"),v._uU(49,"X-Large"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(50,"div",26),v.TgZ(51,"button",27),v._uU(52," Submit "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&r&&(v.xp6(18),v.Q6J("formGroup",f.form),v.xp6(5),v.Q6J("ngClass",v.VKq(7,wh,f.submitted&&f.f.fullname.errors)),v.xp6(1),v.Q6J("ngIf",f.submitted&&f.f.fullname.errors),v.xp6(5),v.Q6J("ngClass",v.VKq(9,wh,f.submitted&&f.f.fname.errors)),v.xp6(1),v.Q6J("ngIf",f.submitted&&f.f.fname.errors),v.xp6(5),v.Q6J("ngClass",v.VKq(11,wh,f.submitted&&f.f.phone.errors)),v.xp6(1),v.Q6J("ngIf",f.submitted&&f.f.phone.errors))},directives:[wc,bl,su,os,uh,xl,k.mk,k.O5,s,c,B],styles:[""]}),u})();class bf{}const uu="*";function Yd(u,i=null){return{type:2,steps:u,options:i}}function Qd(u){return{type:6,styles:u,offset:null}}function Zd(u){Promise.resolve(null).then(u)}class Fl{constructor(i=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(f=>f()),r.length=0}}class Jd{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let r=0,f=0,p=0;const E=this.players.length;0==E?Zd(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++r==E&&this._onFinish()}),A.onDestroy(()=>{++f==E&&this._onDestroy()}),A.onStart(()=>{++p==E&&this._onStart()})}),this.totalTime=this.players.reduce((A,P)=>Math.max(A,P.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const r=i*this.totalTime;this.players.forEach(f=>{const p=f.totalTime?Math.min(1,r/f.totalTime):1;f.setPosition(p)})}getPosition(){const i=this.players.reduce((r,f)=>null===r||f.totalTime>r.totalTime?f:r,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(f=>f()),r.length=0}}function Eh(){return"undefined"!=typeof window&&void 0!==window.document}function Df(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ga(u){switch(u.length){case 0:return new Fl;case 1:return u[0];default:return new Jd(u)}}function Ic(u,i,r,f,p={},E={}){const A=[],P=[];let G=-1,ue=null;if(f.forEach(Fe=>{const Le=Fe.offset,rt=Le==G,Qe=rt&&ue||{};Object.keys(Fe).forEach(ot=>{let vt=ot,It=Fe[ot];if("offset"!==ot)switch(vt=i.normalizePropertyName(vt,A),It){case"!":It=p[ot];break;case uu:It=E[ot];break;default:It=i.normalizeStyleValue(ot,vt,It,A)}Qe[vt]=It}),rt||P.push(Qe),ue=Qe,G=Le}),A.length){const Fe="\n - ";throw new Error(`Unable to animate due to the following errors:${Fe}${A.join(Fe)}`)}return P}function go(u,i,r,f){switch(i){case"start":u.onStart(()=>f(r&&Cf(r,"start",u)));break;case"done":u.onDone(()=>f(r&&Cf(r,"done",u)));break;case"destroy":u.onDestroy(()=>f(r&&Cf(r,"destroy",u)))}}function Cf(u,i,r){const f=r.totalTime,E=bh(u.element,u.triggerName,u.fromState,u.toState,i||u.phaseName,null==f?u.totalTime:f,!!r.disabled),A=u._data;return null!=A&&(E._data=A),E}function bh(u,i,r,f,p="",E=0,A){return{element:u,triggerName:i,fromState:r,toState:f,phaseName:p,totalTime:E,disabled:!!A}}function xi(u,i,r){let f;return u instanceof Map?(f=u.get(i),f||u.set(i,f=r)):(f=u[i],f||(f=u[i]=r)),f}function ks(u){const i=u.indexOf(":");return[u.substring(1,i),u.substr(i+1)]}let Mc=(u,i)=>!1,Sf=(u,i)=>!1,Af=(u,i,r)=>[];const Dg=Df();(Dg||"undefined"!=typeof Element)&&(Mc=Eh()?(u,i)=>{for(;i&&i!==document.documentElement;){if(i===u)return!0;i=i.parentNode||i.host}return!1}:(u,i)=>u.contains(i),Sf=(()=>{if(Dg||Element.prototype.matches)return(u,i)=>u.matches(i);{const u=Element.prototype,i=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector;return i?(r,f)=>i.apply(r,[f]):Sf}})(),Af=(u,i,r)=>{let f=[];if(r){const p=u.querySelectorAll(i);for(let E=0;E<p.length;E++)f.push(p[E])}else{const p=u.querySelector(i);p&&f.push(p)}return f});let Ll=null,Nc=!1;function kl(u){Ll||(Ll=("undefined"!=typeof document?document.body:null)||{},Nc=!!Ll.style&&"WebkitAppearance"in Ll.style);let i=!0;return Ll.style&&!function(u){return"ebkit"==u.substring(1,6)}(u)&&(i=u in Ll.style,!i&&Nc&&(i="Webkit"+u.charAt(0).toUpperCase()+u.substr(1)in Ll.style)),i}const Oc=Sf,Pc=Mc,ep=Af;function tp(u){const i={};return Object.keys(u).forEach(r=>{const f=r.replace(/([a-z])([A-Z])/g,"$1-$2");i[f]=u[r]}),i}let np=(()=>{class u{validateStyleProperty(r){return kl(r)}matchesElement(r,f){return Oc(r,f)}containsElement(r,f){return Pc(r,f)}query(r,f,p){return ep(r,f,p)}computeStyle(r,f,p){return p||""}animate(r,f,p,E,A,P=[],G){return new Fl(p,E)}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),Ch=(()=>{class u{}return u.NOOP=new np,u})();const Ah="ng-enter",Th="ng-leave",Tf="ng-trigger",Vl=".ng-trigger",Tg="ng-animating",rp=".ng-animating";function Ul(u){if("number"==typeof u)return u;const i=u.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:ip(parseFloat(i[1]),i[2])}function ip(u,i){return"s"===i?1e3*u:u}function Ih(u,i,r){return u.hasOwnProperty("duration")?u:function(u,i,r){let p,E=0,A="";if("string"==typeof u){const P=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===P)return i.push(`The provided timing value "${u}" is invalid.`),{duration:0,delay:0,easing:""};p=ip(parseFloat(P[1]),P[2]);const G=P[3];null!=G&&(E=ip(parseFloat(G),P[4]));const ue=P[5];ue&&(A=ue)}else p=u;if(!r){let P=!1,G=i.length;p<0&&(i.push("Duration values below 0 are not allowed for this animation step."),P=!0),E<0&&(i.push("Delay values below 0 are not allowed for this animation step."),P=!0),P&&i.splice(G,0,`The provided timing value "${u}" is invalid.`)}return{duration:p,delay:E,easing:A}}(u,i,r)}function Rc(u,i={}){return Object.keys(u).forEach(r=>{i[r]=u[r]}),i}function qu(u,i,r={}){if(i)for(let f in u)r[f]=u[f];else Rc(u,r);return r}function Mg(u,i,r){return r?i+":"+r+";":""}function ma(u){let i="";for(let r=0;r<u.style.length;r++){const f=u.style.item(r);i+=Mg(0,f,u.style.getPropertyValue(f))}for(const r in u.style)u.style.hasOwnProperty(r)&&!r.startsWith("_")&&(i+=Mg(0,Oh(r),u.style[r]));u.setAttribute("style",i)}function Bo(u,i,r){u.style&&(Object.keys(i).forEach(f=>{const p=Nh(f);r&&!r.hasOwnProperty(f)&&(r[f]=u.style[p]),u.style[p]=i[f]}),Df()&&ma(u))}function Wu(u,i){u.style&&(Object.keys(i).forEach(r=>{const f=Nh(r);u.style[f]=""}),Df()&&ma(u))}function jl(u){return Array.isArray(u)?1==u.length?u[0]:Yd(u):u}const If=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mf(u){let i=[];if("string"==typeof u){let r;for(;r=If.exec(u);)i.push(r[1]);If.lastIndex=0}return i}function Nf(u,i,r){const f=u.toString(),p=f.replace(If,(E,A)=>{let P=i[A];return i.hasOwnProperty(A)||(r.push(`Please provide a value for the animation param ${A}`),P=""),P.toString()});return p==f?u:p}function fs(u){const i=[];let r=u.next();for(;!r.done;)i.push(r.value),r=u.next();return i}const op=/-+([a-z0-9])/g;function Nh(u){return u.replace(op,(...i)=>i[1].toUpperCase())}function Oh(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sp(u,i){return 0===u||0===i}function Ph(u,i,r){const f=Object.keys(r);if(f.length&&i.length){let E=i[0],A=[];if(f.forEach(P=>{E.hasOwnProperty(P)||A.push(P),E[P]=r[P]}),A.length)for(var p=1;p<i.length;p++){let P=i[p];A.forEach(function(G){P[G]=Rh(u,G)})}}return i}function mo(u,i,r){switch(i.type){case 7:return u.visitTrigger(i,r);case 0:return u.visitState(i,r);case 1:return u.visitTransition(i,r);case 2:return u.visitSequence(i,r);case 3:return u.visitGroup(i,r);case 4:return u.visitAnimate(i,r);case 5:return u.visitKeyframes(i,r);case 6:return u.visitStyle(i,r);case 8:return u.visitReference(i,r);case 9:return u.visitAnimateChild(i,r);case 10:return u.visitAnimateRef(i,r);case 11:return u.visitQuery(i,r);case 12:return u.visitStagger(i,r);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function Rh(u,i){return window.getComputedStyle(u)[i]}function Bl(u,i){const r=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(f=>function(u,i,r){if(":"==u[0]){const G=function(u,i){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,f)=>parseFloat(f)>parseFloat(r);case":decrement":return(r,f)=>parseFloat(f)<parseFloat(r);default:return i.push(`The transition alias value "${u}" is not supported`),"* => *"}}(u,r);if("function"==typeof G)return void i.push(G);u=G}const f=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return r.push(`The provided transition expression "${u}" is not supported`),i;const p=f[1],E=f[2],A=f[3];i.push(ap(p,A));"<"==E[0]&&!("*"==p&&"*"==A)&&i.push(ap(A,p))}(f,r,i)):r.push(u),r}const cu=new Set(["true","1"]),ya=new Set(["false","0"]);function ap(u,i){const r=cu.has(u)||ya.has(u),f=cu.has(i)||ya.has(i);return(p,E)=>{let A="*"==u||u==p,P="*"==i||i==E;return!A&&r&&"boolean"==typeof p&&(A=p?cu.has(u):ya.has(u)),!P&&f&&"boolean"==typeof E&&(P=E?cu.has(i):ya.has(i)),A&&P}}const up=new RegExp("s*:selfs*,?","g");function xc(u,i,r){return new lp(u).build(i,r)}class lp{constructor(i){this._driver=i}build(i,r){const f=new cp(r);return this._resetContextStyleTimingState(f),mo(this,jl(i),f)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,r){let f=r.queryCount=0,p=r.depCount=0;const E=[],A=[];return"@"==i.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(P=>{if(this._resetContextStyleTimingState(r),0==P.type){const G=P,ue=G.name;ue.toString().split(/\s*,\s*/).forEach(Fe=>{G.name=Fe,E.push(this.visitState(G,r))}),G.name=ue}else if(1==P.type){const G=this.visitTransition(P,r);f+=G.queryCount,p+=G.depCount,A.push(G)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:E,transitions:A,queryCount:f,depCount:p,options:null}}visitState(i,r){const f=this.visitStyle(i.styles,r),p=i.options&&i.options.params||null;if(f.containsDynamicStyles){const E=new Set,A=p||{};if(f.styles.forEach(P=>{if(Fc(P)){const G=P;Object.keys(G).forEach(ue=>{Mf(G[ue]).forEach(Fe=>{A.hasOwnProperty(Fe)||E.add(Fe)})})}}),E.size){const P=fs(E.values());r.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${P.join(", ")}`)}}return{type:0,name:i.name,style:f,options:p?{params:p}:null}}visitTransition(i,r){r.queryCount=0,r.depCount=0;const f=mo(this,jl(i.animation),r);return{type:1,matchers:Bl(i.expr,r.errors),animation:f,queryCount:r.queryCount,depCount:r.depCount,options:Ku(i.options)}}visitSequence(i,r){return{type:2,steps:i.steps.map(f=>mo(this,f,r)),options:Ku(i.options)}}visitGroup(i,r){const f=r.currentTime;let p=0;const E=i.steps.map(A=>{r.currentTime=f;const P=mo(this,A,r);return p=Math.max(p,r.currentTime),P});return r.currentTime=p,{type:3,steps:E,options:Ku(i.options)}}visitAnimate(i,r){const f=function(u,i){let r=null;if(u.hasOwnProperty("duration"))r=u;else if("number"==typeof u)return Rf(Ih(u,i).duration,0,"");const f=u;if(f.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=Rf(0,0,"");return E.dynamic=!0,E.strValue=f,E}return r=r||Ih(f,i),Rf(r.duration,r.delay,r.easing)}(i.timings,r.errors);r.currentAnimateTimings=f;let p,E=i.styles?i.styles:Qd({});if(5==E.type)p=this.visitKeyframes(E,r);else{let A=i.styles,P=!1;if(!A){P=!0;const ue={};f.easing&&(ue.easing=f.easing),A=Qd(ue)}r.currentTime+=f.duration+f.delay;const G=this.visitStyle(A,r);G.isEmptyStep=P,p=G}return r.currentAnimateTimings=null,{type:4,timings:f,style:p,options:null}}visitStyle(i,r){const f=this._makeStyleAst(i,r);return this._validateStyleAst(f,r),f}_makeStyleAst(i,r){const f=[];Array.isArray(i.styles)?i.styles.forEach(A=>{"string"==typeof A?A==uu?f.push(A):r.errors.push(`The provided style string value ${A} is not allowed.`):f.push(A)}):f.push(i.styles);let p=!1,E=null;return f.forEach(A=>{if(Fc(A)){const P=A,G=P.easing;if(G&&(E=G,delete P.easing),!p)for(let ue in P)if(P[ue].toString().indexOf("{{")>=0){p=!0;break}}}),{type:6,styles:f,easing:E,offset:i.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(i,r){const f=r.currentAnimateTimings;let p=r.currentTime,E=r.currentTime;f&&E>0&&(E-=f.duration+f.delay),i.styles.forEach(A=>{"string"!=typeof A&&Object.keys(A).forEach(P=>{if(!this._driver.validateStyleProperty(P))return void r.errors.push(`The provided animation property "${P}" is not a supported CSS property for animations`);const G=r.collectedStyles[r.currentQuerySelector],ue=G[P];let Fe=!0;ue&&(E!=p&&E>=ue.startTime&&p<=ue.endTime&&(r.errors.push(`The CSS property "${P}" that exists between the times of "${ue.startTime}ms" and "${ue.endTime}ms" is also being animated in a parallel animation between the times of "${E}ms" and "${p}ms"`),Fe=!1),E=ue.startTime),Fe&&(G[P]={startTime:E,endTime:p}),r.options&&function(u,i,r){const f=i.params||{},p=Mf(u);p.length&&p.forEach(E=>{f.hasOwnProperty(E)||r.push(`Unable to resolve the local animation param ${E} in the given list of values`)})}(A[P],r.options,r.errors)})})}visitKeyframes(i,r){const f={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),f;let E=0;const A=[];let P=!1,G=!1,ue=0;const Fe=i.steps.map(Gt=>{const gn=this._makeStyleAst(Gt,r);let fr=null!=gn.offset?gn.offset:function(u){if("string"==typeof u)return null;let i=null;if(Array.isArray(u))u.forEach(r=>{if(Fc(r)&&r.hasOwnProperty("offset")){const f=r;i=parseFloat(f.offset),delete f.offset}});else if(Fc(u)&&u.hasOwnProperty("offset")){const r=u;i=parseFloat(r.offset),delete r.offset}return i}(gn.styles),Fn=0;return null!=fr&&(E++,Fn=gn.offset=fr),G=G||Fn<0||Fn>1,P=P||Fn<ue,ue=Fn,A.push(Fn),gn});G&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),P&&r.errors.push("Please ensure that all keyframe offsets are in order");const Le=i.steps.length;let rt=0;E>0&&E<Le?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==E&&(rt=1/(Le-1));const Qe=Le-1,ot=r.currentTime,vt=r.currentAnimateTimings,It=vt.duration;return Fe.forEach((Gt,gn)=>{const fr=rt>0?gn==Qe?1:rt*gn:A[gn],Fn=fr*It;r.currentTime=ot+vt.delay+Fn,vt.duration=Fn,this._validateStyleAst(Gt,r),Gt.offset=fr,f.styles.push(Gt)}),f}visitReference(i,r){return{type:8,animation:mo(this,jl(i.animation),r),options:Ku(i.options)}}visitAnimateChild(i,r){return r.depCount++,{type:9,options:Ku(i.options)}}visitAnimateRef(i,r){return{type:10,animation:this.visitReference(i.animation,r),options:Ku(i.options)}}visitQuery(i,r){const f=r.currentQuerySelector,p=i.options||{};r.queryCount++,r.currentQuery=i;const[E,A]=function(u){const i=!!u.split(/\s*,\s*/).find(r=>":self"==r);return i&&(u=u.replace(up,"")),u=u.replace(/@\*/g,Vl).replace(/@\w+/g,r=>Vl+"-"+r.substr(1)).replace(/:animating/g,rp),[u,i]}(i.selector);r.currentQuerySelector=f.length?f+" "+E:E,xi(r.collectedStyles,r.currentQuerySelector,{});const P=mo(this,jl(i.animation),r);return r.currentQuery=null,r.currentQuerySelector=f,{type:11,selector:E,limit:p.limit||0,optional:!!p.optional,includeSelf:A,animation:P,originalSelector:i.selector,options:Ku(i.options)}}visitStagger(i,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const f="full"===i.timings?{duration:0,delay:0,easing:"full"}:Ih(i.timings,r.errors,!0);return{type:12,animation:mo(this,jl(i.animation),r),timings:f,options:null}}}class cp{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fc(u){return!Array.isArray(u)&&"object"==typeof u}function Ku(u){return u?(u=Rc(u)).params&&(u.params=function(u){return u?Rc(u):null}(u.params)):u={},u}function Rf(u,i,r){return{duration:u,delay:i,easing:r}}function Lh(u,i,r,f,p,E,A=null,P=!1){return{type:1,element:u,keyframes:i,preStyleProps:r,postStyleProps:f,duration:p,delay:E,totalTime:p+E,easing:A,subTimeline:P}}class xf{constructor(){this._map=new Map}consume(i){let r=this._map.get(i);return r?this._map.delete(i):r=[],r}append(i,r){let f=this._map.get(i);f||this._map.set(i,f=[]),f.push(...r)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Pg=new RegExp(":enter","g"),Dy=new RegExp(":leave","g");function Ff(u,i,r,f,p,E={},A={},P,G,ue=[]){return(new Cy).buildKeyframes(u,i,r,f,p,E,A,P,G,ue)}class Cy{buildKeyframes(i,r,f,p,E,A,P,G,ue,Fe=[]){ue=ue||new xf;const Le=new Lc(i,r,ue,p,E,Fe,[]);Le.options=G,Le.currentTimeline.setStyles([A],null,Le.errors,G),mo(this,f,Le);const rt=Le.timelines.filter(Qe=>Qe.containsAnimation());if(rt.length&&Object.keys(P).length){const Qe=rt[rt.length-1];Qe.allowOnlyTimelineStyles()||Qe.setStyles([P],null,Le.errors,G)}return rt.length?rt.map(Qe=>Qe.buildKeyframes()):[Lh(r,[],[],[],0,0,"",!1)]}visitTrigger(i,r){}visitState(i,r){}visitTransition(i,r){}visitAnimateChild(i,r){const f=r.subInstructions.consume(r.element);if(f){const p=r.createSubContext(i.options),E=r.currentTimeline.currentTime,A=this._visitSubInstructions(f,p,p.options);E!=A&&r.transformIntoNewTimeline(A)}r.previousNode=i}visitAnimateRef(i,r){const f=r.createSubContext(i.options);f.transformIntoNewTimeline(),this.visitReference(i.animation,f),r.transformIntoNewTimeline(f.currentTimeline.currentTime),r.previousNode=i}_visitSubInstructions(i,r,f){let E=r.currentTimeline.currentTime;const A=null!=f.duration?Ul(f.duration):null,P=null!=f.delay?Ul(f.delay):null;return 0!==A&&i.forEach(G=>{const ue=r.appendInstructionToTimeline(G,A,P);E=Math.max(E,ue.duration+ue.delay)}),E}visitReference(i,r){r.updateOptions(i.options,!0),mo(this,i.animation,r),r.previousNode=i}visitSequence(i,r){const f=r.subContextCount;let p=r;const E=i.options;if(E&&(E.params||E.delay)&&(p=r.createSubContext(E),p.transformIntoNewTimeline(),null!=E.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Lf);const A=Ul(E.delay);p.delayNextStep(A)}i.steps.length&&(i.steps.forEach(A=>mo(this,A,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>f&&p.transformIntoNewTimeline()),r.previousNode=i}visitGroup(i,r){const f=[];let p=r.currentTimeline.currentTime;const E=i.options&&i.options.delay?Ul(i.options.delay):0;i.steps.forEach(A=>{const P=r.createSubContext(i.options);E&&P.delayNextStep(E),mo(this,A,P),p=Math.max(p,P.currentTimeline.currentTime),f.push(P.currentTimeline)}),f.forEach(A=>r.currentTimeline.mergeTimelineCollectedStyles(A)),r.transformIntoNewTimeline(p),r.previousNode=i}_visitTiming(i,r){if(i.dynamic){const f=i.strValue;return Ih(r.params?Nf(f,r.params,r.errors):f,r.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,r){const f=r.currentAnimateTimings=this._visitTiming(i.timings,r),p=r.currentTimeline;f.delay&&(r.incrementTime(f.delay),p.snapshotCurrentStyles());const E=i.style;5==E.type?this.visitKeyframes(E,r):(r.incrementTime(f.duration),this.visitStyle(E,r),p.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=i}visitStyle(i,r){const f=r.currentTimeline,p=r.currentAnimateTimings;!p&&f.getCurrentStyleProperties().length&&f.forwardFrame();const E=p&&p.easing||i.easing;i.isEmptyStep?f.applyEmptyStep(E):f.setStyles(i.styles,E,r.errors,r.options),r.previousNode=i}visitKeyframes(i,r){const f=r.currentAnimateTimings,p=r.currentTimeline.duration,E=f.duration,P=r.createSubContext().currentTimeline;P.easing=f.easing,i.styles.forEach(G=>{P.forwardTime((G.offset||0)*E),P.setStyles(G.styles,G.easing,r.errors,r.options),P.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(P),r.transformIntoNewTimeline(p+E),r.previousNode=i}visitQuery(i,r){const f=r.currentTimeline.currentTime,p=i.options||{},E=p.delay?Ul(p.delay):0;E&&(6===r.previousNode.type||0==f&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lf);let A=f;const P=r.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!p.optional,r.errors);r.currentQueryTotal=P.length;let G=null;P.forEach((ue,Fe)=>{r.currentQueryIndex=Fe;const Le=r.createSubContext(i.options,ue);E&&Le.delayNextStep(E),ue===r.element&&(G=Le.currentTimeline),mo(this,i.animation,Le),Le.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,Le.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(A),G&&(r.currentTimeline.mergeTimelineCollectedStyles(G),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=i}visitStagger(i,r){const f=r.parentContext,p=r.currentTimeline,E=i.timings,A=Math.abs(E.duration),P=A*(r.currentQueryTotal-1);let G=A*r.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":G=P-G;break;case"full":G=f.currentStaggerTime}const Fe=r.currentTimeline;G&&Fe.delayNextStep(G);const Le=Fe.currentTime;mo(this,i.animation,r),r.previousNode=i,f.currentStaggerTime=p.currentTime-Le+(p.startTime-f.currentTimeline.startTime)}}const Lf={};class Lc{constructor(i,r,f,p,E,A,P,G){this._driver=i,this.element=r,this.subInstructions=f,this._enterClassName=p,this._leaveClassName=E,this.errors=A,this.timelines=P,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=G||new kc(this._driver,r,0),P.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,r){if(!i)return;const f=i;let p=this.options;null!=f.duration&&(p.duration=Ul(f.duration)),null!=f.delay&&(p.delay=Ul(f.delay));const E=f.params;if(E){let A=p.params;A||(A=this.options.params={}),Object.keys(E).forEach(P=>{(!r||!A.hasOwnProperty(P))&&(A[P]=Nf(E[P],A,this.errors))})}}_copyOptions(){const i={};if(this.options){const r=this.options.params;if(r){const f=i.params={};Object.keys(r).forEach(p=>{f[p]=r[p]})}}return i}createSubContext(i=null,r,f){const p=r||this.element,E=new Lc(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,f||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(i),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(i){return this.previousNode=Lf,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,r,f){const p={duration:null!=r?r:i.duration,delay:this.currentTimeline.currentTime+(null!=f?f:0)+i.delay,easing:""},E=new Rg(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,p,i.stretchStartingKeyframe);return this.timelines.push(E),p}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,r,f,p,E,A){let P=[];if(p&&P.push(this.element),i.length>0){i=(i=i.replace(Pg,"."+this._enterClassName)).replace(Dy,"."+this._leaveClassName);let ue=this._driver.query(this.element,i,1!=f);0!==f&&(ue=f<0?ue.slice(ue.length+f,ue.length):ue.slice(0,f)),P.push(...ue)}return!E&&0==P.length&&A.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),P}}class kc{constructor(i,r,f,p){this._driver=i,this.element=r,this.startTime=f,this._elementTimelineStylesLookup=p,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+i),r&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,r){return this.applyStylesToKeyframe(),new kc(this._driver,i,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,r){this._localTimelineStyles[i]=r,this._globalTimelineStyles[i]=r,this._styleSummary[i]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||uu,this._currentKeyframe[r]=uu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,r,f,p){r&&(this._previousKeyframe.easing=r);const E=p&&p.params||{},A=function(u,i){const r={};let f;return u.forEach(p=>{"*"===p?(f=f||Object.keys(i),f.forEach(E=>{r[E]=uu})):qu(p,!1,r)}),r}(i,this._globalTimelineStyles);Object.keys(A).forEach(P=>{const G=Nf(A[P],E,f);this._pendingStyles[P]=G,this._localTimelineStyles.hasOwnProperty(P)||(this._backFill[P]=this._globalTimelineStyles.hasOwnProperty(P)?this._globalTimelineStyles[P]:uu),this._updateStyle(P,G)})}applyStylesToKeyframe(){const i=this._pendingStyles,r=Object.keys(i);0!=r.length&&(this._pendingStyles={},r.forEach(f=>{this._currentKeyframe[f]=i[f]}),Object.keys(this._localTimelineStyles).forEach(f=>{this._currentKeyframe.hasOwnProperty(f)||(this._currentKeyframe[f]=this._localTimelineStyles[f])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const r=this._localTimelineStyles[i];this._pendingStyles[i]=r,this._updateStyle(i,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let r in this._currentKeyframe)i.push(r);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(r=>{const f=this._styleSummary[r],p=i._styleSummary[r];(!f||p.time>f.time)&&this._updateStyle(r,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,r=new Set,f=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((P,G)=>{const ue=qu(P,!0);Object.keys(ue).forEach(Fe=>{const Le=ue[Fe];"!"==Le?i.add(Fe):Le==uu&&r.add(Fe)}),f||(ue.offset=G/this.duration),p.push(ue)});const E=i.size?fs(i.values()):[],A=r.size?fs(r.values()):[];if(f){const P=p[0],G=Rc(P);P.offset=0,G.offset=1,p=[P,G]}return Lh(this.element,p,E,A,this.duration,this.startTime,this.easing,!1)}}class Rg extends kc{constructor(i,r,f,p,E,A,P=!1){super(i,r,A.delay),this.keyframes=f,this.preStyleProps=p,this.postStyleProps=E,this._stretchStartingKeyframe=P,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:r,duration:f,easing:p}=this.timings;if(this._stretchStartingKeyframe&&r){const E=[],A=f+r,P=r/A,G=qu(i[0],!1);G.offset=0,E.push(G);const ue=qu(i[0],!1);ue.offset=hp(P),E.push(ue);const Fe=i.length-1;for(let Le=1;Le<=Fe;Le++){let rt=qu(i[Le],!1);rt.offset=hp((r+rt.offset*f)/A),E.push(rt)}f=A,r=0,p="",i=E}return Lh(this.element,i,this.preStyleProps,this.postStyleProps,f,r,p,!0)}}function hp(u,i=3){const r=Math.pow(10,i-1);return Math.round(u*r)/r}class kh{}class kg extends kh{normalizePropertyName(i,r){return Nh(i)}normalizeStyleValue(i,r,f,p){let E="";const A=f.toString().trim();if(Vg[r]&&0!==f&&"0"!==f)if("number"==typeof f)E="px";else{const P=f.match(/^[+-]?[\d\.]+([a-z]*)$/);P&&0==P[1].length&&p.push(`Please provide a CSS unit value for ${i}:${f}`)}return A+E}}const Vg=(()=>function(u){const i={};return u.forEach(r=>i[r]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Vh(u,i,r,f,p,E,A,P,G,ue,Fe,Le,rt){return{type:0,element:u,triggerName:i,isRemovalTransition:p,fromState:r,fromStyles:E,toState:f,toStyles:A,timelines:P,queriedElements:G,preStyleProps:ue,postStyleProps:Fe,totalTime:Le,errors:rt}}const Uh={};class hs{constructor(i,r,f){this._triggerName=i,this.ast=r,this._stateStyles=f}match(i,r,f,p){return function(u,i,r,f,p){return u.some(E=>E(i,r,f,p))}(this.ast.matchers,i,r,f,p)}buildStyles(i,r,f){const p=this._stateStyles["*"],E=this._stateStyles[i],A=p?p.buildStyles(r,f):{};return E?E.buildStyles(r,f):A}build(i,r,f,p,E,A,P,G,ue,Fe){const Le=[],rt=this.ast.options&&this.ast.options.params||Uh,ot=this.buildStyles(f,P&&P.params||Uh,Le),vt=G&&G.params||Uh,It=this.buildStyles(p,vt,Le),Gt=new Set,gn=new Map,fr=new Map,Fn="void"===p,pu={params:St(St({},rt),vt)},wa=Fe?[]:Ff(i,r,this.ast.animation,E,A,ot,It,pu,ue,Le);let Kr=0;if(wa.forEach(ps=>{Kr=Math.max(ps.duration+ps.delay,Kr)}),Le.length)return Vh(r,this._triggerName,f,p,Fn,ot,It,[],[],gn,fr,Kr,Le);wa.forEach(ps=>{const gs=ps.element,Kp=xi(gn,gs,{});ps.preStyleProps.forEach(Ea=>Kp[Ea]=!0);const nl=xi(fr,gs,{});ps.postStyleProps.forEach(Ea=>nl[Ea]=!0),gs!==r&&Gt.add(gs)});const js=fs(Gt.values());return Vh(r,this._triggerName,f,p,Fn,ot,It,wa,js,gn,fr,Kr)}}class Ug{constructor(i,r,f){this.styles=i,this.defaultParams=r,this.normalizer=f}buildStyles(i,r){const f={},p=Rc(this.defaultParams);return Object.keys(i).forEach(E=>{const A=i[E];null!=A&&(p[E]=A)}),this.styles.styles.forEach(E=>{if("string"!=typeof E){const A=E;Object.keys(A).forEach(P=>{let G=A[P];G.length>1&&(G=Nf(G,p,r));const ue=this.normalizer.normalizePropertyName(P,r);G=this.normalizer.normalizeStyleValue(P,ue,G,r),f[ue]=G})}}),f}}class Sy{constructor(i,r,f){this.name=i,this.ast=r,this._normalizer=f,this.transitionFactories=[],this.states={},r.states.forEach(p=>{this.states[p.name]=new Ug(p.style,p.options&&p.options.params||{},f)}),gp(this.states,"true","1"),gp(this.states,"false","0"),r.transitions.forEach(p=>{this.transitionFactories.push(new hs(i,p,this.states))}),this.fallbackTransition=function(u,i,r){return new hs(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,P)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,r,f,p){return this.transitionFactories.find(A=>A.match(i,r,f,p))||null}matchStyles(i,r,f){return this.fallbackTransition.buildStyles(i,r,f)}}function gp(u,i,r){u.hasOwnProperty(i)?u.hasOwnProperty(r)||(u[r]=u[i]):u.hasOwnProperty(r)&&(u[i]=u[r])}const Bg=new xf;class Hg{constructor(i,r,f){this.bodyNode=i,this._driver=r,this._normalizer=f,this._animations={},this._playersById={},this.players=[]}register(i,r){const f=[],p=xc(this._driver,r,f);if(f.length)throw new Error(`Unable to build the animation due to the following errors: ${f.join("\n")}`);this._animations[i]=p}_buildPlayer(i,r,f){const p=i.element,E=Ic(0,this._normalizer,0,i.keyframes,r,f);return this._driver.animate(p,E,i.duration,i.delay,i.easing,[],!0)}create(i,r,f={}){const p=[],E=this._animations[i];let A;const P=new Map;if(E?(A=Ff(this._driver,r,E,Ah,Th,{},{},f,Bg,p),A.forEach(Fe=>{const Le=xi(P,Fe.element,{});Fe.postStyleProps.forEach(rt=>Le[rt]=null)})):(p.push("The requested animation doesn't exist or has already been destroyed"),A=[]),p.length)throw new Error(`Unable to create the animation due to the following errors: ${p.join("\n")}`);P.forEach((Fe,Le)=>{Object.keys(Fe).forEach(rt=>{Fe[rt]=this._driver.computeStyle(Le,rt,uu)})});const ue=ga(A.map(Fe=>{const Le=P.get(Fe.element);return this._buildPlayer(Fe,{},Le)}));return this._playersById[i]=ue,ue.onDestroy(()=>this.destroy(i)),this.players.push(ue),ue}destroy(i){const r=this._getPlayer(i);r.destroy(),delete this._playersById[i];const f=this.players.indexOf(r);f>=0&&this.players.splice(f,1)}_getPlayer(i){const r=this._playersById[i];if(!r)throw new Error(`Unable to find the timeline player referenced by ${i}`);return r}listen(i,r,f,p){const E=bh(r,"","","");return go(this._getPlayer(i),f,E,p),()=>{}}command(i,r,f,p){if("register"==f)return void this.register(i,p[0]);if("create"==f)return void this.create(i,r,p[0]||{});const E=this._getPlayer(i);switch(f){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(i)}}}const kf="ng-animate-queued",mp="ng-animate-disabled",Vc=".ng-animate-disabled",Hh=[],Vf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ho="__ng_removed";class Gh{constructor(i,r=""){this.namespaceId=r;const f=i&&i.hasOwnProperty("value");if(this.value=null!=(u=f?i.value:i)?u:null,f){const E=Rc(i);delete E.value,this.options=E}else this.options={};var u;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const r=i.params;if(r){const f=this.options.params;Object.keys(r).forEach(p=>{null==f[p]&&(f[p]=r[p])})}}}const Yu="void",vp=new Gh(Yu);class zg{constructor(i,r,f){this.id=i,this.hostElement=r,this._engine=f,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,vo(r,this._hostClassName)}listen(i,r,f,p){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${f}" because the animation trigger "${r}" doesn't exist!`);if(null==f||0==f.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if("start"!=(u=f)&&"done"!=u)throw new Error(`The provided animation trigger event "${f}" for the animation trigger "${r}" is not supported!`);var u;const E=xi(this._elementListeners,i,[]),A={name:r,phase:f,callback:p};E.push(A);const P=xi(this._engine.statesByElement,i,{});return P.hasOwnProperty(r)||(vo(i,Tf),vo(i,Tf+"-"+r),P[r]=vp),()=>{this._engine.afterFlush(()=>{const G=E.indexOf(A);G>=0&&E.splice(G,1),this._triggers[r]||delete P[r]})}}register(i,r){return!this._triggers[i]&&(this._triggers[i]=r,!0)}_getTrigger(i){const r=this._triggers[i];if(!r)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return r}trigger(i,r,f,p=!0){const E=this._getTrigger(r),A=new Uf(this.id,r,i);let P=this._engine.statesByElement.get(i);P||(vo(i,Tf),vo(i,Tf+"-"+r),this._engine.statesByElement.set(i,P={}));let G=P[r];const ue=new Gh(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&G&&ue.absorbOptions(G.options),P[r]=ue,G||(G=vp),ue.value!==Yu&&G.value===ue.value){if(!function(u,i){const r=Object.keys(u),f=Object.keys(i);if(r.length!=f.length)return!1;for(let p=0;p<r.length;p++){const E=r[p];if(!i.hasOwnProperty(E)||u[E]!==i[E])return!1}return!0}(G.params,ue.params)){const vt=[],It=E.matchStyles(G.value,G.params,vt),Gt=E.matchStyles(ue.value,ue.params,vt);vt.length?this._engine.reportError(vt):this._engine.afterFlush(()=>{Wu(i,It),Bo(i,Gt)})}return}const rt=xi(this._engine.playersByElement,i,[]);rt.forEach(vt=>{vt.namespaceId==this.id&&vt.triggerName==r&&vt.queued&&vt.destroy()});let Qe=E.matchTransition(G.value,ue.value,i,ue.params),ot=!1;if(!Qe){if(!p)return;Qe=E.fallbackTransition,ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:r,transition:Qe,fromState:G,toState:ue,player:A,isFallbackTransition:ot}),ot||(vo(i,kf),A.onStart(()=>{fu(i,kf)})),A.onDone(()=>{let vt=this.players.indexOf(A);vt>=0&&this.players.splice(vt,1);const It=this._engine.playersByElement.get(i);if(It){let Gt=It.indexOf(A);Gt>=0&&It.splice(Gt,1)}}),this.players.push(A),rt.push(A),A}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((r,f)=>{delete r[i]}),this._elementListeners.forEach((r,f)=>{this._elementListeners.set(f,r.filter(p=>p.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const r=this._engine.playersByElement.get(i);r&&(r.forEach(f=>f.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,r){const f=this._engine.driver.query(i,Vl,!0);f.forEach(p=>{if(p[Ho])return;const E=this._engine.fetchNamespacesByElement(p);E.size?E.forEach(A=>A.triggerLeaveAnimation(p,r,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(i,r,f,p){const E=this._engine.statesByElement.get(i);if(E){const A=[];if(Object.keys(E).forEach(P=>{if(this._triggers[P]){const G=this.trigger(i,P,Yu,p);G&&A.push(G)}}),A.length)return this._engine.markElementAsRemoved(this.id,i,!0,r),f&&ga(A).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const r=this._elementListeners.get(i),f=this._engine.statesByElement.get(i);if(r&&f){const p=new Set;r.forEach(E=>{const A=E.name;if(p.has(A))return;p.add(A);const G=this._triggers[A].fallbackTransition,ue=f[A]||vp,Fe=new Gh(Yu),Le=new Uf(this.id,A,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:A,transition:G,fromState:ue,toState:Fe,player:Le,isFallbackTransition:!0})})}}removeNode(i,r){const f=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,r),this.triggerLeaveAnimation(i,r,!0))return;let p=!1;if(f.totalAnimations){const E=f.players.length?f.playersByQueriedElement.get(i):[];if(E&&E.length)p=!0;else{let A=i;for(;A=A.parentNode;)if(f.statesByElement.get(A)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(i),p)f.markElementAsRemoved(this.id,i,!1,r);else{const E=i[Ho];(!E||E===Vf)&&(f.afterFlush(()=>this.clearElementCache(i)),f.destroyInnerAnimations(i),f._onRemovalComplete(i,r))}}insertNode(i,r){vo(i,this._hostClassName)}drainQueuedTransitions(i){const r=[];return this._queue.forEach(f=>{const p=f.player;if(p.destroyed)return;const E=f.element,A=this._elementListeners.get(E);A&&A.forEach(P=>{if(P.name==f.triggerName){const G=bh(E,f.triggerName,f.fromState.value,f.toState.value);G._data=i,go(f.player,P.phase,G,P.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):r.push(f)}),this._queue=[],r.sort((f,p)=>{const E=f.transition.ast.depCount,A=p.transition.ast.depCount;return 0==E||0==A?E-A:this._engine.driver.containsElement(f.element,p.element)?1:-1})}destroy(i){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let r=!1;return this._elementListeners.has(i)&&(r=!0),r=!!this._queue.find(f=>f.element===i)||r,r}}class _p{constructor(i,r,f){this.bodyNode=i,this.driver=r,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,E)=>{}}_onRemovalComplete(i,r){this.onRemovalComplete(i,r)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(r=>{r.players.forEach(f=>{f.queued&&i.push(f)})}),i}createNamespace(i,r){const f=new zg(i,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(f,r):(this.newHostElements.set(r,f),this.collectEnterElement(r)),this._namespaceLookup[i]=f}_balanceNamespaceList(i,r){const f=this._namespaceList.length-1;if(f>=0){let p=!1;for(let E=f;E>=0;E--)if(this.driver.containsElement(this._namespaceList[E].hostElement,r)){this._namespaceList.splice(E+1,0,i),p=!0;break}p||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(r,i),i}register(i,r){let f=this._namespaceLookup[i];return f||(f=this.createNamespace(i,r)),f}registerTrigger(i,r,f){let p=this._namespaceLookup[i];p&&p.register(r,f)&&this.totalAnimations++}destroy(i,r){if(!i)return;const f=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[i];const p=this._namespaceList.indexOf(f);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>f.destroy(r))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const r=new Set,f=this.statesByElement.get(i);if(f){const p=Object.keys(f);for(let E=0;E<p.length;E++){const A=f[p[E]].namespaceId;if(A){const P=this._fetchNamespace(A);P&&r.add(P)}}}return r}trigger(i,r,f,p){if(Uc(r)){const E=this._fetchNamespace(i);if(E)return E.trigger(r,f,p),!0}return!1}insertNode(i,r,f,p){if(!Uc(r))return;const E=r[Ho];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const A=this.collectedLeaveElements.indexOf(r);A>=0&&this.collectedLeaveElements.splice(A,1)}if(i){const A=this._fetchNamespace(i);A&&A.insertNode(r,f)}p&&this.collectEnterElement(r)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,r){r?this.disabledNodes.has(i)||(this.disabledNodes.add(i),vo(i,mp)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),fu(i,mp))}removeNode(i,r,f,p){if(Uc(r)){const E=i?this._fetchNamespace(i):null;if(E?E.removeNode(r,p):this.markElementAsRemoved(i,r,!1,p),f){const A=this.namespacesByHostElement.get(r);A&&A.id!==i&&A.removeNode(r,p)}}else this._onRemovalComplete(r,p)}markElementAsRemoved(i,r,f,p){this.collectedLeaveElements.push(r),r[Ho]={namespaceId:i,setForRemoval:p,hasAnimation:f,removedBeforeQueried:!1}}listen(i,r,f,p,E){return Uc(r)?this._fetchNamespace(i).listen(r,f,p,E):()=>{}}_buildInstruction(i,r,f,p,E){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,f,p,i.fromState.options,i.toState.options,r,E)}destroyInnerAnimations(i){let r=this.driver.query(i,Vl,!0);r.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(i,rp,!0),r.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(i){const r=this.playersByElement.get(i);r&&r.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(i){const r=this.playersByQueriedElement.get(i);r&&r.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return ga(this.players).onDone(()=>i());i()})}processLeaveNode(i){const r=i[Ho];if(r&&r.setForRemoval){if(i[Ho]=Vf,r.namespaceId){this.destroyInnerAnimations(i);const f=this._fetchNamespace(r.namespaceId);f&&f.clearElementCache(i)}this._onRemovalComplete(i,r.setForRemoval)}this.driver.matchesElement(i,Vc)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Vc,!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(i=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,p)=>this._balanceNamespaceList(f,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)vo(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{r=this._flushAnimations(f,i)}finally{for(let p=0;p<f.length;p++)f[p]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],r.length?ga(r).onDone(()=>{f.forEach(p=>p())}):f.forEach(p=>p())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,r){const f=new xf,p=[],E=new Map,A=[],P=new Map,G=new Map,ue=new Map,Fe=new Set;this.disabledNodes.forEach(mt=>{Fe.add(mt);const At=this.driver.query(mt,".ng-animate-queued",!0);for(let Bt=0;Bt<At.length;Bt++)Fe.add(At[Bt])});const Le=this.bodyNode,rt=Array.from(this.statesByElement.keys()),Qe=Dp(rt,this.collectedEnterElements),ot=new Map;let vt=0;Qe.forEach((mt,At)=>{const Bt=Ah+vt++;ot.set(At,Bt),mt.forEach(mn=>vo(mn,Bt))});const It=[],Gt=new Set,gn=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const At=this.collectedLeaveElements[mt],Bt=At[Ho];Bt&&Bt.setForRemoval&&(It.push(At),Gt.add(At),Bt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(mn=>Gt.add(mn)):gn.add(At))}const fr=new Map,Fn=Dp(rt,Array.from(Gt));Fn.forEach((mt,At)=>{const Bt=Th+vt++;fr.set(At,Bt),mt.forEach(mn=>vo(mn,Bt))}),i.push(()=>{Qe.forEach((mt,At)=>{const Bt=ot.get(At);mt.forEach(mn=>fu(mn,Bt))}),Fn.forEach((mt,At)=>{const Bt=fr.get(At);mt.forEach(mn=>fu(mn,Bt))}),It.forEach(mt=>{this.processLeaveNode(mt)})});const pu=[],wa=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(r).forEach(Bt=>{const mn=Bt.player,oi=Bt.element;if(pu.push(mn),this.collectedEnterElements.length){const Bs=oi[Ho];if(Bs&&Bs.setForMove)return void mn.destroy()}const $o=!Le||!this.driver.containsElement(Le,oi),Zi=fr.get(oi),ba=ot.get(oi),rr=this._buildInstruction(Bt,f,ba,Zi,$o);if(rr.errors&&rr.errors.length)wa.push(rr);else{if($o)return mn.onStart(()=>Wu(oi,rr.fromStyles)),mn.onDestroy(()=>Bo(oi,rr.toStyles)),void p.push(mn);if(Bt.isFallbackTransition)return mn.onStart(()=>Wu(oi,rr.fromStyles)),mn.onDestroy(()=>Bo(oi,rr.toStyles)),void p.push(mn);rr.timelines.forEach(Bs=>Bs.stretchStartingKeyframe=!0),f.append(oi,rr.timelines),A.push({instruction:rr,player:mn,element:oi}),rr.queriedElements.forEach(Bs=>xi(P,Bs,[]).push(mn)),rr.preStyleProps.forEach((Bs,ql)=>{const Gc=Object.keys(Bs);if(Gc.length){let Da=G.get(ql);Da||G.set(ql,Da=new Set),Gc.forEach($f=>Da.add($f))}}),rr.postStyleProps.forEach((Bs,ql)=>{const Gc=Object.keys(Bs);let Da=ue.get(ql);Da||ue.set(ql,Da=new Set),Gc.forEach($f=>Da.add($f))})}});if(wa.length){const mt=[];wa.forEach(At=>{mt.push(`@${At.triggerName} has failed due to:\n`),At.errors.forEach(Bt=>mt.push(`- ${Bt}\n`))}),pu.forEach(At=>At.destroy()),this.reportError(mt)}const Kr=new Map,js=new Map;A.forEach(mt=>{const At=mt.element;f.has(At)&&(js.set(At,At),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Kr))}),p.forEach(mt=>{const At=mt.element;this._getPreviousPlayers(At,!1,mt.namespaceId,mt.triggerName,null).forEach(mn=>{xi(Kr,At,[]).push(mn),mn.destroy()})});const ps=It.filter(mt=>zh(mt,G,ue)),gs=new Map;bp(gs,this.driver,gn,ue,uu).forEach(mt=>{zh(mt,G,ue)&&ps.push(mt)});const nl=new Map;Qe.forEach((mt,At)=>{bp(nl,this.driver,new Set(mt),G,"!")}),ps.forEach(mt=>{const At=gs.get(mt),Bt=nl.get(mt);gs.set(mt,St(St({},At),Bt))});const Ea=[],yd=[],vm={};A.forEach(mt=>{const{element:At,player:Bt,instruction:mn}=mt;if(f.has(At)){if(Fe.has(At))return Bt.onDestroy(()=>Bo(At,mn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(mn.totalTime),void p.push(Bt);let oi=vm;if(js.size>1){let Zi=At;const ba=[];for(;Zi=Zi.parentNode;){const rr=js.get(Zi);if(rr){oi=rr;break}ba.push(Zi)}ba.forEach(rr=>js.set(rr,oi))}const $o=this._buildAnimation(Bt.namespaceId,mn,Kr,E,nl,gs);if(Bt.setRealPlayer($o),oi===vm)Ea.push(Bt);else{const Zi=this.playersByElement.get(oi);Zi&&Zi.length&&(Bt.parentPlayer=ga(Zi)),p.push(Bt)}}else Wu(At,mn.fromStyles),Bt.onDestroy(()=>Bo(At,mn.toStyles)),yd.push(Bt),Fe.has(At)&&p.push(Bt)}),yd.forEach(mt=>{const At=E.get(mt.element);if(At&&At.length){const Bt=ga(At);mt.setRealPlayer(Bt)}}),p.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<It.length;mt++){const At=It[mt],Bt=At[Ho];if(fu(At,Th),Bt&&Bt.hasAnimation)continue;let mn=[];if(P.size){let $o=P.get(At);$o&&$o.length&&mn.push(...$o);let Zi=this.driver.query(At,rp,!0);for(let ba=0;ba<Zi.length;ba++){let rr=P.get(Zi[ba]);rr&&rr.length&&mn.push(...rr)}}const oi=mn.filter($o=>!$o.destroyed);oi.length?Bc(this,At,oi):this.processLeaveNode(At)}return It.length=0,Ea.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const At=this.players.indexOf(mt);this.players.splice(At,1)}),mt.play()}),Ea}elementContainsData(i,r){let f=!1;const p=r[Ho];return p&&p.setForRemoval&&(f=!0),this.playersByElement.has(r)&&(f=!0),this.playersByQueriedElement.has(r)&&(f=!0),this.statesByElement.has(r)&&(f=!0),this._fetchNamespace(i).elementContainsData(r)||f}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,r,f,p,E){let A=[];if(r){const P=this.playersByQueriedElement.get(i);P&&(A=P)}else{const P=this.playersByElement.get(i);if(P){const G=!E||E==Yu;P.forEach(ue=>{ue.queued||!G&&ue.triggerName!=p||A.push(ue)})}}return(f||p)&&(A=A.filter(P=>!(f&&f!=P.namespaceId||p&&p!=P.triggerName))),A}_beforeAnimationBuild(i,r,f){const E=r.element,A=r.isRemovalTransition?void 0:i,P=r.isRemovalTransition?void 0:r.triggerName;for(const G of r.timelines){const ue=G.element,Fe=ue!==E,Le=xi(f,ue,[]);this._getPreviousPlayers(ue,Fe,A,P,r.toState).forEach(Qe=>{const ot=Qe.getRealPlayer();ot.beforeDestroy&&ot.beforeDestroy(),Qe.destroy(),Le.push(Qe)})}Wu(E,r.fromStyles)}_buildAnimation(i,r,f,p,E,A){const P=r.triggerName,G=r.element,ue=[],Fe=new Set,Le=new Set,rt=r.timelines.map(ot=>{const vt=ot.element;Fe.add(vt);const It=vt[Ho];if(It&&It.removedBeforeQueried)return new Fl(ot.duration,ot.delay);const Gt=vt!==G,gn=function(u){const i=[];return jf(u,i),i}((f.get(vt)||Hh).map(Kr=>Kr.getRealPlayer())).filter(Kr=>!!Kr.element&&Kr.element===vt),fr=E.get(vt),Fn=A.get(vt),pu=Ic(0,this._normalizer,0,ot.keyframes,fr,Fn),wa=this._buildPlayer(ot,pu,gn);if(ot.subTimeline&&p&&Le.add(vt),Gt){const Kr=new Uf(i,P,vt);Kr.setRealPlayer(wa),ue.push(Kr)}return wa});ue.forEach(ot=>{xi(this.playersByQueriedElement,ot.element,[]).push(ot),ot.onDone(()=>function(u,i,r){let f;if(u instanceof Map){if(f=u.get(i),f){if(f.length){const p=f.indexOf(r);f.splice(p,1)}0==f.length&&u.delete(i)}}else if(f=u[i],f){if(f.length){const p=f.indexOf(r);f.splice(p,1)}0==f.length&&delete u[i]}return f}(this.playersByQueriedElement,ot.element,ot))}),Fe.forEach(ot=>vo(ot,Tg));const Qe=ga(rt);return Qe.onDestroy(()=>{Fe.forEach(ot=>fu(ot,Tg)),Bo(G,r.toStyles)}),Le.forEach(ot=>{xi(p,ot,[]).push(Qe)}),Qe}_buildPlayer(i,r,f){return r.length>0?this.driver.animate(i.element,r,i.duration,i.delay,i.easing,f):new Fl(i.duration,i.delay)}}class Uf{constructor(i,r,f){this.namespaceId=i,this.triggerName=r,this.element=f,this._player=new Fl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(f=>go(i,r,void 0,f))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const r=this._player;r.triggerCallback&&i.onStart(()=>r.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,r){xi(this._queuedCallbacks,i,[]).push(r)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const r=this._player;r.triggerCallback&&r.triggerCallback(i)}}function Uc(u){return u&&1===u.nodeType}function jc(u,i){const r=u.style.display;return u.style.display=null!=i?i:"none",r}function bp(u,i,r,f,p){const E=[];r.forEach(G=>E.push(jc(G)));const A=[];f.forEach((G,ue)=>{const Fe={};G.forEach(Le=>{const rt=Fe[Le]=i.computeStyle(ue,Le,p);(!rt||0==rt.length)&&(ue[Ho]=yp,A.push(ue))}),u.set(ue,Fe)});let P=0;return r.forEach(G=>jc(G,E[P++])),A}function Dp(u,i){const r=new Map;if(u.forEach(P=>r.set(P,[])),0==i.length)return r;const p=new Set(i),E=new Map;function A(P){if(!P)return 1;let G=E.get(P);if(G)return G;const ue=P.parentNode;return G=r.has(ue)?ue:p.has(ue)?1:A(ue),E.set(P,G),G}return i.forEach(P=>{const G=A(P);1!==G&&r.get(G).push(P)}),r}const $h="$$classes";function vo(u,i){if(u.classList)u.classList.add(i);else{let r=u[$h];r||(r=u[$h]={}),r[i]=!0}}function fu(u,i){if(u.classList)u.classList.remove(i);else{let r=u[$h];r&&delete r[i]}}function Bc(u,i,r){ga(r).onDone(()=>u.processLeaveNode(i))}function jf(u,i){for(let r=0;r<u.length;r++){const f=u[r];f instanceof Jd?jf(f.players,i):i.push(f)}}function zh(u,i,r){const f=r.get(u);if(!f)return!1;let p=i.get(u);return p?f.forEach(E=>p.add(E)):i.set(u,f),r.delete(u),!0}class Hc{constructor(i,r,f){this.bodyNode=i,this._driver=r,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(p,E)=>{},this._transitionEngine=new _p(i,r,f),this._timelineEngine=new Hg(i,r,f),this._transitionEngine.onRemovalComplete=(p,E)=>this.onRemovalComplete(p,E)}registerTrigger(i,r,f,p,E){const A=i+"-"+p;let P=this._triggerCache[A];if(!P){const G=[],ue=xc(this._driver,E,G);if(G.length)throw new Error(`The animation trigger "${p}" has failed to build due to the following errors:\n - ${G.join("\n - ")}`);P=function(u,i,r){return new Sy(u,i,r)}(p,ue,this._normalizer),this._triggerCache[A]=P}this._transitionEngine.registerTrigger(r,p,P)}register(i,r){this._transitionEngine.register(i,r)}destroy(i,r){this._transitionEngine.destroy(i,r)}onInsert(i,r,f,p){this._transitionEngine.insertNode(i,r,f,p)}onRemove(i,r,f,p){this._transitionEngine.removeNode(i,r,p||!1,f)}disableAnimations(i,r){this._transitionEngine.markElementAsDisabled(i,r)}process(i,r,f,p){if("@"==f.charAt(0)){const[E,A]=ks(f);this._timelineEngine.command(E,r,A,p)}else this._transitionEngine.trigger(i,r,f,p)}listen(i,r,f,p,E){if("@"==f.charAt(0)){const[A,P]=ks(f);return this._timelineEngine.listen(A,r,P,E)}return this._transitionEngine.listen(i,r,f,p,E)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ap(u,i){let r=null,f=null;return Array.isArray(i)&&i.length?(r=Wh(i[0]),i.length>1&&(f=Wh(i[i.length-1]))):i&&(r=Wh(i)),r||f?new qh(u,r,f):null}let qh=(()=>{class u{constructor(r,f,p){this._element=r,this._startStyles=f,this._endStyles=p,this._state=0;let E=u.initialStylesByElement.get(r);E||u.initialStylesByElement.set(r,E={}),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&Bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bo(this._element,this._initialStyles),this._endStyles&&(Bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Wu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wu(this._element,this._endStyles),this._endStyles=null),Bo(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Wh(u){let i=null;const r=Object.keys(u);for(let f=0;f<r.length;f++){const p=r[f];Wg(p)&&(i=i||{},i[p]=u[p])}return i}function Wg(u){return"display"===u||"position"===u}const Qu="animation",Kh="animationend";class Yg{constructor(i,r,f,p,E,A,P){this._element=i,this._name=r,this._duration=f,this._delay=p,this._easing=E,this._fillMode=A,this._onDoneFn=P,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=G=>this._handleCallback(G)}apply(){(function(u,i){const r=Bf(u,"").trim();let f=0;r.length&&(function(u,i){let r=0;for(let f=0;f<u.length;f++)","===u.charAt(f)&&r++;return r}(r)+1,i=`${r}, ${i}`),Gl(u,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_o(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Zu(this._element,this._name,"paused")}resume(){Zu(this._element,this._name,"running")}setPosition(i){const r=Ip(this._element,this._name);this._position=i*this._duration,Gl(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(i){const r=i._ngTestManualTimestamp||Date.now(),f=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&f>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_o(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(u,i){const f=Bf(u,"").split(","),p=Yh(f,i);p>=0&&(f.splice(p,1),Gl(u,"",f.join(",")))}(this._element,this._name))}}function Zu(u,i,r){Gl(u,"PlayState",r,Ip(u,i))}function Ip(u,i){const r=Bf(u,"");return r.indexOf(",")>0?Yh(r.split(","),i):Yh([r],i)}function Yh(u,i){for(let r=0;r<u.length;r++)if(u[r].indexOf(i)>=0)return r;return-1}function _o(u,i,r){r?u.removeEventListener(Kh,i):u.addEventListener(Kh,i)}function Gl(u,i,r,f){const p=Qu+i;if(null!=f){const E=u.style[p];if(E.length){const A=E.split(",");A[f]=r,r=A.join(",")}}u.style[p]=r}function Bf(u,i){return u.style[Qu+i]||""}class Pp{constructor(i,r,f,p,E,A,P,G){this.element=i,this.keyframes=r,this.animationName=f,this._duration=p,this._delay=E,this._finalStyles=P,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=A||"linear",this.totalTime=p+E,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Yg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(f=>f()),r.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(f=>{"offset"!=f&&(i[f]=r?this._finalStyles[f]:Rh(this.element,f))})}this.currentSnapshot=i}}class Jg extends Fl{constructor(i,r){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=tp(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const r=this._startingStyles[i];r?this.element.style.setProperty(i,r):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class Qh{constructor(){this._count=0}validateStyleProperty(i){return kl(i)}matchesElement(i,r){return Oc(i,r)}containsElement(i,r){return Pc(i,r)}query(i,r,f){return ep(i,r,f)}computeStyle(i,r,f){return window.getComputedStyle(i)[r]}buildKeyframeElement(i,r,f){f=f.map(P=>tp(P));let p=`@keyframes ${r} {\n`,E="";f.forEach(P=>{E=" ";const G=parseFloat(P.offset);p+=`${E}${100*G}% {\n`,E+=" ",Object.keys(P).forEach(ue=>{const Fe=P[ue];switch(ue){case"offset":return;case"easing":return void(Fe&&(p+=`${E}animation-timing-function: ${Fe};\n`));default:return void(p+=`${E}${ue}: ${Fe};\n`)}}),p+=`${E}}\n`}),p+="}\n";const A=document.createElement("style");return A.textContent=p,A}animate(i,r,f,p,E,A=[],P){const G=A.filter(It=>It instanceof Pp),ue={};sp(f,p)&&G.forEach(It=>{let Gt=It.currentSnapshot;Object.keys(Gt).forEach(gn=>ue[gn]=Gt[gn])});const Fe=function(u){let i={};return u&&(Array.isArray(u)?u:[u]).forEach(f=>{Object.keys(f).forEach(p=>{"offset"==p||"easing"==p||(i[p]=f[p])})}),i}(r=Ph(i,r,ue));if(0==f)return new Jg(i,Fe);const Le="gen_css_kf_"+this._count++,rt=this.buildKeyframeElement(i,Le,r);(function(u){var r;const i=null==(r=u.getRootNode)?void 0:r.call(u);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(i).appendChild(rt);const ot=Ap(i,r),vt=new Pp(i,r,Le,f,p,E,Fe,ot);return vt.onDestroy(()=>{var u;(u=rt).parentNode.removeChild(u)}),vt}}class tm{constructor(i,r,f,p){this.element=i,this.keyframes=r,this.options=f,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,r,f){return i.animate(r,f)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(i[r]=this._finished?this._finalKeyframe[r]:Rh(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(f=>f()),r.length=0}}class Zh{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Jh().toString()),this._cssKeyframesDriver=new Qh}validateStyleProperty(i){return kl(i)}matchesElement(i,r){return Oc(i,r)}containsElement(i,r){return Pc(i,r)}query(i,r,f){return ep(i,r,f)}computeStyle(i,r,f){return window.getComputedStyle(i)[r]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,r,f,p,E,A=[],P){if(!P&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,r,f,p,E,A);const Fe={duration:f,delay:p,fill:0==p?"both":"forwards"};E&&(Fe.easing=E);const Le={},rt=A.filter(ot=>ot instanceof tm);sp(f,p)&&rt.forEach(ot=>{let vt=ot.currentSnapshot;Object.keys(vt).forEach(It=>Le[It]=vt[It])});const Qe=Ap(i,r=Ph(i,r=r.map(ot=>qu(ot,!1)),Le));return new tm(i,r,Fe,Qe)}}function Jh(){return Eh()&&Element.prototype.animate||{}}let Lp=(()=>{class u extends bf{constructor(r,f){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(f.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(r){const f=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(r)?Yd(r):r;return rm(this._renderer,null,f,"register",[p]),new Ty(f,this._renderer)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(v.FYo),v.LFG(k.K0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class Ty extends class{}{constructor(i,r){super(),this._id=i,this._renderer=r}create(i,r){return new ds(this._id,i,r||{},this._renderer)}}class ds{constructor(i,r,f,p){this.id=i,this.element=r,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(i,r){return this._renderer.listen(this.element,`@@${this.id}:${i}`,r)}_command(i,...r){return rm(this._renderer,this.element,this.id,i,r)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,r;return null!=(r=null==(i=this._renderer.engine.players[+this.id])?void 0:i.getPosition())?r:0}}function rm(u,i,r,f,p){return u.setProperty(i,`@@${r}:${f}`,p)}const ed="@.disabled";let kp=(()=>{class u{constructor(r,f,p){this.delegate=r,this.engine=f,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(E,A)=>{const P=null==A?void 0:A.parentNode(E);P&&A.removeChild(P,E)}}createRenderer(r,f){const E=this.delegate.createRenderer(r,f);if(!(r&&f&&f.data&&f.data.animation)){let Fe=this._rendererCache.get(E);return Fe||(Fe=new td("",E,this.engine),this._rendererCache.set(E,Fe)),Fe}const A=f.id,P=f.id+"-"+this._currentId;this._currentId++,this.engine.register(P,r);const G=Fe=>{Array.isArray(Fe)?Fe.forEach(G):this.engine.registerTrigger(A,P,r,Fe.name,Fe)};return f.data.animation.forEach(G),new im(this,P,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,f,p){r>=0&&r<this._microtaskId?this._zone.run(()=>f(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[A,P]=E;A(P)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(v.FYo),v.LFG(Hc),v.LFG(v.R0b))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class td{constructor(i,r,f){this.namespaceId=i,this.delegate=r,this.engine=f,this.destroyNode=this.delegate.destroyNode?p=>r.destroyNode(p):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,r){return this.delegate.createElement(i,r)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,r){this.delegate.appendChild(i,r),this.engine.onInsert(this.namespaceId,r,i,!1)}insertBefore(i,r,f,p=!0){this.delegate.insertBefore(i,r,f),this.engine.onInsert(this.namespaceId,r,i,p)}removeChild(i,r,f){this.engine.onRemove(this.namespaceId,r,this.delegate,f)}selectRootElement(i,r){return this.delegate.selectRootElement(i,r)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,r,f,p){this.delegate.setAttribute(i,r,f,p)}removeAttribute(i,r,f){this.delegate.removeAttribute(i,r,f)}addClass(i,r){this.delegate.addClass(i,r)}removeClass(i,r){this.delegate.removeClass(i,r)}setStyle(i,r,f,p){this.delegate.setStyle(i,r,f,p)}removeStyle(i,r,f){this.delegate.removeStyle(i,r,f)}setProperty(i,r,f){"@"==r.charAt(0)&&r==ed?this.disableAnimations(i,!!f):this.delegate.setProperty(i,r,f)}setValue(i,r){this.delegate.setValue(i,r)}listen(i,r,f){return this.delegate.listen(i,r,f)}disableAnimations(i,r){this.engine.disableAnimations(i,r)}}class im extends td{constructor(i,r,f,p){super(r,f,p),this.factory=i,this.namespaceId=r}setProperty(i,r,f){"@"==r.charAt(0)?"."==r.charAt(1)&&r==ed?this.disableAnimations(i,f=void 0===f||!!f):this.engine.process(this.namespaceId,i,r.substr(1),f):this.delegate.setProperty(i,r,f)}listen(i,r,f){if("@"==r.charAt(0)){const p=function(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(i);let E=r.substr(1),A="";return"@"!=E.charAt(0)&&([E,A]=function(u){const i=u.indexOf(".");return[u.substring(0,i),u.substr(i+1)]}(E)),this.engine.listen(this.namespaceId,p,E,A,P=>{this.factory.scheduleListenerCallback(P._data||-1,f,P)})}return this.delegate.listen(i,r,f)}}let nd=(()=>{class u extends Hc{constructor(r,f,p){super(r.body,f,p)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.K0),v.LFG(Ch),v.LFG(kh))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const Up=new v.OlP("AnimationModuleType"),jp=[{provide:bf,useClass:Lp},{provide:kh,useFactory:function(){return new kg}},{provide:Hc,useClass:nd},{provide:v.FYo,useFactory:function(u,i,r){return new kp(u,i,r)},deps:[J,Hc,v.R0b]}],Bp=[{provide:Ch,useFactory:function(){return"function"==typeof Jh()?new Zh:new Qh}},{provide:Up,useValue:"BrowserAnimations"},...jp],am=[{provide:Ch,useClass:np},{provide:Up,useValue:"NoopAnimations"},...jp];let um=(()=>{class u{static withConfig(r){return{ngModule:u,providers:r.disableAnimations?am:Bp}}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:Bp,imports:[pt]}),u})();class Ju{}class Hp{}class wo{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(r=>{const f=r.indexOf(":");if(f>0){const p=r.slice(0,f),E=p.toLowerCase(),A=r.slice(f+1).trim();this.maybeSetNormalizedName(p,E),this.headers.has(E)?this.headers.get(E).push(A):this.headers.set(E,[A])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(r=>{let f=i[r];const p=r.toLowerCase();"string"==typeof f&&(f=[f]),f.length>0&&(this.headers.set(p,f),this.maybeSetNormalizedName(r,p))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const r=this.headers.get(i.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,r){return this.clone({name:i,value:r,op:"a"})}set(i,r){return this.clone({name:i,value:r,op:"s"})}delete(i,r){return this.clone({name:i,value:r,op:"d"})}maybeSetNormalizedName(i,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,i)}init(){this.lazyInit&&(this.lazyInit instanceof wo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(r=>{this.headers.set(r,i.headers.get(r)),this.normalizedNames.set(r,i.normalizedNames.get(r))})}clone(i){const r=new wo;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof wo?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([i]),r}applyUpdate(i){const r=i.name.toLowerCase();switch(i.op){case"a":case"s":let f=i.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(i.name,r);const p=("a"===i.op?this.headers.get(r):void 0)||[];p.push(...f),this.headers.set(r,p);break;case"d":const E=i.value;if(E){let A=this.headers.get(r);if(!A)return;A=A.filter(P=>-1===E.indexOf(P)),0===A.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,A)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>i(this.normalizedNames.get(r),this.headers.get(r)))}}class lm{encodeKey(i){return $l(i)}encodeValue(i){return $l(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const od=/%(\d[a-f0-9])/gi,Vs={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $l(u){return encodeURIComponent(u).replace(od,(i,r)=>{var f;return null!=(f=Vs[r])?f:i})}function ci(u){return`${u}`}class Qi{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new lm,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(u,i){const r=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(p=>{const E=p.indexOf("="),[A,P]=-1==E?[i.decodeKey(p),""]:[i.decodeKey(p.slice(0,E)),i.decodeValue(p.slice(E+1))],G=r.get(A)||[];G.push(P),r.set(A,G)}),r}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(r=>{const f=i.fromObject[r];this.map.set(r,Array.isArray(f)?f:[f])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const r=this.map.get(i);return r?r[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,r){return this.clone({param:i,value:r,op:"a"})}appendAll(i){const r=[];return Object.keys(i).forEach(f=>{const p=i[f];Array.isArray(p)?p.forEach(E=>{r.push({param:f,value:E,op:"a"})}):r.push({param:f,value:p,op:"a"})}),this.clone(r)}set(i,r){return this.clone({param:i,value:r,op:"s"})}delete(i,r){return this.clone({param:i,value:r,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const r=this.encoder.encodeKey(i);return this.map.get(i).map(f=>r+"="+this.encoder.encodeValue(f)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const r=new Qi({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(i),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const r=("a"===i.op?this.map.get(i.param):void 0)||[];r.push(ci(i.value)),this.map.set(i.param,r);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let f=this.map.get(i.param)||[];const p=f.indexOf(ci(i.value));-1!==p&&f.splice(p,1),f.length>0?this.map.set(i.param,f):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Go{constructor(){this.map=new Map}set(i,r){return this.map.set(i,r),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function Xu(u){return"undefined"!=typeof ArrayBuffer&&u instanceof ArrayBuffer}function el(u){return"undefined"!=typeof Blob&&u instanceof Blob}function tl(u){return"undefined"!=typeof FormData&&u instanceof FormData}class Us{constructor(i,r,f,p){let E;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||p?(this.body=void 0!==f?f:null,E=p):E=f,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params)),this.headers||(this.headers=new wo),this.context||(this.context=new Go),this.params){const A=this.params.toString();if(0===A.length)this.urlWithParams=r;else{const P=r.indexOf("?");this.urlWithParams=r+(-1===P?"?":P<r.length-1?"&":"")+A}}else this.params=new Qi,this.urlWithParams=r}serializeBody(){return null===this.body?null:Xu(this.body)||el(this.body)||tl(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tl(this.body)?null:el(this.body)?this.body.type||null:Xu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var Le;const r=i.method||this.method,f=i.url||this.url,p=i.responseType||this.responseType,E=void 0!==i.body?i.body:this.body,A=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,P=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let G=i.headers||this.headers,ue=i.params||this.params;const Fe=null!=(Le=i.context)?Le:this.context;return void 0!==i.setHeaders&&(G=Object.keys(i.setHeaders).reduce((rt,Qe)=>rt.set(Qe,i.setHeaders[Qe]),G)),i.setParams&&(ue=Object.keys(i.setParams).reduce((rt,Qe)=>rt.set(Qe,i.setParams[Qe]),ue)),new Us(r,f,E,{params:ue,headers:G,context:Fe,reportProgress:P,responseType:p,withCredentials:A})}}var Yn=(()=>((Yn=Yn||{})[Yn.Sent=0]="Sent",Yn[Yn.UploadProgress=1]="UploadProgress",Yn[Yn.ResponseHeader=2]="ResponseHeader",Yn[Yn.DownloadProgress=3]="DownloadProgress",Yn[Yn.Response=4]="Response",Yn[Yn.User=5]="User",Yn))();class hu{constructor(i,r=200,f="OK"){this.headers=i.headers||new wo,this.status=void 0!==i.status?i.status:r,this.statusText=i.statusText||f,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class du extends hu{constructor(i={}){super(i),this.type=Yn.ResponseHeader}clone(i={}){return new du({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class _a extends hu{constructor(i={}){super(i),this.type=Yn.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new _a({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ud extends hu{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Hf(u,i){return{body:i,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let ld=(()=>{class u{constructor(r){this.handler=r}request(r,f,p={}){let E;if(r instanceof Us)E=r;else{let G,ue;G=p.headers instanceof wo?p.headers:new wo(p.headers),p.params&&(ue=p.params instanceof Qi?p.params:new Qi({fromObject:p.params})),E=new Us(r,f,void 0!==p.body?p.body:null,{headers:G,context:p.context,params:ue,reportProgress:p.reportProgress,responseType:p.responseType||"json",withCredentials:p.withCredentials})}const A=(0,Tt.of)(E).pipe(Vr(G=>this.handler.handle(G)));if(r instanceof Us||"events"===p.observe)return A;const P=A.pipe((0,ai.h)(G=>G instanceof _a));switch(p.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return P.pipe((0,Xt.U)(G=>{if(null!==G.body&&!(G.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return G.body}));case"blob":return P.pipe((0,Xt.U)(G=>{if(null!==G.body&&!(G.body instanceof Blob))throw new Error("Response is not a Blob.");return G.body}));case"text":return P.pipe((0,Xt.U)(G=>{if(null!==G.body&&"string"!=typeof G.body)throw new Error("Response is not a string.");return G.body}));default:return P.pipe((0,Xt.U)(G=>G.body))}case"response":return P;default:throw new Error(`Unreachable: unhandled observe type ${p.observe}}`)}}delete(r,f={}){return this.request("DELETE",r,f)}get(r,f={}){return this.request("GET",r,f)}head(r,f={}){return this.request("HEAD",r,f)}jsonp(r,f){return this.request("JSONP",r,{params:(new Qi).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,f={}){return this.request("OPTIONS",r,f)}patch(r,f,p={}){return this.request("PATCH",r,Hf(p,f))}post(r,f,p={}){return this.request("POST",r,Hf(p,f))}put(r,f,p={}){return this.request("PUT",r,Hf(p,f))}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(Ju))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class cd{constructor(i,r){this.next=i,this.interceptor=r}handle(i){return this.interceptor.intercept(i,this.next)}}const fd=new v.OlP("HTTP_INTERCEPTORS");let Gp=(()=>{class u{intercept(r,f){return f.handle(r)}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const $p=/^\)\]\}',?\n/;let zp=(()=>{class u{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fr.y(f=>{const p=this.xhrFactory.build();if(p.open(r.method,r.urlWithParams),r.withCredentials&&(p.withCredentials=!0),r.headers.forEach((Qe,ot)=>p.setRequestHeader(Qe,ot.join(","))),r.headers.has("Accept")||p.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const Qe=r.detectContentTypeHeader();null!==Qe&&p.setRequestHeader("Content-Type",Qe)}if(r.responseType){const Qe=r.responseType.toLowerCase();p.responseType="json"!==Qe?Qe:"text"}const E=r.serializeBody();let A=null;const P=()=>{if(null!==A)return A;const Qe=1223===p.status?204:p.status,ot=p.statusText||"OK",vt=new wo(p.getAllResponseHeaders()),It=function(u){return"responseURL"in u&&u.responseURL?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null}(p)||r.url;return A=new du({headers:vt,status:Qe,statusText:ot,url:It}),A},G=()=>{let{headers:Qe,status:ot,statusText:vt,url:It}=P(),Gt=null;204!==ot&&(Gt=void 0===p.response?p.responseText:p.response),0===ot&&(ot=Gt?200:0);let gn=ot>=200&&ot<300;if("json"===r.responseType&&"string"==typeof Gt){const fr=Gt;Gt=Gt.replace($p,"");try{Gt=""!==Gt?JSON.parse(Gt):null}catch(Fn){Gt=fr,gn&&(gn=!1,Gt={error:Fn,text:Gt})}}gn?(f.next(new _a({body:Gt,headers:Qe,status:ot,statusText:vt,url:It||void 0})),f.complete()):f.error(new ud({error:Gt,headers:Qe,status:ot,statusText:vt,url:It||void 0}))},ue=Qe=>{const{url:ot}=P(),vt=new ud({error:Qe,status:p.status||0,statusText:p.statusText||"Unknown Error",url:ot||void 0});f.error(vt)};let Fe=!1;const Le=Qe=>{Fe||(f.next(P()),Fe=!0);let ot={type:Yn.DownloadProgress,loaded:Qe.loaded};Qe.lengthComputable&&(ot.total=Qe.total),"text"===r.responseType&&!!p.responseText&&(ot.partialText=p.responseText),f.next(ot)},rt=Qe=>{let ot={type:Yn.UploadProgress,loaded:Qe.loaded};Qe.lengthComputable&&(ot.total=Qe.total),f.next(ot)};return p.addEventListener("load",G),p.addEventListener("error",ue),p.addEventListener("timeout",ue),p.addEventListener("abort",ue),r.reportProgress&&(p.addEventListener("progress",Le),null!==E&&p.upload&&p.upload.addEventListener("progress",rt)),p.send(E),f.next({type:Yn.Sent}),()=>{p.removeEventListener("error",ue),p.removeEventListener("abort",ue),p.removeEventListener("load",G),p.removeEventListener("timeout",ue),r.reportProgress&&(p.removeEventListener("progress",Le),null!==E&&p.upload&&p.upload.removeEventListener("progress",rt)),p.readyState!==p.DONE&&p.abort()}})}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.JF))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();const Gf=new v.OlP("XSRF_COOKIE_NAME"),hd=new v.OlP("XSRF_HEADER_NAME");class dd{}let mm=(()=>{class u{constructor(r,f,p){this.doc=r,this.platform=f,this.cookieName=p,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k.Mx)(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(k.K0),v.LFG(v.Lbi),v.LFG(Gf))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),pd=(()=>{class u{constructor(r,f){this.tokenService=r,this.headerName=f}intercept(r,f){const p=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||p.startsWith("http://")||p.startsWith("https://"))return f.handle(r);const E=this.tokenService.getToken();return null!==E&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,E)})),f.handle(r)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(dd),v.LFG(hd))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),Py=(()=>{class u{constructor(r,f){this.backend=r,this.injector=f,this.chain=null}handle(r){if(null===this.chain){const f=this.injector.get(fd,[]);this.chain=f.reduceRight((p,E)=>new cd(p,E),this.backend)}return this.chain.handle(r)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(Hp),v.LFG(v.zs3))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),gd=(()=>{class u{static disable(){return{ngModule:u,providers:[{provide:pd,useClass:Gp}]}}static withOptions(r={}){return{ngModule:u,providers:[r.cookieName?{provide:Gf,useValue:r.cookieName}:[],r.headerName?{provide:hd,useValue:r.headerName}:[]]}}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:[pd,{provide:fd,useExisting:pd,multi:!0},{provide:dd,useClass:mm},{provide:Gf,useValue:"XSRF-TOKEN"},{provide:hd,useValue:"X-XSRF-TOKEN"}]}),u})(),Wp=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:[ld,{provide:Ju,useClass:Py},zp,{provide:Hp,useExisting:zp}],imports:[[gd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),u})(),xy=(()=>{class u{constructor(r){this.http=r}saveUser(r){this.http.post("https://ux-products-f66bd-default-rtdb.europe-west1.firebasedatabase.app",r)}}return u.\u0275fac=function(r){return new(r||u)(v.LFG(ld))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var ym=K(2488);const md={production:!0};let Fy=(()=>{class u{}return u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=v.oAB({type:u,bootstrap:[Wd]}),u.\u0275inj=v.cJS({providers:[xy,Wp],imports:[[k.ez,pt,pl,cs,Wp,Bd,um,ym.AngularFireModule.initializeApp(md),mh.AngularFirestoreModule]]}),u})();md.production&&(0,v.G48)(),_t().bootstrapModule(Fy).catch(u=>console.error(u))},7796:(ht,ce,K)=>{K.r(ce),K.d(ce,{__extends:()=>v,__assign:()=>Ae,__rest:()=>ye,__decorate:()=>ae,__param:()=>Ve,__metadata:()=>de,__awaiter:()=>ze,__generator:()=>Ce,__createBinding:()=>q,__exportStar:()=>Y,__values:()=>_e,__read:()=>Ie,__spread:()=>ie,__spreadArrays:()=>Oe,__await:()=>Ge,__asyncGenerator:()=>Me,__asyncDelegator:()=>we,__asyncValues:()=>ve,__makeTemplateObject:()=>me,__importStar:()=>Ee,__importDefault:()=>Je,__classPrivateFieldGet:()=>qe,__classPrivateFieldSet:()=>tt});var k=function(L,H){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var U in R)R.hasOwnProperty(U)&&(T[U]=R[U])})(L,H)};function v(L,H){function T(){this.constructor=L}k(L,H),L.prototype=null===H?Object.create(H):(T.prototype=H.prototype,new T)}var Ae=function(){return Ae=Object.assign||function(H){for(var T,R=1,U=arguments.length;R<U;R++)for(var F in T=arguments[R])Object.prototype.hasOwnProperty.call(T,F)&&(H[F]=T[F]);return H},Ae.apply(this,arguments)};function ye(L,H){var T={};for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&H.indexOf(R)<0&&(T[R]=L[R]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(R=Object.getOwnPropertySymbols(L);U<R.length;U++)H.indexOf(R[U])<0&&Object.prototype.propertyIsEnumerable.call(L,R[U])&&(T[R[U]]=L[R[U]])}return T}function ae(L,H,T,R){var J,U=arguments.length,F=U<3?H:null===R?R=Object.getOwnPropertyDescriptor(H,T):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(L,H,T,R);else for(var Z=L.length-1;Z>=0;Z--)(J=L[Z])&&(F=(U<3?J(F):U>3?J(H,T,F):J(H,T))||F);return U>3&&F&&Object.defineProperty(H,T,F),F}function Ve(L,H){return function(T,R){H(T,R,L)}}function de(L,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(L,H)}function ze(L,H,T,R){return new(T||(T=Promise))(function(F,J){function Z(et){try{fe(R.next(et))}catch(je){J(je)}}function Re(et){try{fe(R.throw(et))}catch(je){J(je)}}function fe(et){et.done?F(et.value):function(F){return F instanceof T?F:new T(function(J){J(F)})}(et.value).then(Z,Re)}fe((R=R.apply(L,H||[])).next())})}function Ce(L,H){var R,U,F,J,T={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return J={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function Z(fe){return function(et){return function(fe){if(R)throw new TypeError("Generator is already executing.");for(;T;)try{if(R=1,U&&(F=2&fe[0]?U.return:fe[0]?U.throw||((F=U.return)&&F.call(U),0):U.next)&&!(F=F.call(U,fe[1])).done)return F;switch(U=0,F&&(fe=[2&fe[0],F.value]),fe[0]){case 0:case 1:F=fe;break;case 4:return T.label++,{value:fe[1],done:!1};case 5:T.label++,U=fe[1],fe=[0];continue;case 7:fe=T.ops.pop(),T.trys.pop();continue;default:if(!(F=(F=T.trys).length>0&&F[F.length-1])&&(6===fe[0]||2===fe[0])){T=0;continue}if(3===fe[0]&&(!F||fe[1]>F[0]&&fe[1]<F[3])){T.label=fe[1];break}if(6===fe[0]&&T.label<F[1]){T.label=F[1],F=fe;break}if(F&&T.label<F[2]){T.label=F[2],T.ops.push(fe);break}F[2]&&T.ops.pop(),T.trys.pop();continue}fe=H.call(L,T)}catch(et){fe=[6,et],U=0}finally{R=F=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}([fe,et])}}}function q(L,H,T,R){void 0===R&&(R=T),L[R]=H[T]}function Y(L,H){for(var T in L)"default"!==T&&!H.hasOwnProperty(T)&&(H[T]=L[T])}function _e(L){var H="function"==typeof Symbol&&Symbol.iterator,T=H&&L[H],R=0;if(T)return T.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&R>=L.length&&(L=void 0),{value:L&&L[R++],done:!L}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(L,H){var T="function"==typeof Symbol&&L[Symbol.iterator];if(!T)return L;var U,J,R=T.call(L),F=[];try{for(;(void 0===H||H-- >0)&&!(U=R.next()).done;)F.push(U.value)}catch(Z){J={error:Z}}finally{try{U&&!U.done&&(T=R.return)&&T.call(R)}finally{if(J)throw J.error}}return F}function ie(){for(var L=[],H=0;H<arguments.length;H++)L=L.concat(Ie(arguments[H]));return L}function Oe(){for(var L=0,H=0,T=arguments.length;H<T;H++)L+=arguments[H].length;var R=Array(L),U=0;for(H=0;H<T;H++)for(var F=arguments[H],J=0,Z=F.length;J<Z;J++,U++)R[U]=F[J];return R}function Ge(L){return this instanceof Ge?(this.v=L,this):new Ge(L)}function Me(L,H,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=T.apply(L,H||[]),F=[];return U={},J("next"),J("throw"),J("return"),U[Symbol.asyncIterator]=function(){return this},U;function J(Te){R[Te]&&(U[Te]=function(ut){return new Promise(function(yt,yn){F.push([Te,ut,yt,yn])>1||Z(Te,ut)})})}function Z(Te,ut){try{!function(Te){Te.value instanceof Ge?Promise.resolve(Te.value.v).then(fe,et):je(F[0][2],Te)}(R[Te](ut))}catch(yt){je(F[0][3],yt)}}function fe(Te){Z("next",Te)}function et(Te){Z("throw",Te)}function je(Te,ut){Te(ut),F.shift(),F.length&&Z(F[0][0],F[0][1])}}function we(L){var H,T;return H={},R("next"),R("throw",function(U){throw U}),R("return"),H[Symbol.iterator]=function(){return this},H;function R(U,F){H[U]=L[U]?function(J){return(T=!T)?{value:Ge(L[U](J)),done:"return"===U}:F?F(J):J}:F}}function ve(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,H=L[Symbol.asyncIterator];return H?H.call(L):(L=_e(L),T={},R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this},T);function R(F){T[F]=L[F]&&function(J){return new Promise(function(Z,Re){!function(F,J,Z,Re){Promise.resolve(Re).then(function(fe){F({value:fe,done:Z})},J)}(Z,Re,(J=L[F](J)).done,J.value)})}}}function me(L,H){return Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H,L}function Ee(L){if(L&&L.__esModule)return L;var H={};if(null!=L)for(var T in L)Object.hasOwnProperty.call(L,T)&&(H[T]=L[T]);return H.default=L,H}function Je(L){return L&&L.__esModule?L:{default:L}}function qe(L,H){if(!H.has(L))throw new TypeError("attempted to get private field on non-instance");return H.get(L)}function tt(L,H,T){if(!H.has(L))throw new TypeError("attempted to set private field on non-instance");return H.set(L,T),T}},5385:(ht,ce,K)=>{K.r(ce),K.d(ce,{__extends:()=>v,__assign:()=>Ae,__rest:()=>ye,__decorate:()=>ae,__param:()=>Ve,__metadata:()=>de,__awaiter:()=>ze,__generator:()=>Ce,__createBinding:()=>q,__exportStar:()=>Y,__values:()=>_e,__read:()=>Ie,__spread:()=>ie,__spreadArrays:()=>Oe,__await:()=>Ge,__asyncGenerator:()=>Me,__asyncDelegator:()=>we,__asyncValues:()=>ve,__makeTemplateObject:()=>me,__importStar:()=>Ee,__importDefault:()=>Je,__classPrivateFieldGet:()=>qe,__classPrivateFieldSet:()=>tt});var k=function(L,H){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var U in R)R.hasOwnProperty(U)&&(T[U]=R[U])})(L,H)};function v(L,H){function T(){this.constructor=L}k(L,H),L.prototype=null===H?Object.create(H):(T.prototype=H.prototype,new T)}var Ae=function(){return Ae=Object.assign||function(H){for(var T,R=1,U=arguments.length;R<U;R++)for(var F in T=arguments[R])Object.prototype.hasOwnProperty.call(T,F)&&(H[F]=T[F]);return H},Ae.apply(this,arguments)};function ye(L,H){var T={};for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&H.indexOf(R)<0&&(T[R]=L[R]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(R=Object.getOwnPropertySymbols(L);U<R.length;U++)H.indexOf(R[U])<0&&Object.prototype.propertyIsEnumerable.call(L,R[U])&&(T[R[U]]=L[R[U]])}return T}function ae(L,H,T,R){var J,U=arguments.length,F=U<3?H:null===R?R=Object.getOwnPropertyDescriptor(H,T):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(L,H,T,R);else for(var Z=L.length-1;Z>=0;Z--)(J=L[Z])&&(F=(U<3?J(F):U>3?J(H,T,F):J(H,T))||F);return U>3&&F&&Object.defineProperty(H,T,F),F}function Ve(L,H){return function(T,R){H(T,R,L)}}function de(L,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(L,H)}function ze(L,H,T,R){return new(T||(T=Promise))(function(F,J){function Z(et){try{fe(R.next(et))}catch(je){J(je)}}function Re(et){try{fe(R.throw(et))}catch(je){J(je)}}function fe(et){et.done?F(et.value):function(F){return F instanceof T?F:new T(function(J){J(F)})}(et.value).then(Z,Re)}fe((R=R.apply(L,H||[])).next())})}function Ce(L,H){var R,U,F,J,T={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return J={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function Z(fe){return function(et){return function(fe){if(R)throw new TypeError("Generator is already executing.");for(;T;)try{if(R=1,U&&(F=2&fe[0]?U.return:fe[0]?U.throw||((F=U.return)&&F.call(U),0):U.next)&&!(F=F.call(U,fe[1])).done)return F;switch(U=0,F&&(fe=[2&fe[0],F.value]),fe[0]){case 0:case 1:F=fe;break;case 4:return T.label++,{value:fe[1],done:!1};case 5:T.label++,U=fe[1],fe=[0];continue;case 7:fe=T.ops.pop(),T.trys.pop();continue;default:if(!(F=(F=T.trys).length>0&&F[F.length-1])&&(6===fe[0]||2===fe[0])){T=0;continue}if(3===fe[0]&&(!F||fe[1]>F[0]&&fe[1]<F[3])){T.label=fe[1];break}if(6===fe[0]&&T.label<F[1]){T.label=F[1],F=fe;break}if(F&&T.label<F[2]){T.label=F[2],T.ops.push(fe);break}F[2]&&T.ops.pop(),T.trys.pop();continue}fe=H.call(L,T)}catch(et){fe=[6,et],U=0}finally{R=F=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}([fe,et])}}}function q(L,H,T,R){void 0===R&&(R=T),L[R]=H[T]}function Y(L,H){for(var T in L)"default"!==T&&!H.hasOwnProperty(T)&&(H[T]=L[T])}function _e(L){var H="function"==typeof Symbol&&Symbol.iterator,T=H&&L[H],R=0;if(T)return T.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&R>=L.length&&(L=void 0),{value:L&&L[R++],done:!L}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(L,H){var T="function"==typeof Symbol&&L[Symbol.iterator];if(!T)return L;var U,J,R=T.call(L),F=[];try{for(;(void 0===H||H-- >0)&&!(U=R.next()).done;)F.push(U.value)}catch(Z){J={error:Z}}finally{try{U&&!U.done&&(T=R.return)&&T.call(R)}finally{if(J)throw J.error}}return F}function ie(){for(var L=[],H=0;H<arguments.length;H++)L=L.concat(Ie(arguments[H]));return L}function Oe(){for(var L=0,H=0,T=arguments.length;H<T;H++)L+=arguments[H].length;var R=Array(L),U=0;for(H=0;H<T;H++)for(var F=arguments[H],J=0,Z=F.length;J<Z;J++,U++)R[U]=F[J];return R}function Ge(L){return this instanceof Ge?(this.v=L,this):new Ge(L)}function Me(L,H,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=T.apply(L,H||[]),F=[];return U={},J("next"),J("throw"),J("return"),U[Symbol.asyncIterator]=function(){return this},U;function J(Te){R[Te]&&(U[Te]=function(ut){return new Promise(function(yt,yn){F.push([Te,ut,yt,yn])>1||Z(Te,ut)})})}function Z(Te,ut){try{!function(Te){Te.value instanceof Ge?Promise.resolve(Te.value.v).then(fe,et):je(F[0][2],Te)}(R[Te](ut))}catch(yt){je(F[0][3],yt)}}function fe(Te){Z("next",Te)}function et(Te){Z("throw",Te)}function je(Te,ut){Te(ut),F.shift(),F.length&&Z(F[0][0],F[0][1])}}function we(L){var H,T;return H={},R("next"),R("throw",function(U){throw U}),R("return"),H[Symbol.iterator]=function(){return this},H;function R(U,F){H[U]=L[U]?function(J){return(T=!T)?{value:Ge(L[U](J)),done:"return"===U}:F?F(J):J}:F}}function ve(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,H=L[Symbol.asyncIterator];return H?H.call(L):(L=_e(L),T={},R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this},T);function R(F){T[F]=L[F]&&function(J){return new Promise(function(Z,Re){!function(F,J,Z,Re){Promise.resolve(Re).then(function(fe){F({value:fe,done:Z})},J)}(Z,Re,(J=L[F](J)).done,J.value)})}}}function me(L,H){return Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H,L}function Ee(L){if(L&&L.__esModule)return L;var H={};if(null!=L)for(var T in L)Object.hasOwnProperty.call(L,T)&&(H[T]=L[T]);return H.default=L,H}function Je(L){return L&&L.__esModule?L:{default:L}}function qe(L,H){if(!H.has(L))throw new TypeError("attempted to get private field on non-instance");return H.get(L)}function tt(L,H,T){if(!H.has(L))throw new TypeError("attempted to set private field on non-instance");return H.set(L,T),T}},5704:(ht,ce,K)=>{K.r(ce),K.d(ce,{__extends:()=>v,__assign:()=>Ae,__rest:()=>ye,__decorate:()=>ae,__param:()=>Ve,__metadata:()=>de,__awaiter:()=>ze,__generator:()=>Ce,__createBinding:()=>q,__exportStar:()=>Y,__values:()=>_e,__read:()=>Ie,__spread:()=>ie,__spreadArrays:()=>Oe,__await:()=>Ge,__asyncGenerator:()=>Me,__asyncDelegator:()=>we,__asyncValues:()=>ve,__makeTemplateObject:()=>me,__importStar:()=>Ee,__importDefault:()=>Je,__classPrivateFieldGet:()=>qe,__classPrivateFieldSet:()=>tt});var k=function(L,H){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var U in R)R.hasOwnProperty(U)&&(T[U]=R[U])})(L,H)};function v(L,H){function T(){this.constructor=L}k(L,H),L.prototype=null===H?Object.create(H):(T.prototype=H.prototype,new T)}var Ae=function(){return Ae=Object.assign||function(H){for(var T,R=1,U=arguments.length;R<U;R++)for(var F in T=arguments[R])Object.prototype.hasOwnProperty.call(T,F)&&(H[F]=T[F]);return H},Ae.apply(this,arguments)};function ye(L,H){var T={};for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&H.indexOf(R)<0&&(T[R]=L[R]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(R=Object.getOwnPropertySymbols(L);U<R.length;U++)H.indexOf(R[U])<0&&Object.prototype.propertyIsEnumerable.call(L,R[U])&&(T[R[U]]=L[R[U]])}return T}function ae(L,H,T,R){var J,U=arguments.length,F=U<3?H:null===R?R=Object.getOwnPropertyDescriptor(H,T):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(L,H,T,R);else for(var Z=L.length-1;Z>=0;Z--)(J=L[Z])&&(F=(U<3?J(F):U>3?J(H,T,F):J(H,T))||F);return U>3&&F&&Object.defineProperty(H,T,F),F}function Ve(L,H){return function(T,R){H(T,R,L)}}function de(L,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(L,H)}function ze(L,H,T,R){return new(T||(T=Promise))(function(F,J){function Z(et){try{fe(R.next(et))}catch(je){J(je)}}function Re(et){try{fe(R.throw(et))}catch(je){J(je)}}function fe(et){et.done?F(et.value):function(F){return F instanceof T?F:new T(function(J){J(F)})}(et.value).then(Z,Re)}fe((R=R.apply(L,H||[])).next())})}function Ce(L,H){var R,U,F,J,T={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return J={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function Z(fe){return function(et){return function(fe){if(R)throw new TypeError("Generator is already executing.");for(;T;)try{if(R=1,U&&(F=2&fe[0]?U.return:fe[0]?U.throw||((F=U.return)&&F.call(U),0):U.next)&&!(F=F.call(U,fe[1])).done)return F;switch(U=0,F&&(fe=[2&fe[0],F.value]),fe[0]){case 0:case 1:F=fe;break;case 4:return T.label++,{value:fe[1],done:!1};case 5:T.label++,U=fe[1],fe=[0];continue;case 7:fe=T.ops.pop(),T.trys.pop();continue;default:if(!(F=(F=T.trys).length>0&&F[F.length-1])&&(6===fe[0]||2===fe[0])){T=0;continue}if(3===fe[0]&&(!F||fe[1]>F[0]&&fe[1]<F[3])){T.label=fe[1];break}if(6===fe[0]&&T.label<F[1]){T.label=F[1],F=fe;break}if(F&&T.label<F[2]){T.label=F[2],T.ops.push(fe);break}F[2]&&T.ops.pop(),T.trys.pop();continue}fe=H.call(L,T)}catch(et){fe=[6,et],U=0}finally{R=F=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}([fe,et])}}}function q(L,H,T,R){void 0===R&&(R=T),L[R]=H[T]}function Y(L,H){for(var T in L)"default"!==T&&!H.hasOwnProperty(T)&&(H[T]=L[T])}function _e(L){var H="function"==typeof Symbol&&Symbol.iterator,T=H&&L[H],R=0;if(T)return T.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&R>=L.length&&(L=void 0),{value:L&&L[R++],done:!L}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(L,H){var T="function"==typeof Symbol&&L[Symbol.iterator];if(!T)return L;var U,J,R=T.call(L),F=[];try{for(;(void 0===H||H-- >0)&&!(U=R.next()).done;)F.push(U.value)}catch(Z){J={error:Z}}finally{try{U&&!U.done&&(T=R.return)&&T.call(R)}finally{if(J)throw J.error}}return F}function ie(){for(var L=[],H=0;H<arguments.length;H++)L=L.concat(Ie(arguments[H]));return L}function Oe(){for(var L=0,H=0,T=arguments.length;H<T;H++)L+=arguments[H].length;var R=Array(L),U=0;for(H=0;H<T;H++)for(var F=arguments[H],J=0,Z=F.length;J<Z;J++,U++)R[U]=F[J];return R}function Ge(L){return this instanceof Ge?(this.v=L,this):new Ge(L)}function Me(L,H,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=T.apply(L,H||[]),F=[];return U={},J("next"),J("throw"),J("return"),U[Symbol.asyncIterator]=function(){return this},U;function J(Te){R[Te]&&(U[Te]=function(ut){return new Promise(function(yt,yn){F.push([Te,ut,yt,yn])>1||Z(Te,ut)})})}function Z(Te,ut){try{!function(Te){Te.value instanceof Ge?Promise.resolve(Te.value.v).then(fe,et):je(F[0][2],Te)}(R[Te](ut))}catch(yt){je(F[0][3],yt)}}function fe(Te){Z("next",Te)}function et(Te){Z("throw",Te)}function je(Te,ut){Te(ut),F.shift(),F.length&&Z(F[0][0],F[0][1])}}function we(L){var H,T;return H={},R("next"),R("throw",function(U){throw U}),R("return"),H[Symbol.iterator]=function(){return this},H;function R(U,F){H[U]=L[U]?function(J){return(T=!T)?{value:Ge(L[U](J)),done:"return"===U}:F?F(J):J}:F}}function ve(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,H=L[Symbol.asyncIterator];return H?H.call(L):(L=_e(L),T={},R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this},T);function R(F){T[F]=L[F]&&function(J){return new Promise(function(Z,Re){!function(F,J,Z,Re){Promise.resolve(Re).then(function(fe){F({value:fe,done:Z})},J)}(Z,Re,(J=L[F](J)).done,J.value)})}}}function me(L,H){return Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H,L}function Ee(L){if(L&&L.__esModule)return L;var H={};if(null!=L)for(var T in L)Object.hasOwnProperty.call(L,T)&&(H[T]=L[T]);return H.default=L,H}function Je(L){return L&&L.__esModule?L:{default:L}}function qe(L,H){if(!H.has(L))throw new TypeError("attempted to get private field on non-instance");return H.get(L)}function tt(L,H,T){if(!H.has(L))throw new TypeError("attempted to set private field on non-instance");return H.set(L,T),T}},5057:(ht,ce,K)=>{K.r(ce),K.d(ce,{__extends:()=>v,__assign:()=>Ae,__rest:()=>ye,__decorate:()=>ae,__param:()=>Ve,__metadata:()=>de,__awaiter:()=>ze,__generator:()=>Ce,__createBinding:()=>q,__exportStar:()=>Y,__values:()=>_e,__read:()=>Ie,__spread:()=>ie,__spreadArrays:()=>Oe,__await:()=>Ge,__asyncGenerator:()=>Me,__asyncDelegator:()=>we,__asyncValues:()=>ve,__makeTemplateObject:()=>me,__importStar:()=>Ee,__importDefault:()=>Je,__classPrivateFieldGet:()=>qe,__classPrivateFieldSet:()=>tt});var k=function(L,H){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var U in R)R.hasOwnProperty(U)&&(T[U]=R[U])})(L,H)};function v(L,H){function T(){this.constructor=L}k(L,H),L.prototype=null===H?Object.create(H):(T.prototype=H.prototype,new T)}var Ae=function(){return Ae=Object.assign||function(H){for(var T,R=1,U=arguments.length;R<U;R++)for(var F in T=arguments[R])Object.prototype.hasOwnProperty.call(T,F)&&(H[F]=T[F]);return H},Ae.apply(this,arguments)};function ye(L,H){var T={};for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&H.indexOf(R)<0&&(T[R]=L[R]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(R=Object.getOwnPropertySymbols(L);U<R.length;U++)H.indexOf(R[U])<0&&Object.prototype.propertyIsEnumerable.call(L,R[U])&&(T[R[U]]=L[R[U]])}return T}function ae(L,H,T,R){var J,U=arguments.length,F=U<3?H:null===R?R=Object.getOwnPropertyDescriptor(H,T):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(L,H,T,R);else for(var Z=L.length-1;Z>=0;Z--)(J=L[Z])&&(F=(U<3?J(F):U>3?J(H,T,F):J(H,T))||F);return U>3&&F&&Object.defineProperty(H,T,F),F}function Ve(L,H){return function(T,R){H(T,R,L)}}function de(L,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(L,H)}function ze(L,H,T,R){return new(T||(T=Promise))(function(F,J){function Z(et){try{fe(R.next(et))}catch(je){J(je)}}function Re(et){try{fe(R.throw(et))}catch(je){J(je)}}function fe(et){et.done?F(et.value):function(F){return F instanceof T?F:new T(function(J){J(F)})}(et.value).then(Z,Re)}fe((R=R.apply(L,H||[])).next())})}function Ce(L,H){var R,U,F,J,T={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return J={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function Z(fe){return function(et){return function(fe){if(R)throw new TypeError("Generator is already executing.");for(;T;)try{if(R=1,U&&(F=2&fe[0]?U.return:fe[0]?U.throw||((F=U.return)&&F.call(U),0):U.next)&&!(F=F.call(U,fe[1])).done)return F;switch(U=0,F&&(fe=[2&fe[0],F.value]),fe[0]){case 0:case 1:F=fe;break;case 4:return T.label++,{value:fe[1],done:!1};case 5:T.label++,U=fe[1],fe=[0];continue;case 7:fe=T.ops.pop(),T.trys.pop();continue;default:if(!(F=(F=T.trys).length>0&&F[F.length-1])&&(6===fe[0]||2===fe[0])){T=0;continue}if(3===fe[0]&&(!F||fe[1]>F[0]&&fe[1]<F[3])){T.label=fe[1];break}if(6===fe[0]&&T.label<F[1]){T.label=F[1],F=fe;break}if(F&&T.label<F[2]){T.label=F[2],T.ops.push(fe);break}F[2]&&T.ops.pop(),T.trys.pop();continue}fe=H.call(L,T)}catch(et){fe=[6,et],U=0}finally{R=F=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}([fe,et])}}}function q(L,H,T,R){void 0===R&&(R=T),L[R]=H[T]}function Y(L,H){for(var T in L)"default"!==T&&!H.hasOwnProperty(T)&&(H[T]=L[T])}function _e(L){var H="function"==typeof Symbol&&Symbol.iterator,T=H&&L[H],R=0;if(T)return T.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&R>=L.length&&(L=void 0),{value:L&&L[R++],done:!L}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(L,H){var T="function"==typeof Symbol&&L[Symbol.iterator];if(!T)return L;var U,J,R=T.call(L),F=[];try{for(;(void 0===H||H-- >0)&&!(U=R.next()).done;)F.push(U.value)}catch(Z){J={error:Z}}finally{try{U&&!U.done&&(T=R.return)&&T.call(R)}finally{if(J)throw J.error}}return F}function ie(){for(var L=[],H=0;H<arguments.length;H++)L=L.concat(Ie(arguments[H]));return L}function Oe(){for(var L=0,H=0,T=arguments.length;H<T;H++)L+=arguments[H].length;var R=Array(L),U=0;for(H=0;H<T;H++)for(var F=arguments[H],J=0,Z=F.length;J<Z;J++,U++)R[U]=F[J];return R}function Ge(L){return this instanceof Ge?(this.v=L,this):new Ge(L)}function Me(L,H,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=T.apply(L,H||[]),F=[];return U={},J("next"),J("throw"),J("return"),U[Symbol.asyncIterator]=function(){return this},U;function J(Te){R[Te]&&(U[Te]=function(ut){return new Promise(function(yt,yn){F.push([Te,ut,yt,yn])>1||Z(Te,ut)})})}function Z(Te,ut){try{!function(Te){Te.value instanceof Ge?Promise.resolve(Te.value.v).then(fe,et):je(F[0][2],Te)}(R[Te](ut))}catch(yt){je(F[0][3],yt)}}function fe(Te){Z("next",Te)}function et(Te){Z("throw",Te)}function je(Te,ut){Te(ut),F.shift(),F.length&&Z(F[0][0],F[0][1])}}function we(L){var H,T;return H={},R("next"),R("throw",function(U){throw U}),R("return"),H[Symbol.iterator]=function(){return this},H;function R(U,F){H[U]=L[U]?function(J){return(T=!T)?{value:Ge(L[U](J)),done:"return"===U}:F?F(J):J}:F}}function ve(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,H=L[Symbol.asyncIterator];return H?H.call(L):(L=_e(L),T={},R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this},T);function R(F){T[F]=L[F]&&function(J){return new Promise(function(Z,Re){!function(F,J,Z,Re){Promise.resolve(Re).then(function(fe){F({value:fe,done:Z})},J)}(Z,Re,(J=L[F](J)).done,J.value)})}}}function me(L,H){return Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H,L}function Ee(L){if(L&&L.__esModule)return L;var H={};if(null!=L)for(var T in L)Object.hasOwnProperty.call(L,T)&&(H[T]=L[T]);return H.default=L,H}function Je(L){return L&&L.__esModule?L:{default:L}}function qe(L,H){if(!H.has(L))throw new TypeError("attempted to get private field on non-instance");return H.get(L)}function tt(L,H,T){if(!H.has(L))throw new TypeError("attempted to set private field on non-instance");return H.set(L,T),T}},9162:(ht,ce,K)=>{function ze(T,R,U,F){return new(U||(U=Promise))(function(Z,Re){function fe(Te){try{je(F.next(Te))}catch(ut){Re(ut)}}function et(Te){try{je(F.throw(Te))}catch(ut){Re(ut)}}function je(Te){Te.done?Z(Te.value):function(Z){return Z instanceof U?Z:new U(function(Re){Re(Z)})}(Te.value).then(fe,et)}je((F=F.apply(T,R||[])).next())})}function Me(T){return this instanceof Me?(this.v=T,this):new Me(T)}function we(T,R,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,F=U.apply(T,R||[]),Z=[];return J={},Re("next"),Re("throw"),Re("return"),J[Symbol.asyncIterator]=function(){return this},J;function Re(yt){F[yt]&&(J[yt]=function(yn){return new Promise(function(hn,kn){Z.push([yt,yn,hn,kn])>1||fe(yt,yn)})})}function fe(yt,yn){try{!function(yt){yt.value instanceof Me?Promise.resolve(yt.value.v).then(je,Te):ut(Z[0][2],yt)}(F[yt](yn))}catch(hn){ut(Z[0][3],hn)}}function je(yt){fe("next",yt)}function Te(yt){fe("throw",yt)}function ut(yt,yn){yt(yn),Z.shift(),Z.length&&fe(Z[0][0],Z[0][1])}}function me(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,R=T[Symbol.asyncIterator];return R?R.call(T):(T=function(T){var R="function"==typeof Symbol&&Symbol.iterator,U=R&&T[R],F=0;if(U)return U.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&F>=T.length&&(T=void 0),{value:T&&T[F++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),U={},F("next"),F("throw"),F("return"),U[Symbol.asyncIterator]=function(){return this},U);function F(Z){U[Z]=T[Z]&&function(Re){return new Promise(function(fe,et){!function(Z,Re,fe,et){Promise.resolve(et).then(function(je){Z({value:je,done:fe})},Re)}(fe,et,(Re=T[Z](Re)).done,Re.value)})}}}K.d(ce,{mG:()=>ze,qq:()=>Me,FC:()=>we,KL:()=>me})},6019:(ht,ce,K)=>{K.d(ce,{mr:()=>ve,ez:()=>gi,K0:()=>de,Do:()=>Ee,V_:()=>q,Ye:()=>Je,S$:()=>Me,mk:()=>Lr,O5:()=>Mn,b0:()=>me,lw:()=>ze,EM:()=>Wn,JF:()=>an,PM:()=>To,w_:()=>Ve,bD:()=>Ws,q:()=>Ae,Mx:()=>Li,HT:()=>ae});var k=K(3556);let v=null;function Ae(){return v}function ae(I){v||(v=I)}class Ve{}const de=new k.OlP("DocumentToken");let ze=(()=>{class I{historyGo(M){throw new Error("Not implemented")}}return I.\u0275fac=function(M){return new(M||I)},I.\u0275prov=k.Yz7({token:I,factory:function(){return(0,k.LFG)(Y)},providedIn:"platform"}),I})();const q=new k.OlP("Location Initialized");let Y=(()=>{class I extends ze{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ae().getBaseHref(this._doc)}onPopState(M){const $=Ae().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",M,!1),()=>$.removeEventListener("popstate",M)}onHashChange(M){const $=Ae().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",M,!1),()=>$.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,$,se){_e()?this._history.pushState(M,$,se):this.location.hash=se}replaceState(M,$,se){_e()?this._history.replaceState(M,$,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return I.\u0275fac=function(M){return new(M||I)(k.LFG(de))},I.\u0275prov=k.Yz7({token:I,factory:function(){return new Y((0,k.LFG)(de))},providedIn:"platform"}),I})();function _e(){return!!window.history.pushState}function ie(I,j){if(0==I.length)return j;if(0==j.length)return I;let M=0;return I.endsWith("/")&&M++,j.startsWith("/")&&M++,2==M?I+j.substring(1):1==M?I+j:I+"/"+j}function Oe(I){const j=I.match(/#|\?|$/),M=j&&j.index||I.length;return I.slice(0,M-("/"===I[M-1]?1:0))+I.slice(M)}function Ge(I){return I&&"?"!==I[0]?"?"+I:I}let Me=(()=>{class I{historyGo(M){throw new Error("Not implemented")}}return I.\u0275fac=function(M){return new(M||I)},I.\u0275prov=k.Yz7({token:I,factory:function(){return function(I){const j=(0,k.LFG)(de).location;return new me((0,k.LFG)(ze),j&&j.origin||"")}()},providedIn:"root"}),I})();const ve=new k.OlP("appBaseHref");let me=(()=>{class I extends Me{constructor(M,$){if(super(),this._platformLocation=M,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ie(this._baseHref,M)}path(M=!1){const $=this._platformLocation.pathname+Ge(this._platformLocation.search),se=this._platformLocation.hash;return se&&M?`${$}${se}`:$}pushState(M,$,se,Ne){const xe=this.prepareExternalUrl(se+Ge(Ne));this._platformLocation.pushState(M,$,xe)}replaceState(M,$,se,Ne){const xe=this.prepareExternalUrl(se+Ge(Ne));this._platformLocation.replaceState(M,$,xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(M=0){var $,se;null==(se=($=this._platformLocation).historyGo)||se.call($,M)}}return I.\u0275fac=function(M){return new(M||I)(k.LFG(ze),k.LFG(ve,8))},I.\u0275prov=k.Yz7({token:I,factory:I.\u0275fac}),I})(),Ee=(()=>{class I extends Me{constructor(M,$){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(M){const $=ie(this._baseHref,M);return $.length>0?"#"+$:$}pushState(M,$,se,Ne){let xe=this.prepareExternalUrl(se+Ge(Ne));0==xe.length&&(xe=this._platformLocation.pathname),this._platformLocation.pushState(M,$,xe)}replaceState(M,$,se,Ne){let xe=this.prepareExternalUrl(se+Ge(Ne));0==xe.length&&(xe=this._platformLocation.pathname),this._platformLocation.replaceState(M,$,xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(M=0){var $,se;null==(se=($=this._platformLocation).historyGo)||se.call($,M)}}return I.\u0275fac=function(M){return new(M||I)(k.LFG(ze),k.LFG(ve,8))},I.\u0275prov=k.Yz7({token:I,factory:I.\u0275fac}),I})(),Je=(()=>{class I{constructor(M,$){this._subject=new k.vpe,this._urlChangeListeners=[],this._platformStrategy=M;const se=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=Oe(L(se)),this._platformStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}path(M=!1){return this.normalize(this._platformStrategy.path(M))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(M,$=""){return this.path()==this.normalize(M+Ge($))}normalize(M){return I.stripTrailingSlash(function(I,j){return I&&j.startsWith(I)?j.substring(I.length):j}(this._baseHref,L(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._platformStrategy.prepareExternalUrl(M)}go(M,$="",se=null){this._platformStrategy.pushState(se,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge($)),se)}replaceState(M,$="",se=null){this._platformStrategy.replaceState(se,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge($)),se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(M=0){var $,se;null==(se=($=this._platformStrategy).historyGo)||se.call($,M)}onUrlChange(M){this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(M="",$){this._urlChangeListeners.forEach(se=>se(M,$))}subscribe(M,$,se){return this._subject.subscribe({next:M,error:$,complete:se})}}return I.normalizeQueryParams=Ge,I.joinWithSlash=ie,I.stripTrailingSlash=Oe,I.\u0275fac=function(M){return new(M||I)(k.LFG(Me),k.LFG(ze))},I.\u0275prov=k.Yz7({token:I,factory:function(){return new Je((0,k.LFG)(Me),(0,k.LFG)(ze))},providedIn:"root"}),I})();function L(I){return I.replace(/\/index.html$/,"")}var R=(()=>((R=R||{})[R.Zero=0]="Zero",R[R.One=1]="One",R[R.Two=2]="Two",R[R.Few=3]="Few",R[R.Many=4]="Many",R[R.Other=5]="Other",R))();const it=k.kL8;class Hn{}let _r=(()=>{class I extends Hn{constructor(M){super(),this.locale=M}getPluralCategory(M,$){switch(it($||this.locale)(M)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}return I.\u0275fac=function(M){return new(M||I)(k.LFG(k.soG))},I.\u0275prov=k.Yz7({token:I,factory:I.\u0275fac}),I})();function Li(I,j){j=encodeURIComponent(j);for(const M of I.split(";")){const $=M.indexOf("="),[se,Ne]=-1==$?[M,""]:[M.slice(0,$),M.slice($+1)];if(se.trim()===j)return decodeURIComponent(Ne)}return null}let Lr=(()=>{class I{constructor(M,$,se,Ne){this._iterableDiffers=M,this._keyValueDiffers=$,this._ngEl=se,this._renderer=Ne,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,k.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem($=>this._toggleClass($.key,$.currentValue)),M.forEachChangedItem($=>this._toggleClass($.key,$.currentValue)),M.forEachRemovedItem($=>{$.previousValue&&this._toggleClass($.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem($=>{if("string"!=typeof $.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,k.AaK)($.item)}`);this._toggleClass($.item,!0)}),M.forEachRemovedItem($=>this._toggleClass($.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach($=>this._toggleClass($,!0)):Object.keys(M).forEach($=>this._toggleClass($,!!M[$])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach($=>this._toggleClass($,!1)):Object.keys(M).forEach($=>this._toggleClass($,!1)))}_toggleClass(M,$){(M=M.trim())&&M.split(/\s+/g).forEach(se=>{$?this._renderer.addClass(this._ngEl.nativeElement,se):this._renderer.removeClass(this._ngEl.nativeElement,se)})}}return I.\u0275fac=function(M){return new(M||I)(k.Y36(k.ZZ4),k.Y36(k.aQg),k.Y36(k.SBq),k.Y36(k.Qsj))},I.\u0275dir=k.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),I})(),Mn=(()=>{class I{constructor(M,$){this._viewContainer=M,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){dr("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){dr("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,$){return!0}}return I.\u0275fac=function(M){return new(M||I)(k.Y36(k.s_b),k.Y36(k.Rgc))},I.\u0275dir=k.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),I})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function dr(I,j){if(j&&!j.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,k.AaK)(j)}'.`)}let gi=(()=>{class I{}return I.\u0275fac=function(M){return new(M||I)},I.\u0275mod=k.oAB({type:I}),I.\u0275inj=k.cJS({providers:[{provide:Hn,useClass:_r}]}),I})();const Ws="browser";function To(I){return"server"===I}let Wn=(()=>{class I{}return I.\u0275prov=(0,k.Yz7)({token:I,providedIn:"root",factory:()=>new mr((0,k.LFG)(de),window)}),I})();class mr{constructor(j,M){this.document=j,this.window=M,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const M=function(I,j){const M=I.getElementById(j)||I.getElementsByName(j)[0];if(M)return M;if("function"==typeof I.createTreeWalker&&I.body&&(I.body.createShadowRoot||I.body.attachShadow)){const $=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let se=$.currentNode;for(;se;){const Ne=se.shadowRoot;if(Ne){const xe=Ne.getElementById(j)||Ne.querySelector(`[name="${j}"]`);if(xe)return xe}se=$.nextNode()}}return null}(this.document,j);M&&(this.scrollToElement(M),this.attemptFocus(M))}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=j)}}scrollToElement(j){const M=j.getBoundingClientRect(),$=M.left+this.window.pageXOffset,se=M.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo($-Ne[0],se-Ne[1])}attemptFocus(j){return j.focus(),this.document.activeElement===j}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Nr(this.window.history)||Nr(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function Nr(I){return Object.getOwnPropertyDescriptor(I,"scrollRestoration")}class an{}},3556:(ht,ce,K)=>{K.d(ce,{deG:()=>ni,tb:()=>K_,AFp:()=>z_,ip1:()=>qm,CZH:()=>Jf,hGG:()=>vD,z2F:()=>Nd,sBO:()=>Wb,Sil:()=>Km,_Vd:()=>Dd,EJc:()=>Q_,SBq:()=>Cd,qLn:()=>ca,vpe:()=>yu,tBr:()=>xu,XFs:()=>ee,OlP:()=>Lt,zs3:()=>_o,ZZ4:()=>cg,aQg:()=>fg,soG:()=>ug,YKP:()=>a_,h0i:()=>Yf,PXZ:()=>jb,R0b:()=>ms,FiY:()=>is,Lbi:()=>W_,g9A:()=>q_,Qsj:()=>yE,FYo:()=>n_,JOm:()=>a,tp0:()=>Oi,Rgc:()=>Id,dDg:()=>X_,q4F:()=>i_,GfV:()=>r_,s_b:()=>ig,ifc:()=>vn,eFA:()=>nw,G48:()=>qb,Gpc:()=>me,_c5:()=>fD,VLi:()=>Lb,c2e:()=>Y_,zSh:()=>fu,wAp:()=>Pt,vHH:()=>tt,cg1:()=>Dm,kL8:()=>Av,dqk:()=>ln,sIi:()=>wo,CqO:()=>ba,QGY:()=>$o,F4k:()=>Zi,RDi:()=>$,AaK:()=>Me,qOj:()=>nd,TTD:()=>To,_Bn:()=>Xv,xp6:()=>Eh,uIk:()=>ad,ekj:()=>wm,Suo:()=>D_,Xpm:()=>hr,lG2:()=>di,Yz7:()=>pt,cJS:()=>Wt,oAB:()=>no,Yjl:()=>Xt,Y36:()=>Kr,_UZ:()=>yd,qZA:()=>Ea,TgZ:()=>nl,n5z:()=>ef,LFG:()=>zr,$8M:()=>xo,$Z:()=>js,NdJ:()=>rr,CRH:()=>C_,oxw:()=>$f,Q6J:()=>ps,VKq:()=>f_,iGM:()=>b_,LSH:()=>gc,YNc:()=>pm,_uU:()=>ov});var k=K(5373),v=K(9985),Ae=K(5583),ye=K(8830),ae=K(5947),de=K(273),ze=K(7908),Ce=K(8305),q=K(9468),Y=K(3113),_e=K(9947);function ie(e,t,...o){return!0===t?(e(),null):!1===t?null:t(...o).pipe((0,q.q)(1)).subscribe(()=>e())}function Oe(e){for(let t in e)if(e[t]===Oe)return t;throw Error("Could not find renamed property on target object.")}function Ge(e,t){for(const o in t)t.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=t[o])}function Me(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const o=t.indexOf("\n");return-1===o?t:t.substring(0,o)}function we(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ve=Oe({__forward_ref__:Oe});function me(e){return e.__forward_ref__=me,e.toString=function(){return Me(this())},e}function Ee(e){return Je(e)?e():e}function Je(e){return"function"==typeof e&&e.hasOwnProperty(ve)&&e.__forward_ref__===me}class tt extends Error{constructor(t,o){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,o)),this.code=t}}function T(e){return"string"==typeof e?e:null==e?"":String(e)}function R(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():T(e)}function Z(e,t){const o=t?` in ${t}`:"";throw new tt("201",`No provider for ${R(e)} found${o}`)}function Pe(e,t){null==e&&function(e,t,o,l){throw new Error(`ASSERTION ERROR: ${e}`+(null==l?"":` [Expected=> ${o} ${l} ${t} <=Actual]`))}(t,e,null,"!=")}function pt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bn(e){return dn(e,Ji)||dn(e,pn)}function dn(e,t){return e.hasOwnProperty(t)?e[t]:null}function bo(e){return e&&(e.hasOwnProperty(En)||e.hasOwnProperty(Ot))?e[En]:null}const Ji=Oe({\u0275prov:Oe}),En=Oe({\u0275inj:Oe}),pn=Oe({ngInjectableDef:Oe}),Ot=Oe({ngInjectorDef:Oe});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let X;function be(e){const t=X;return X=e,t}function pe(e,t,o){const l=Bn(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&ee.Optional?null:void 0!==t?t:void Z(Me(e),"Injector")}function Et(e){return{toString:e}.toString()}var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),vn=(()=>{return(e=vn||(vn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",vn;var e})();const Ut="undefined"!=typeof globalThis&&globalThis,qn="undefined"!=typeof window&&window,si="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ln=Ut||"undefined"!=typeof global&&global||qn||si,hi={},nn=[],xr=Oe({\u0275cmp:Oe}),or=Oe({\u0275dir:Oe}),eo=Oe({\u0275pipe:Oe}),to=Oe({\u0275mod:Oe}),Cn=Oe({\u0275fac:Oe}),Tt=Oe({__NG_ELEMENT_ID__:Oe});let rn=0;function hr(e){return Et(()=>{const o={},l={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||nn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||vn.Emulated,id:"c",styles:e.styles||nn,_:null,setInput:null,schemas:e.schemas||null,tView:null},h=e.directives,g=e.features,_=e.pipes;return l.id+=rn++,l.inputs=ro(e.inputs,o),l.outputs=ro(e.outputs),g&&g.forEach(b=>b(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(zo):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Fi):null,l})}function zo(e){return Vn(e)||function(e){return e[or]||null}(e)}function Fi(e){return function(e){return e[eo]||null}(e)}const bi={};function no(e){return Et(()=>{const t={type:e.type,bootstrap:e.bootstrap||nn,declarations:e.declarations||nn,imports:e.imports||nn,exports:e.exports||nn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(bi[e.id]=e.type),t})}function ro(e,t){if(null==e)return hi;const o={};for(const l in e)if(e.hasOwnProperty(l)){let h=e[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),o[h]=l,t&&(t[h]=g)}return o}const di=hr;function Xt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Vn(e){return e[xr]||null}function Un(e,t){const o=e[to]||null;if(!o&&!0===t)throw new Error(`Type ${Me(e)} does not have '\u0275mod' property.`);return o}function wr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ir(e){return Array.isArray(e)&&!0===e[1]}function Mr(e){return 0!=(8&e.flags)}function wn(e){return 2==(2&e.flags)}function Do(e){return 1==(1&e.flags)}function An(e){return null!==e.template}function ki(e){return 0!=(512&e[2])}function gr(e,t){return e.hasOwnProperty(Cn)?e[Cn]:null}class Er{constructor(t,o,l){this.previousValue=t,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function To(){return Bi}function Bi(e){return e.type.prototype.ngOnChanges&&(e.setInput=vs),Ta}function Ta(){const e=mr(this),t=null==e?void 0:e.current;if(t){const o=e.previous;if(o===hi)e.previous=t;else for(let l in t)o[l]=t[l];e.current=null,this.ngOnChanges(t)}}function vs(e,t,o,l){const h=mr(e)||function(e,t){return e[Wn]=t}(e,{previous:hi,current:null}),g=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[o],S=_[b];g[b]=new Er(S&&S.currentValue,t,_===hi),e[l]=t}To.ngInherit=!0;const Wn="__ngSimpleChanges__";function mr(e){return e[Wn]||null}let M;function $(e){M=e}function xe(e){return!!e.listen}const We={createRenderer:(e,t)=>void 0!==M?M:"undefined"!=typeof document?document:void 0};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Ht(e,t){return Nt(t[e.index])}function $n(e,t){return e.data[t]}function Kt(e,t){const o=t[e];return wr(o)?o:o[0]}function Qr(e){return 4==(4&e[2])}function Zt(e){return 128==(128&e[2])}function br(e,t){return null==t?null:e[t]}function Ai(e){e[18]=0}function _s(e,t){e[5]+=t;let o=e,l=e[3];for(;null!==l&&(1===t&&1===o[5]||-1===t&&0===o[5]);)l[5]+=t,o=l,l=l[3]}const Dt={lFrame:uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Na(){return Dt.bindingsEnabled}function $e(){return Dt.lFrame.lView}function Yt(){return Dt.lFrame.tView}function bn(){let e=ui();for(;null!==e&&64===e.type;)e=e.parent;return e}function ui(){return Dt.lFrame.currentTNode}function Br(e,t){const o=Dt.lFrame;o.currentTNode=e,o.isParent=t}function ws(){return Dt.lFrame.isParent}function bs(){return Dt.isInCheckNoChangesMode}function $i(e){Dt.isInCheckNoChangesMode=e}function oo(){return Dt.lFrame.bindingIndex++}function bu(e,t){const o=Dt.lFrame;o.bindingIndex=o.bindingRootIndex=e,Ds(t)}function Ds(e){Dt.lFrame.currentDirectiveIndex=e}function cr(){return Dt.lFrame.currentQueryIndex}function No(e){Dt.lFrame.currentQueryIndex=e}function Ye(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function so(e,t,o){if(o&ee.SkipSelf){let h=t,g=e;for(;!(h=h.parent,null!==h||o&ee.Host||(h=Ye(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;t=h,e=g}const l=Dt.lFrame=ao();return l.currentTNode=t,l.lView=e,!0}function Ys(e){const t=ao(),o=e[1];Dt.lFrame=t,t.currentTNode=o.firstChild,t.lView=e,t.tView=o,t.contextLView=e,t.bindingIndex=o.bindingStartIndex,t.inI18n=!1}function ao(){const e=Dt.lFrame,t=null===e?null:e.child;return null===t?uo(e):t}function uo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pa(){const e=Dt.lFrame;return Dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const il=Pa;function Ti(){const e=Pa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function O(){return Dt.lFrame.selectedIndex}function z(e){Dt.lFrame.selectedIndex=e}function ne(){const e=Dt.lFrame;return $n(e.tView,e.selectedIndex)}function Hr(e,t){for(let o=t.directiveStart,l=t.directiveEnd;o<l;o++){const g=e.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:x,ngOnDestroy:V}=g;_&&(e.contentHooks||(e.contentHooks=[])).push(-o,_),b&&((e.contentHooks||(e.contentHooks=[])).push(o,b),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(o,b)),S&&(e.viewHooks||(e.viewHooks=[])).push(-o,S),x&&((e.viewHooks||(e.viewHooks=[])).push(o,x),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(o,x)),null!=V&&(e.destroyHooks||(e.destroyHooks=[])).push(o,V)}}function mi(e,t,o){Xr(e,t,3,o)}function lo(e,t,o,l){(3&e[2])===o&&Xr(e,t,o,l)}function Oo(e,t){let o=e[2];(3&o)===t&&(o&=2047,o+=1,e[2]=o)}function Xr(e,t,o,l){const g=null!=l?l:-1,_=t.length-1;let b=0;for(let S=void 0!==l?65535&e[18]:0;S<_;S++)if("number"==typeof t[S+1]){if(b=t[S],null!=l&&b>=l)break}else t[S]<0&&(e[18]+=65536),(b<g||-1==g)&&(ei(e,o,t,S),e[18]=(4294901760&e[18])+S+2),S++}function ei(e,t,o,l){const h=o[l]<0,g=o[l+1],b=e[h?-o[l]:o[l]];if(h){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Po{constructor(t,o,l){this.factory=t,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ss(e,t,o){const l=xe(e);let h=0;for(;h<o.length;){const g=o[h];if("number"==typeof g){if(0!==g)break;h++;const _=o[h++],b=o[h++],S=o[h++];l?e.setAttribute(t,b,S,_):t.setAttributeNS(_,b,S)}else{const _=g,b=o[++h];Du(_)?l&&e.setProperty(t,_,b):l?e.setAttribute(t,_,b):t.setAttribute(_,b),h++}}return h}function Mi(e){return 3===e||4===e||6===e}function Du(e){return 64===e.charCodeAt(0)}function xa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let o=-1;for(let l=0;l<t.length;l++){const h=t[l];"number"==typeof h?o=h:0===o||Fa(e,o,h,null,-1===o||2===o?t[++l]:null)}}return e}function Fa(e,t,o,l,h){let g=0,_=e.length;if(-1===t)_=-1;else for(;g<e.length;){const b=e[g++];if("number"==typeof b){if(b===t){_=-1;break}if(b>t){_=g-1;break}}}for(;g<e.length;){const b=e[g];if("number"==typeof b)break;if(b===o){if(null===l)return void(null!==h&&(e[g+1]=h));if(l===e[g+1])return void(e[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==_&&(e.splice(_,0,t),g=_+1),e.splice(g++,0,o),null!==l&&e.splice(g++,0,l),null!==h&&e.splice(g++,0,h)}function La(e){return-1!==e}function ka(e){return 32767&e}function Va(e,t){let o=function(e){return e>>16}(e),l=t;for(;o>0;)l=l[15],o--;return l}let al=!0;function Rn(e){const t=al;return al=e,t}let Zc=0;function yi(e,t){const o=Su(e,t);if(-1!==o)return o;const l=t[1];l.firstCreatePass&&(e.injectorIndex=t.length,Yl(l.data,e),Yl(t,null),Yl(l.blueprint,null));const h=Au(e,t),g=e.injectorIndex;if(La(h)){const _=ka(h),b=Va(h,t),S=b[1].data;for(let x=0;x<8;x++)t[g+x]=b[_+x]|S[_+x]}return t[g+8]=h,g}function Yl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Su(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Au(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let o=0,l=null,h=t;for(;null!==h;){const g=h[1],_=g.type;if(l=2===_?g.declTNode:1===_?h[6]:null,null===l)return-1;if(o++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ua(e,t,o){!function(e,t,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Tt)&&(l=o[Tt]),null==l&&(l=o[Tt]=Zc++);const h=255&l;t.data[e+(h>>5)]|=1<<h}(e,t,o)}function Qs(e,t,o){if(o&ee.Optional)return e;Z(t,"NodeInjector")}function Tu(e,t,o,l){if(o&ee.Optional&&void 0===l&&(l=null),0==(o&(ee.Self|ee.Host))){const h=e[9],g=be(void 0);try{return h?h.get(t,l,o&ee.Optional):pe(t,l,o&ee.Optional)}finally{be(g)}}return Qs(l,t,o)}function As(e,t,o,l=ee.Default,h){if(null!==e){const g=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Tt)?e[Tt]:void 0;return"number"==typeof t?t>=0?255&t:Xc:t}(o);if("function"==typeof g){if(!so(t,e,l))return l&ee.Host?Qs(h,o,l):Tu(t,o,l,h);try{const _=g(l);if(null!=_||l&ee.Optional)return _;Z(o)}finally{il()}}else if("number"==typeof g){let _=null,b=Su(e,t),S=-1,x=l&ee.Host?t[16][6]:null;for((-1===b||l&ee.SkipSelf)&&(S=-1===b?Au(e,t):t[b+8],-1!==S&&Ql(l,!1)?(_=t[1],b=ka(S),t=Va(S,t)):b=-1);-1!==b;){const V=t[1];if(Zs(g,b,V.data)){const Q=eh(b,t,o,_,l,x);if(Q!==Xo)return Q}S=t[b+8],-1!==S&&Ql(l,t[1].data[b+8]===x)&&Zs(g,b,t)?(_=V,b=ka(S),t=Va(S,t)):b=-1}}}return Tu(t,o,l,h)}const Xo={};function Xc(){return new Ro(bn(),$e())}function eh(e,t,o,l,h,g){const _=t[1],b=_.data[e+8],V=Ts(b,_,o,null==l?wn(b)&&al:l!=_&&0!=(3&b.type),h&ee.Host&&g===b);return null!==V?ja(t,_,V,b):Xo}function Ts(e,t,o,l,h){const g=e.providerIndexes,_=t.data,b=1048575&g,S=e.directiveStart,V=g>>20,oe=h?b+V:e.directiveEnd;for(let ge=l?b:b+V;ge<oe;ge++){const Ue=_[ge];if(ge<S&&o===Ue||ge>=S&&Ue.type===o)return ge}if(h){const ge=_[S];if(ge&&An(ge)&&ge.type===o)return S}return null}function ja(e,t,o,l){let h=e[o];const g=t.data;if(function(e){return e instanceof Po}(h)){const _=h;_.resolving&&function(e,t){throw new tt("200",`Circular dependency in DI detected for ${e}`)}(R(g[o]));const b=Rn(_.canSeeViewProviders);_.resolving=!0;const S=_.injectImpl?be(_.injectImpl):null;so(e,l,ee.Default);try{h=e[o]=_.factory(void 0,g,e,l),t.firstCreatePass&&o>=l.directiveStart&&function(e,t,o){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=t.type.prototype;if(l){const _=Bi(t);(o.preOrderHooks||(o.preOrderHooks=[])).push(e,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,_)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-e,h),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(e,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(e,g))}(o,g[o],t)}finally{null!==S&&be(S),Rn(b),_.resolving=!1,il()}}return h}function Zs(e,t,o){return!!(o[t+(e>>5)]&1<<e)}function Ql(e,t){return!(e&ee.Self||e&ee.Host&&t)}class Ro{constructor(t,o){this._tNode=t,this._lView=o}get(t,o,l){return As(this._tNode,this._lView,t,l,o)}}function ef(e){return Et(()=>{const t=e.prototype.constructor,o=t[Cn]||ul(t),l=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==l;){const g=h[Cn]||ul(h);if(g&&g!==o)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function ul(e){return Je(e)?()=>{const t=ul(Ee(e));return t&&t()}:gr(e)}function xo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const o=e.attrs;if(o){const l=o.length;let h=0;for(;h<l;){const g=o[h];if(Mi(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof o[h];)h++;else{if(g===t)return o[h+1];h+=2}}}return null}(bn(),e)}const ts="__parameters__";function Ha(e,t,o){return Et(()=>{const l=function(e){return function(...o){if(e){const l=e(...o);for(const h in l)this[h]=l[h]}}}(t);function h(...g){if(this instanceof h)return l.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(S,x,V){const Q=S.hasOwnProperty(ts)?S[ts]:Object.defineProperty(S,ts,{value:[]})[ts];for(;Q.length<=V;)Q.push(null);return(Q[V]=Q[V]||[]).push(_),S}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}class Lt{constructor(t,o){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ni=new Lt("AnalyzeForEntryComponents");function $r(e,t){void 0===t&&(t=e);for(let o=0;o<e.length;o++){let l=e[o];Array.isArray(l)?(t===e&&(t=e.slice(0,o)),$r(l,t)):t!==e&&t.push(l)}return t}function Fo(e,t){e.forEach(o=>Array.isArray(o)?Fo(o,t):t(o))}function ea(e,t,o){t>=e.length?e.push(o):e.splice(t,0,o)}function Mu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ri(e,t,o){let l=Pr(e,t);return l>=0?e[1|l]=o:(l=~l,function(e,t,o,l){let h=e.length;if(h==t)e.push(o,l);else if(1===h)e.push(l,e[0]),e[0]=o;else{for(h--,e.push(e[h-1],e[h]);h>t;)e[h]=e[h-2],h--;e[t]=o,e[t+1]=l}}(e,l,t,o)),l}function Ou(e,t){const o=Pr(e,t);if(o>=0)return e[1|o]}function Pr(e,t){return function(e,t,o){let l=0,h=e.length>>o;for(;h!==l;){const g=l+(h-l>>1),_=e[g<<o];if(t===_)return g<<o;_>t?h=g:l=g+1}return~(h<<o)}(e,t,1)}const rs={},Sr="__NG_DI_FLAG__",Lo="ngTempTokenPath",th=/\n/gm,oc="__source",nf=Oe({provide:String,useValue:Oe});let Ru;function rf(e){const t=Ru;return Ru=e,t}function of(e,t=ee.Default){if(void 0===Ru)throw new Error("inject() must be called from an injection context");return null===Ru?pe(e,void 0,t):Ru.get(e,t&ee.Optional?null:void 0,t)}function zr(e,t=ee.Default){return(X||of)(Ee(e),t)}function ko(e){const t=[];for(let o=0;o<e.length;o++){const l=Ee(e[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let h,g=ee.Default;for(let _=0;_<l.length;_++){const b=l[_],S=dl(b);"number"==typeof S?-1===S?h=b.token:g|=S:h=b}t.push(zr(h,g))}else t.push(zr(l))}return t}function za(e,t){return e[Sr]=t,e.prototype[Sr]=t,e}function dl(e){return e[Sr]}const xu=za(Ha("Inject",e=>({token:e})),-1),is=za(Ha("Optional"),8),Oi=za(Ha("SkipSelf"),4);class ff{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function fo(e){return e instanceof ff?e.changingThisBreaksApplicationSecurity:e}const Ld=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function gc(e){const t=function(){const e=$e();return e&&e[12]}();return t?t.sanitize(vr.URL,e)||"":function(e,t){const o=function(e){return e instanceof ff&&e.getTypeName()||null}(e);if(null!=o&&o!==t){if("ResourceURL"===o&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===t}(e,"URL")?fo(e):function(e){return(e=String(e)).match(Ld)||e.match(bl)?e:"unsafe:"+e}(T(e))}const Bu="__ngContext__";function Ar(e,t){e[Bu]=t}function ls(e){const t=function(e){return e[Bu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Gu(e){return e.ngOriginalError}function Fs(e,...t){e.error(...t)}class ca{constructor(){this._console=console}handleError(t){const o=this._findOriginalError(t),l=(e=t)&&e.ngErrorLogger||Fs;var e;l(this._console,"ERROR",t),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(t){let o=t&&Gu(t);for(;o&&Gu(o);)o=Gu(o);return o||null}}const $u=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ln))();function Ki(e){return e instanceof Function?e():e}var a=(()=>((a=a||{})[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a))();function s(e,t){return undefined(e,t)}function y(e){const t=e[3];return Ir(t)?t[3]:t}function N(e){return W(e[13])}function B(e){return W(e[4])}function W(e){for(;null!==e&&!Ir(e);)e=e[4];return e}function te(e,t,o,l,h){if(null!=l){let g,_=!1;Ir(l)?g=l:wr(l)&&(_=!0,l=l[0]);const b=Nt(l);0===e&&null!==o?null==h?Ri(t,o,b):au(t,o,b,h||null,!0):1===e&&null!==o?au(t,o,b,h||null,!0):2===e?function(e,t,o){const l=_f(e,t);l&&function(e,t,o,l){xe(e)?e.removeChild(t,o,l):t.removeChild(o)}(e,l,t,o)}(t,b,_):3===e&&t.destroyNode(b),null!=g&&function(e,t,o,l,h){const g=o[7];g!==Nt(o)&&te(t,e,l,g,h);for(let b=10;b<o.length;b++){const S=o[b];Tc(S[1],S,e,t,l,g)}}(t,e,g,o,h)}}function dt(e,t,o){return xe(e)?e.createElement(t,o):null===o?e.createElement(t):e.createElementNS(o,t)}function po(e,t){const o=e[9],l=o.indexOf(t),h=t[3];1024&t[2]&&(t[2]&=-1025,_s(h,-1)),o.splice(l,1)}function Yi(e,t){if(e.length<=10)return;const o=10+t,l=e[o];if(l){const h=l[17];null!==h&&h!==e&&po(h,l),t>0&&(e[o-1][4]=l[4]);const g=Mu(e,10+t);!function(e,t){Tc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ha(e,t){if(!(256&t[2])){const o=t[11];xe(o)&&o.destroyNode&&Tc(e,t,o,3,null,null),function(e){let t=e[13];if(!t)return da(e[1],e);for(;t;){let o=null;if(wr(t))o=t[13];else{const l=t[10];l&&(o=l)}if(!o){for(;t&&!t[4]&&t!==e;)wr(t)&&da(t[1],t),t=t[3];null===t&&(t=e),wr(t)&&da(t[1],t),o=t&&t[4]}t=o}}(t)}}function da(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let o;if(null!=e&&null!=(o=e.destroyHooks))for(let l=0;l<o.length;l+=2){const h=t[o[l]];if(!(h instanceof Po)){const g=o[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],S=g[_+1];try{S.call(b)}finally{}}else try{g.call(h)}finally{}}}}(e,t),function(e,t){const o=e.cleanup,l=t[7];let h=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const _=o[g+1],b="function"==typeof _?_(t):Nt(t[_]),S=l[h=o[g+2]],x=o[g+3];"boolean"==typeof x?b.removeEventListener(o[g],S,x):x>=0?l[h=x]():l[h=-x].unsubscribe(),g+=2}else{const _=l[h=o[g+1]];o[g].call(_)}if(null!==l){for(let g=h+1;g<l.length;g++)l[g]();t[7]=null}}(e,t),1===t[1].type&&xe(t[11])&&t[11].destroy();const o=t[17];if(null!==o&&Ir(t[3])){o!==t[3]&&po(o,t);const l=t[19];null!==l&&l.detachView(e)}}}function Sc(e,t,o){return function(e,t,o){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return o[0];if(2&l.flags){const h=e.data[l.directiveStart].encapsulation;if(h===vn.None||h===vn.Emulated)return null}return Ht(l,o)}(e,t.parent,o)}function au(e,t,o,l,h){xe(e)?e.insertBefore(t,o,l,h):t.insertBefore(o,l,h)}function Ri(e,t,o){xe(e)?e.appendChild(t,o):t.appendChild(o)}function cs(e,t,o,l,h){null!==l?au(e,t,o,l,h):Ri(e,t,o)}function _f(e,t){return xe(e)?e.parentNode(t):t.parentNode}let Hd=function(e,t,o){return 40&e.type?Ht(e,o):null};function wf(e,t,o,l){const h=Sc(e,l,t),g=t[11],b=function(e,t,o){return Hd(e,t,o)}(l.parent||t[6],l,t);if(null!=h)if(Array.isArray(o))for(let S=0;S<o.length;S++)cs(g,h,o[S],b,!1);else cs(g,h,o,b,!1)}function Ef(e,t){if(null!==t){const o=t.type;if(3&o)return Ht(t,e);if(4&o)return vh(-1,e[t.index]);if(8&o){const l=t.child;if(null!==l)return Ef(e,l);{const h=e[t.index];return Ir(h)?vh(-1,h):Nt(h)}}if(32&o)return s(t,e)()||Nt(e[t.index]);{const l=$d(e,t);return null!==l?Array.isArray(l)?l[0]:Ef(y(e[16]),l):Ef(e,t.next)}}return null}function $d(e,t){return null!==t?e[16][6].projection[t.projection]:null}function vh(e,t){const o=10+e+1;if(o<t.length){const l=t[o],h=l[1].firstChild;if(null!==h)return Ef(l,h)}return t[7]}function _h(e,t,o,l,h,g,_){for(;null!=o;){const b=l[o.index],S=o.type;if(_&&0===t&&(b&&Ar(Nt(b),l),o.flags|=4),64!=(64&o.flags))if(8&S)_h(e,t,o.child,l,h,g,!1),te(t,e,h,b,g);else if(32&S){const x=s(o,l);let V;for(;V=x();)te(t,e,h,V,g);te(t,e,h,b,g)}else 16&S?qd(e,t,l,o,h,g):te(t,e,h,b,g);o=_?o.projectionNext:o.next}}function Tc(e,t,o,l,h,g){_h(o,l,e.firstChild,t,h,g,!1)}function qd(e,t,o,l,h,g){const _=o[16],S=_[6].projection[l.projection];if(Array.isArray(S))for(let x=0;x<S.length;x++)te(t,e,h,S[x],g);else _h(e,t,S,_[3],h,g,!0)}function Wd(e,t,o){xe(e)?e.setAttribute(t,"style",o):t.style.cssText=o}function bf(e,t,o){xe(e)?""===o?e.removeAttribute(t,"class"):e.setAttribute(t,"class",o):t.className=o}function Kd(e,t,o){let l=e.length;for(;;){const h=e.indexOf(t,o);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const g=t.length;if(h+g===l||e.charCodeAt(h+g)<=32)return h}o=h+1}}const _g="ng-template";function dy(e,t,o){let l=0;for(;l<e.length;){let h=e[l++];if(o&&"class"===h){if(h=e[l],-1!==Kd(h.toLowerCase(),t,0))return!0}else if(1===h){for(;l<e.length&&"string"==typeof(h=e[l++]);)if(h.toLowerCase()===t)return!0;return!1}}return!1}function wg(e){return 4===e.type&&e.value!==_g}function Yd(e,t,o){return t===(4!==e.type||o?e.value:_g)}function Qd(e,t,o){let l=4;const h=e.attrs||[],g=function(e){for(let t=0;t<e.length;t++)if(Mi(e[t]))return t;return e.length}(h);let _=!1;for(let b=0;b<t.length;b++){const S=t[b];if("number"!=typeof S){if(!_)if(4&l){if(l=2|1&l,""!==S&&!Yd(e,S,o)||""===S&&1===t.length){if(Ls(l))return!1;_=!0}}else{const x=8&l?S:t[++b];if(8&l&&null!==e.attrs){if(!dy(e.attrs,x,o)){if(Ls(l))return!1;_=!0}continue}const Q=py(8&l?"class":S,h,wg(e),o);if(-1===Q){if(Ls(l))return!1;_=!0;continue}if(""!==x){let oe;oe=Q>g?"":h[Q+1].toLowerCase();const ge=8&l?oe:null;if(ge&&-1!==Kd(ge,x,0)||2&l&&x!==oe){if(Ls(l))return!1;_=!0}}}}else{if(!_&&!Ls(l)&&!Ls(S))return!1;if(_&&Ls(S))continue;_=!1,l=S|1&l}}return Ls(l)||_}function Ls(e){return 0==(1&e)}function py(e,t,o,l){if(null===t)return-1;let h=0;if(l||!o){let g=!1;for(;h<t.length;){const _=t[h];if(_===e)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=t[++h];for(;"string"==typeof b;)b=t[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function(e,t){let o=e.indexOf(4);if(o>-1)for(o++;o<e.length;){const l=e[o];if("number"==typeof l)return-1;if(l===t)return o;o++}return-1}(t,e)}function Eg(e,t,o=!1){for(let l=0;l<t.length;l++)if(Qd(e,t[l],o))return!0;return!1}function bg(e,t){return e?":not("+t.trim()+")":t}function Zd(e){let t=e[0],o=1,l=2,h="",g=!1;for(;o<e.length;){let _=e[o];if("string"==typeof _)if(2&l){const b=e[++o];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Ls(_)&&(t+=bg(g,h),h=""),l=_,g=g||!Ls(l);o++}return""!==h&&(t+=bg(g,h)),t}const jt={};function Eh(e){Df(Yt(),$e(),O()+e,bs())}function Df(e,t,o,l){if(!l)if(3==(3&t[2])){const g=e.preOrderCheckHooks;null!==g&&mi(t,g,o)}else{const g=e.preOrderHooks;null!==g&&lo(t,g,0,o)}z(o)}function Ic(e,t){return e<<17|t<<2}function go(e){return e>>17&32767}function xi(e){return 2|e}function ks(e){return(131068&e)>>2}function Mc(e,t){return-131069&e|t<<2}function Af(e){return 1|e}function Ph(e,t){const o=e.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const h=o[l],g=o[l+1];if(-1!==g){const _=e.data[g];No(h),_.contentQueries(2,t[g],g)}}}function lu(e,t,o,l,h,g,_,b,S,x){const V=t.blueprint.slice();return V[0]=h,V[2]=140|l,Ai(V),V[3]=V[15]=e,V[8]=o,V[10]=_||e&&e[10],V[11]=b||e&&e[11],V[12]=S||e&&e[12]||null,V[9]=x||e&&e[9]||null,V[6]=g,V[16]=2==t.type?e[16]:V,V}function Bl(e,t,o,l,h){let g=e.data[t];if(null===g)g=function(e,t,o,l,h){const g=ui(),_=ws(),S=e.data[t]=function(e,t,o,l,h,g){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,o,t,l,h);return null===e.firstChild&&(e.firstChild=S),null!==g&&(_?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(e,t,o,l,h),Dt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=l,g.attrs=h;const _=function(){const e=Dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Br(g,!0),g}function Hl(e,t,o,l){if(0===o)return-1;const h=t.length;for(let g=0;g<o;g++)t.push(l),e.blueprint.push(l),e.data.push(null);return h}function cu(e,t,o){Ys(t);try{const l=e.viewQuery;null!==l&&Yu(1,l,o);const h=e.template;null!==h&&Fh(e,t,h,1,o),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ph(e,t),e.staticViewQueries&&Yu(2,e.viewQuery,o);const g=e.components;null!==g&&function(e,t){for(let o=0;o<t.length;o++)Gg(e,t[o])}(t,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[2]&=-5,Ti()}}function ya(e,t,o,l){const h=t[2];if(256==(256&h))return;Ys(t);const g=bs();try{Ai(t),function(e){Dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==o&&Fh(e,t,o,2,l);const _=3==(3&h);if(!g)if(_){const x=e.preOrderCheckHooks;null!==x&&mi(t,x,null)}else{const x=e.preOrderHooks;null!==x&&lo(t,x,0,null),Oo(t,0)}if(function(e){for(let t=N(e);null!==t;t=B(t)){if(!t[2])continue;const o=t[9];for(let l=0;l<o.length;l++){const h=o[l],g=h[3];0==(1024&h[2])&&_s(g,1),h[2]|=1024}}}(t),function(e){for(let t=N(e);null!==t;t=B(t))for(let o=10;o<t.length;o++){const l=t[o],h=l[1];Zt(l)&&ya(h,l,h.template,l[8])}}(t),null!==e.contentQueries&&Ph(e,t),!g)if(_){const x=e.contentCheckHooks;null!==x&&mi(t,x)}else{const x=e.contentHooks;null!==x&&lo(t,x,1),Oo(t,1)}!function(e,t){const o=e.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const h=o[l];if(h<0)z(~h);else{const g=h,_=o[++l],b=o[++l];bu(_,g),b(2,t[g])}}}finally{z(-1)}}(e,t);const b=e.components;null!==b&&function(e,t){for(let o=0;o<t.length;o++)Hg(e,t[o])}(t,b);const S=e.viewQuery;if(null!==S&&Yu(2,S,l),!g)if(_){const x=e.viewCheckHooks;null!==x&&mi(t,x)}else{const x=e.viewHooks;null!==x&&lo(t,x,2),Oo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),g||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,_s(t[3],-1))}finally{Ti()}}function ap(e,t,o,l){const h=t[10],g=!bs(),_=Qr(t);try{g&&!_&&h.begin&&h.begin(),_&&cu(e,t,l),ya(e,t,o,l)}finally{g&&!_&&h.end&&h.end()}}function Fh(e,t,o,l,h){const g=O(),_=2&l;try{z(-1),_&&t.length>20&&Df(e,t,20,bs()),o(l,h)}finally{z(g)}}function xc(e,t,o){!Na()||(function(e,t,o,l){const h=o.directiveStart,g=o.directiveEnd;e.firstCreatePass||yi(o,t),Ar(l,t);const _=o.initialInputs;for(let b=h;b<g;b++){const S=e.data[b],x=An(S);x&&Uh(t,o,S);const V=ja(t,e,b,o);Ar(V,t),null!==_&&Ug(0,b-h,V,S,0,_),x&&(Kt(o.index,t)[8]=V)}}(e,t,o,Ht(o,t)),128==(128&o.flags)&&function(e,t,o){const l=o.directiveStart,h=o.directiveEnd,_=o.index,b=Dt.lFrame.currentDirectiveIndex;try{z(_);for(let S=l;S<h;S++){const x=e.data[S],V=t[S];Ds(S),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Fg(x,V)}}finally{z(-1),Ds(b)}}(e,t,o))}function Of(e,t,o=Ht){const l=t.localNames;if(null!==l){let h=t.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],b=-1===_?o(t,e):e[_];e[h++]=b}}}function lp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pf(e,t,o,l,h,g,_,b,S,x){const V=20+l,Q=V+h,oe=function(e,t){const o=[];for(let l=0;l<t;l++)o.push(l<e?null:jt);return o}(V,Q),ge="function"==typeof x?x():x;return oe[1]={type:e,blueprint:oe,template:o,queries:null,viewQuery:b,declTNode:t,data:oe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:ge,incompleteFirstPass:!1}}function fp(e,t,o,l){const h=_p(t);null===o?h.push(l):(h.push(o),e.firstCreatePass&&Uf(e).push(l,h.length-1))}function Rf(e,t,o){for(let l in e)if(e.hasOwnProperty(l)){const h=e[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(t,h):o[l]=[t,h]}return o}function Lc(e,t,o,l){let h=!1;if(Na()){const g=function(e,t,o){const l=e.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];Eg(o,_.selectors,!1)&&(h||(h=[]),Ua(yi(o,t),e,_.type),An(_)?(Lg(e,o),h.unshift(_)):h.push(_))}return h}(e,t,o),_=null===l?null:{"":-1};if(null!==g){h=!0,dp(o,e.data.length,g.length);for(let V=0;V<g.length;V++){const Q=g[V];Q.providersResolver&&Q.providersResolver(Q)}let b=!1,S=!1,x=Hl(e,t,g.length,null);for(let V=0;V<g.length;V++){const Q=g[V];o.mergedAttrs=xa(o.mergedAttrs,Q.hostAttrs),Vh(e,o,t,x,Q),Vg(x,Q,_),null!==Q.contentQueries&&(o.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=128);const oe=Q.type.prototype;!b&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(o.index),b=!0),!S&&(oe.ngOnChanges||oe.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(o.index),S=!0),x++}!function(e,t){const l=t.directiveEnd,h=e.data,g=t.attrs,_=[];let b=null,S=null;for(let x=t.directiveStart;x<l;x++){const V=h[x],Q=V.inputs,oe=null===g||wg(t)?null:jg(Q,g);_.push(oe),b=Rf(Q,x,b),S=Rf(V.outputs,x,S)}null!==b&&(b.hasOwnProperty("class")&&(t.flags|=16),b.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=_,t.inputs=b,t.outputs=S}(e,o)}_&&function(e,t,o){if(t){const l=e.localNames=[];for(let h=0;h<t.length;h+=2){const g=o[t[h+1]];if(null==g)throw new tt("301",`Export of name '${t[h+1]}' not found!`);l.push(t[h],g)}}}(o,l,_)}return o.mergedAttrs=xa(o.mergedAttrs,o.attrs),h}function kc(e,t,o,l,h,g){const _=g.hostBindings;if(_){let b=e.hostBindingOpCodes;null===b&&(b=e.hostBindingOpCodes=[]);const S=~t.index;(function(e){let t=e.length;for(;t>0;){const o=e[--t];if("number"==typeof o&&o<0)return o}return 0})(b)!=S&&b.push(S),b.push(l,h,_)}}function Fg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Lg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Vg(e,t,o){if(o){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)o[t.exportAs[l]]=e;An(t)&&(o[""]=e)}}function dp(e,t,o){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+o,e.providerIndexes=t}function Vh(e,t,o,l,h){e.data[l]=h;const g=h.factory||(h.factory=gr(h.type)),_=new Po(g,An(h),null);e.blueprint[l]=_,o[l]=_,kc(e,t,0,l,Hl(e,o,h.hostVars,jt),h)}function Uh(e,t,o){const l=Ht(t,e),h=lp(o),g=e[10],_=Vc(e,lu(e,h,null,o.onPush?64:16,l,t,g,g.createRenderer(l,o),null,null));e[t.index]=_}function hs(e,t,o,l,h,g){const _=Ht(e,t);!function(e,t,o,l,h,g,_){if(null==g)xe(e)?e.removeAttribute(t,h,o):t.removeAttribute(h);else{const b=null==_?T(g):_(g,l||"",h);xe(e)?e.setAttribute(t,h,b,o):o?t.setAttributeNS(o,h,b):t.setAttribute(h,b)}}(t[11],_,g,e.value,o,l,h)}function Ug(e,t,o,l,h,g){const _=g[t];if(null!==_){const b=l.setInput;for(let S=0;S<_.length;){const x=_[S++],V=_[S++],Q=_[S++];null!==b?l.setInput(o,Q,x,V):o[V]=Q}}}function jg(e,t){let o=null,l=0;for(;l<t.length;){const h=t[l];if(0!==h)if(5!==h){if("number"==typeof h)break;e.hasOwnProperty(h)&&(null===o&&(o=[]),o.push(h,e[h],t[l+1])),l+=2}else l+=2;else l+=4}return o}function pp(e,t,o,l){return new Array(e,!0,!1,t,null,0,l,o,null,null)}function Hg(e,t){const o=Kt(t,e);if(Zt(o)){const l=o[1];80&o[2]?ya(l,o,l.template,o[8]):o[5]>0&&kf(o)}}function kf(e){for(let l=N(e);null!==l;l=B(l))for(let h=10;h<l.length;h++){const g=l[h];if(1024&g[2]){const _=g[1];ya(_,g,_.template,g[8])}else g[5]>0&&kf(g)}const o=e[1].components;if(null!==o)for(let l=0;l<o.length;l++){const h=Kt(o[l],e);Zt(h)&&h[5]>0&&kf(h)}}function Gg(e,t){const o=Kt(t,e),l=o[1];(function(e,t){for(let o=t.length;o<e.blueprint.length;o++)t.push(e.blueprint[o])})(l,o),cu(l,o,o[8])}function Vc(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Bh(e){for(;e;){e[2]|=64;const t=y(e);if(ki(e)&&!t)return e;e=t}return null}function Vf(e,t,o){const l=t[10];l.begin&&l.begin();try{ya(e,t,e.template,o)}catch(h){throw Ep(t,h),h}finally{l.end&&l.end()}}function yp(e){!function(e){for(let t=0;t<e.components.length;t++){const o=e.components[t],l=ls(o),h=l[1];ap(h,l,h.template,o)}}(e[8])}function Yu(e,t,o){No(0),t(e,o)}const zg=(()=>Promise.resolve(null))();function _p(e){return e[7]||(e[7]=[])}function Uf(e){return e.cleanup||(e.cleanup=[])}function Ep(e,t){const o=e[9],l=o?o.get(ca,null):null;l&&l.handleError(t)}function Uc(e,t,o,l,h){for(let g=0;g<o.length;){const _=o[g++],b=o[g++],S=t[_],x=e.data[_];null!==x.setInput?x.setInput(S,h,l,b):S[b]=h}}function jc(e,t,o){let l=o?e.styles:null,h=o?e.classes:null,g=0;if(null!==t)for(let _=0;_<t.length;_++){const b=t[_];"number"==typeof b?g=b:1==g?h=we(h,b):2==g&&(l=we(l,b+": "+t[++_]+";"))}o?e.styles=l:e.stylesWithoutHost=l,o?e.classes=h:e.classesWithoutHost=h}const Cp=new Lt("INJECTOR",-1);class vo{get(t,o=rs){if(o===rs){const l=new Error(`NullInjectorError: No provider for ${Me(t)}!`);throw l.name="NullInjectorError",l}return o}}const fu=new Lt("Set Injector scope."),Bc={},qg={};let jf;function Sp(){return void 0===jf&&(jf=new vo),jf}function zh(e,t=null,o=null,l){const h=Hc(e,t,o,l);return h._resolveInjectorDefTypes(),h}function Hc(e,t=null,o=null,l){return new Ap(e,o,t||Sp(),l)}class Ap{constructor(t,o,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&Fo(o,b=>this.processProvider(b,t,o)),Fo([t],b=>this.processInjectorType(b,[],g)),this.records.set(Cp,Qu(void 0,this));const _=this.records.get(fu);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof t?null:Me(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,o=rs,l=ee.Default){this.assertNotDestroyed();const h=rf(this),g=be(void 0);try{if(!(l&ee.SkipSelf)){let b=this.records.get(t);if(void 0===b){const S=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Lt)&&Bn(t);b=S&&this.injectableDefInScope(S)?Qu(qh(t),Bc):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b)}return(l&ee.Self?Sp():this.parent).get(t,o=l&ee.Optional&&o===rs?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Lo]=_[Lo]||[]).unshift(Me(t)),h)throw _;return function(e,t,o,l){const h=e[Lo];throw t[oc]&&h.unshift(t[oc]),e.message=function(e,t,o,l=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let h=Me(t);if(Array.isArray(t))h=t.map(Me).join(" -> ");else if("object"==typeof t){let g=[];for(let _ in t)if(t.hasOwnProperty(_)){let b=t[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):Me(b)))}h=`{${g.join(", ")}}`}return`${o}${l?"("+l+")":""}[${h}]: ${e.replace(th,"\n  ")}`}("\n"+e.message,h,o,l),e.ngTokenPath=h,e[Lo]=null,e}(_,t,"R3InjectorError",this.source)}throw _}finally{be(g),rf(h)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((l,h)=>t.push(Me(h))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,o,l){if(!(t=Ee(t)))return!1;let h=bo(t);const g=null==h&&t.ngModule||void 0,_=void 0===g?t:g,b=-1!==l.indexOf(_);if(void 0!==g&&(h=bo(g)),null==h)return!1;if(null!=h.imports&&!b){let V;l.push(_);try{Fo(h.imports,Q=>{this.processInjectorType(Q,o,l)&&(void 0===V&&(V=[]),V.push(Q))})}finally{}if(void 0!==V)for(let Q=0;Q<V.length;Q++){const{ngModule:oe,providers:ge}=V[Q];Fo(ge,Ue=>this.processProvider(Ue,oe,ge||nn))}}this.injectorDefTypes.add(_);const S=gr(_)||(()=>new _);this.records.set(_,Qu(S,Bc));const x=h.providers;if(null!=x&&!b){const V=t;Fo(x,Q=>this.processProvider(Q,V,x))}return void 0!==g&&void 0!==t.providers}processProvider(t,o,l){let h=Zu(t=Ee(t))?t:Ee(t&&t.provide);const g=(e=t,Kh(e)?Qu(void 0,e.useValue):Qu(Tp(e),Bc));var e;if(Zu(t)||!0!==t.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=Qu(void 0,Bc,!0),_.factory=()=>ko(_.multi),this.records.set(h,_)),h=t,_.multi.push(t)}this.records.set(h,g)}hydrate(t,o){return o.value===Bc&&(o.value=qg,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(e=o.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const o=Ee(t.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function qh(e){const t=Bn(e),o=null!==t?t.factory:gr(e);if(null!==o)return o;if(e instanceof Lt)throw new Error(`Token ${Me(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const l=function(e,t){const o=[];for(let l=0;l<e;l++)o.push(t);return o}(t,"?");throw new Error(`Can't resolve all parameters for ${Me(e)}: (${l.join(", ")}).`)}const o=function(e){const t=e&&(e[Ji]||e[pn]);if(t){const o=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),t}return null}(e);return null!==o?()=>o.factory(e):()=>new e}(e);throw new Error("unreachable")}function Tp(e,t,o){let l;if(Zu(e)){const h=Ee(e);return gr(h)||qh(h)}if(Kh(e))l=()=>Ee(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))l=()=>e.useFactory(...ko(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))l=()=>zr(Ee(e.useExisting));else{const h=Ee(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return gr(h)||qh(h);l=()=>new h(...ko(e.deps))}return l}function Qu(e,t,o=!1){return{factory:e,value:t,multi:o?[]:void 0}}function Kh(e){return null!==e&&"object"==typeof e&&nf in e}function Zu(e){return"function"==typeof e}let _o=(()=>{class e{static create(o,l){var h;if(Array.isArray(o))return zh({name:""},l,o,"");{const g=null!=(h=o.name)?h:"";return zh({name:g},o.parent,o.providers,g)}}}return e.THROW_IF_NOT_FOUND=rs,e.NULL=new vo,e.\u0275prov=pt({token:e,providedIn:"any",factory:()=>zr(Cp)}),e.__NG_ELEMENT_ID__=-1,e})();function im(e,t){Hr(ls(e)[1],bn())}function nd(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),o=!0;const l=[e];for(;t;){let h;if(An(e))h=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");h=t.\u0275dir}if(h){if(o){l.push(h);const _=e;_.inputs=rd(e.inputs),_.declaredInputs=rd(e.declaredInputs),_.outputs=rd(e.outputs);const b=h.hostBindings;b&&jp(e,b);const S=h.viewQuery,x=h.contentQueries;if(S&&sm(e,S),x&&Up(e,x),Ge(e.inputs,h.inputs),Ge(e.declaredInputs,h.declaredInputs),Ge(e.outputs,h.outputs),An(h)&&h.data.animation){const V=e.data;V.animation=(V.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(e),b===nd&&(o=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,o=null;for(let l=e.length-1;l>=0;l--){const h=e[l];h.hostVars=t+=h.hostVars,h.hostAttrs=xa(h.hostAttrs,o=xa(o,h.hostAttrs))}}(l)}function rd(e){return e===hi?{}:e===nn?[]:e}function sm(e,t){const o=e.viewQuery;e.viewQuery=o?(l,h)=>{t(l,h),o(l,h)}:t}function Up(e,t){const o=e.contentQueries;e.contentQueries=o?(l,h,g)=>{t(l,h,g),o(l,h,g)}:t}function jp(e,t){const o=e.hostBindings;e.hostBindings=o?(l,h)=>{t(l,h),o(l,h)}:t}let id=null;function Ju(){if(!id){const e=ln.Symbol;if(e&&e.iterator)id=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<t.length;++o){const l=t[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(id=l)}}}return id}function wo(e){return!!od(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ju()in e)}function od(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ci(e,t,o){return!Object.is(e[t],o)&&(e[t]=o,!0)}function ad(e,t,o,l){const h=$e();return ci(h,oo(),t)&&(Yt(),hs(ne(),h,e,t,o,l)),ad}function pm(e,t,o,l,h,g,_,b){const S=$e(),x=Yt(),V=e+20,Q=x.firstCreatePass?function(e,t,o,l,h,g,_,b,S){const x=t.consts,V=Bl(t,e,4,_||null,br(x,b));Lc(t,o,V,br(x,S)),Hr(t,V);const Q=V.tViews=Pf(2,V,l,h,g,t.directiveRegistry,t.pipeRegistry,null,t.schemas,x);return null!==t.queries&&(t.queries.template(t,V),Q.queries=t.queries.embeddedTView(V)),V}(V,x,S,t,o,l,h,g,_):x.data[V];Br(Q,!1);const oe=S[11].createComment("");wf(x,S,oe,Q),Ar(oe,S),Vc(S,S[V]=pp(oe,S,oe,Q)),Do(Q)&&xc(x,S,Q),null!=_&&Of(S,Q,b)}function Kr(e,t=ee.Default){const o=$e();return null===o?zr(e,t):As(bn(),o,Ee(e),t)}function js(){throw new Error("invalid")}function ps(e,t,o){const l=$e();return ci(l,oo(),t)&&function(e,t,o,l,h,g,_,b){const S=Ht(t,o);let V,x=t.inputs;!b&&null!=x&&(V=x[l])?(Uc(e,o,V,l,h),wn(t)&&function(e,t){const o=Kt(t,e);16&o[2]||(o[2]|=64)}(o,t.index)):3&t.type&&(l=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),h=null!=_?_(h,t.value||"",l):h,xe(g)?g.setProperty(S,l,h):Du(l)||(S.setProperty?S.setProperty(l,h):S[l]=h))}(Yt(),ne(),l,e,t,l[11],o,!1),ps}function gs(e,t,o,l,h){const _=h?"class":"style";Uc(e,o,t.inputs[_],_,l)}function nl(e,t,o,l){const h=$e(),g=Yt(),_=20+e,b=h[11],S=h[_]=dt(b,t,Dt.lFrame.currentNamespace),x=g.firstCreatePass?function(e,t,o,l,h,g,_){const b=t.consts,x=Bl(t,e,2,h,br(b,g));return Lc(t,o,x,br(b,_)),null!==x.attrs&&jc(x,x.attrs,!1),null!==x.mergedAttrs&&jc(x,x.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,x),x}(_,g,h,0,t,o,l):g.data[_];Br(x,!0);const V=x.mergedAttrs;null!==V&&Ss(b,S,V);const Q=x.classes;null!==Q&&bf(b,S,Q);const oe=x.styles;null!==oe&&Wd(b,S,oe),64!=(64&x.flags)&&wf(g,h,S,x),0===Dt.lFrame.elementDepthCount&&Ar(S,h),Dt.lFrame.elementDepthCount++,Do(x)&&(xc(g,h,x),function(e,t,o){if(Mr(t)){const h=t.directiveEnd;for(let g=t.directiveStart;g<h;g++){const _=e.data[g];_.contentQueries&&_.contentQueries(1,o[g],g)}}}(g,x,h)),null!==l&&Of(h,x)}function Ea(){let e=bn();ws()?Dt.lFrame.isParent=!1:(e=e.parent,Br(e,!1));const t=e;Dt.lFrame.elementDepthCount--;const o=Yt();o.firstCreatePass&&(Hr(o,e),Mr(e)&&o.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&gs(o,t,$e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&gs(o,t,$e(),t.stylesWithoutHost,!1)}function yd(e,t,o,l){nl(e,t,o,l),Ea()}function $o(e){return!!e&&"function"==typeof e.then}function Zi(e){return!!e&&"function"==typeof e.subscribe}const ba=Zi;function rr(e,t,o,l){const h=$e(),g=Yt(),_=bn();return function(e,t,o,l,h,g,_,b){const S=Do(l),V=e.firstCreatePass&&Uf(e),Q=t[8],oe=_p(t);let ge=!0;if(3&l.type||b){const at=Ht(l,t),gt=b?b(at):at,He=oe.length,Mt=b?un=>b(Nt(un[l.index])):l.index;if(xe(o)){let un=null;if(!b&&S&&(un=function(e,t,o,l){const h=e.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===o&&h[g+1]===l){const b=t[7],S=h[g+2];return b.length>S?b[S]:null}"string"==typeof _&&(g+=2)}return null}(e,t,h,l.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=g,un.__ngLastListenerFn__=g,ge=!1;else{g=Da(l,t,Q,g,!1);const Ln=o.listen(gt,h,g);oe.push(g,Ln),V&&V.push(h,Mt,He,He+1)}}else g=Da(l,t,Q,g,!0),gt.addEventListener(h,g,_),oe.push(g),V&&V.push(h,Mt,He,_)}else g=Da(l,t,Q,g,!1);const Ue=l.outputs;let Ze;if(ge&&null!==Ue&&(Ze=Ue[h])){const at=Ze.length;if(at)for(let gt=0;gt<at;gt+=2){const ys=t[Ze[gt]][Ze[gt+1]].subscribe(g),qc=oe.length;oe.push(g,ys),V&&V.push(h,l.index,qc,-(qc+1))}}}(g,h,h[11],_,e,t,!!o,l),rr}function Gc(e,t,o,l){try{return!1!==o(l)}catch(h){return Ep(e,h),!1}}function Da(e,t,o,l,h){return function g(_){if(_===Function)return l;const b=2&e.flags?Kt(e.index,t):t;0==(32&t[2])&&Bh(b);let S=Gc(t,0,l,_),x=g.__ngNextListenerFn__;for(;x;)S=Gc(t,0,x,_)&&S,x=x.__ngNextListenerFn__;return h&&!1===S&&(_.preventDefault(),_.returnValue=!1),S}}function $f(e=1){return function(e){return(Dt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Dt.lFrame.contextLView))[8]}(e)}function zy(e,t,o,l,h){const g=e[o+1],_=null===t;let b=l?go(g):ks(g),S=!1;for(;0!==b&&(!1===S||_);){const V=e[b+1];Nw(e[b],t)&&(S=!0,e[b+1]=l?Af(V):xi(V)),b=l?go(V):ks(V)}S&&(e[o+1]=l?xi(g):Af(g))}function Nw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Pr(e,t)>=0}function wm(e,t){return function(e,t,o,l){const h=$e(),g=Yt(),_=function(e){const t=Dt.lFrame,o=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,o}(2);g.firstUpdatePass&&function(e,t,o,l){const h=e.data;if(null===h[o+1]){const g=h[O()],_=function(e,t){return t>=e.expandoStartIndex}(e,o);(function(e,t){return 0!=(e.flags&(t?16:32))})(g,l)&&null===t&&!_&&(t=!1),t=function(e,t,o,l){const h=function(e){const t=Dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let g=l?t.residualClasses:t.residualStyles;if(null===h)0===(l?t.classBindings:t.styleBindings)&&(o=vd(o=Em(null,e,t,o,l),t.attrs,l),g=null);else{const _=t.directiveStylingLast;if(-1===_||e[_]!==h)if(o=Em(h,e,t,o,l),null===g){let S=function(e,t,o){const l=o?t.classBindings:t.styleBindings;if(0!==ks(l))return e[go(l)]}(e,t,l);void 0!==S&&Array.isArray(S)&&(S=Em(null,e,t,S[1],l),S=vd(S,t.attrs,l),function(e,t,o,l){e[go(o?t.classBindings:t.styleBindings)]=l}(e,t,l,S))}else g=function(e,t,o){let l;const h=t.directiveEnd;for(let g=1+t.directiveStylingLast;g<h;g++)l=vd(l,e[g].hostAttrs,o);return vd(l,t.attrs,o)}(e,t,l)}return void 0!==g&&(l?t.residualClasses=g:t.residualStyles=g),o}(h,g,t,l),function(e,t,o,l,h,g){let _=g?t.classBindings:t.styleBindings,b=go(_),S=ks(_);e[l]=o;let V,x=!1;if(Array.isArray(o)){const Q=o;V=Q[1],(null===V||Pr(Q,V)>0)&&(x=!0)}else V=o;if(h)if(0!==S){const oe=go(e[b+1]);e[l+1]=Ic(oe,b),0!==oe&&(e[oe+1]=Mc(e[oe+1],l)),e[b+1]=function(e,t){return 131071&e|t<<17}(e[b+1],l)}else e[l+1]=Ic(b,0),0!==b&&(e[b+1]=Mc(e[b+1],l)),b=l;else e[l+1]=Ic(S,0),0===b?b=l:e[S+1]=Mc(e[S+1],l),S=l;x&&(e[l+1]=xi(e[l+1])),zy(e,V,l,!0),zy(e,V,l,!1),function(e,t,o,l,h){const g=h?e.residualClasses:e.residualStyles;null!=g&&"string"==typeof t&&Pr(g,t)>=0&&(o[l+1]=Af(o[l+1]))}(t,V,e,l,g),_=Ic(b,S),g?t.classBindings=_:t.styleBindings=_}(h,g,t,o,_,l)}}(g,e,_,l),t!==jt&&ci(h,_,t)&&function(e,t,o,l,h,g,_,b){if(!(3&t.type))return;const S=e.data,x=S[b+1];Qp(function(e){return 1==(1&e)}(x)?rv(S,t,o,h,ks(x),_):void 0)||(Qp(g)||function(e){return 2==(2&e)}(x)&&(g=rv(S,null,o,h,b,_)),function(e,t,o,l,h){const g=xe(e);if(t)h?g?e.addClass(o,l):o.classList.add(l):g?e.removeClass(o,l):o.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:a.DashCase;if(null==h)g?e.removeStyle(o,l,_):o.style.removeProperty(l);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),_|=a.Important),g?e.setStyle(o,l,h,_):o.style.setProperty(l,h,b?"important":"")}}}(l,_,function(e,t){return Nt(t[e])}(O(),o),h,g))}(g,g.data[O()],h,h[11],e,h[_+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Me(fo(e)))),e}(t,o),l,_)}(e,t,null,!0),wm}function Em(e,t,o,l,h){let g=null;const _=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<_&&(g=t[b],l=vd(l,g.hostAttrs,h),g!==e);)b++;return null!==e&&(o.directiveStylingLast=b),l}function vd(e,t,o){const l=o?1:2;let h=-1;if(null!==t)for(let g=0;g<t.length;g++){const _=t[g];"number"==typeof _?h=_:h===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ri(e,_,!!o||t[++g]))}return void 0===e?null:e}function rv(e,t,o,l,h,g){const _=null===t;let b;for(;h>0;){const S=e[h],x=Array.isArray(S),V=x?S[1]:S,Q=null===V;let oe=o[h+1];oe===jt&&(oe=Q?nn:void 0);let ge=Q?Ou(oe,l):V===l?oe:void 0;if(x&&!Qp(ge)&&(ge=Ou(S,l)),Qp(ge)&&(b=ge,_))return b;const Ue=e[h+1];h=_?go(Ue):ks(Ue)}if(null!==t){let S=g?t.residualClasses:t.residualStyles;null!=S&&(b=Ou(S,l))}return b}function Qp(e){return void 0!==e}function ov(e,t=""){const o=$e(),l=Yt(),h=e+20,g=l.firstCreatePass?Bl(l,h,1,t,null):l.data[h],_=o[h]=function(e,t){return xe(e)?e.createText(t):e.createTextNode(t)}(o[11],t);wf(l,o,_,g),Br(g,!1)}const $c=void 0;var h0=["en",[["a","p"],["AM","PM"],$c],[["AM","PM"],$c,$c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$c,"{1} 'at' {0}",$c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const o=Math.floor(Math.abs(e)),l=e.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let qf={};function Dm(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let o=Tv(t);if(o)return o;const l=t.split("-")[0];if(o=Tv(l),o)return o;if("en"===l)return h0;throw new Error(`Missing locale data for the locale "${e}".`)}function Av(e){return Dm(e)[Pt.PluralCase]}function Tv(e){return e in qf||(qf[e]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[e]),qf[e]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Zp="en-US";let Iv=Zp;function Am(e,t,o,l,h){if(e=Ee(e),Array.isArray(e))for(let g=0;g<e.length;g++)Am(e[g],t,o,l,h);else{const g=Yt(),_=$e();let b=Zu(e)?e:Ee(e.provide),S=Tp(e);const x=bn(),V=1048575&x.providerIndexes,Q=x.directiveStart,oe=x.providerIndexes>>20;if(Zu(e)||!e.multi){const ge=new Po(S,h,Kr),Ue=Im(b,t,h?V:V+oe,Q);-1===Ue?(Ua(yi(x,_),g,b),Tm(g,e,t.length),t.push(b),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),o.push(ge),_.push(ge)):(o[Ue]=ge,_[Ue]=ge)}else{const ge=Im(b,t,V+oe,Q),Ue=Im(b,t,V,V+oe),Ze=ge>=0&&o[ge],at=Ue>=0&&o[Ue];if(h&&!at||!h&&!Ze){Ua(yi(x,_),g,b);const gt=function(e,t,o,l,h){const g=new Po(e,o,Kr);return g.multi=[],g.index=t,g.componentProviders=0,Jv(g,h,l&&!o),g}(h?cE:lE,o.length,h,l,S);!h&&at&&(o[Ue].providerFactory=gt),Tm(g,e,t.length,0),t.push(b),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),o.push(gt),_.push(gt)}else Tm(g,e,ge>-1?ge:Ue,Jv(o[h?Ue:ge],S,!h&&l));!h&&l&&at&&o[Ue].componentProviders++}}}function Tm(e,t,o,l){const h=Zu(t),g=function(e){return!!e.useClass}(t);if(h||g){const S=(g?Ee(t.useClass):t).prototype.ngOnDestroy;if(S){const x=e.destroyHooks||(e.destroyHooks=[]);if(!h&&t.multi){const V=x.indexOf(o);-1===V?x.push(o,[l,S]):x[V+1].push(l,S)}else x.push(o,S)}}}function Jv(e,t,o){return o&&e.componentProviders++,e.multi.push(t)-1}function Im(e,t,o,l){for(let h=o;h<l;h++)if(t[h]===e)return h;return-1}function lE(e,t,o,l){return Mm(this.multi,[])}function cE(e,t,o,l){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=ja(o,o[1],this.providerFactory.index,l);g=b.slice(0,_),Mm(h,g);for(let S=_;S<b.length;S++)g.push(b[S])}else g=[],Mm(h,g);return g}function Mm(e,t){for(let o=0;o<e.length;o++)t.push((0,e[o])());return t}function Xv(e,t=[]){return o=>{o.providersResolver=(l,h)=>function(e,t,o){const l=Yt();if(l.firstCreatePass){const h=An(e);Am(o,l.data,l.blueprint,h,!0),Am(t,l.data,l.blueprint,h,!1)}}(l,h?h(e):e,t)}}class e_{}class pE{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Me(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Dd=(()=>{class e{}return e.NULL=new pE,e})();function gE(){return Kf(bn(),$e())}function Kf(e,t){return new Cd(Ht(e,t))}let Cd=(()=>{class e{constructor(o){this.nativeElement=o}}return e.__NG_ELEMENT_ID__=gE,e})();function mE(e){return e instanceof Cd?e.nativeElement:e}class n_{}let yE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=$e(),o=Kt(bn().index,e);return function(e){return e[11]}(wr(o)?o:e)}(),e})(),wE=(()=>{class e{}return e.\u0275prov=pt({token:e,providedIn:"root",factory:()=>null}),e})();class r_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const i_=new r_("13.0.3"),Nm={};function ng(e,t,o,l,h=!1){for(;null!==o;){const g=t[o.index];if(null!==g&&l.push(Nt(g)),Ir(g))for(let b=10;b<g.length;b++){const S=g[b],x=S[1].firstChild;null!==x&&ng(S[1],S,x,l)}const _=o.type;if(8&_)ng(e,t,o.child,l);else if(32&_){const b=s(o,t);let S;for(;S=b();)l.push(S)}else if(16&_){const b=$d(t,o);if(Array.isArray(b))l.push(...b);else{const S=y(t[16]);ng(S[1],S,b,l,!0)}}o=h?o.projectionNext:o.next}return l}class Sd{constructor(t,o){this._lView=t,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,o=t[1];return ng(o,t,o.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ir(t)){const o=t[8],l=o?o.indexOf(this):-1;l>-1&&(Yi(t,l),Mu(o,l))}this._attachedToViewContainer=!1}ha(this._lView[1],this._lView)}onDestroy(t){fp(this._lView[1],this._lView,null,t)}markForCheck(){Bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,o){$i(!0);try{Vf(e,t,o)}finally{$i(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Tc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class EE extends Sd{constructor(t){super(t),this._view=t}detectChanges(){yp(this._view)}checkNoChanges(){!function(e){$i(!0);try{yp(e)}finally{$i(!1)}}(this._view)}get context(){return null}}class o_ extends Dd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const o=Vn(t);return new Om(o,this.ngModule)}}function s_(e){const t=[];for(let o in e)e.hasOwnProperty(o)&&t.push({propName:e[o],templateName:o});return t}const DE=new Lt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$u});class Om extends e_{constructor(t,o){super(),this.componentDef=t,this.ngModule=o,this.componentType=t.type,this.selector=t.selectors.map(Zd).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return s_(this.componentDef.inputs)}get outputs(){return s_(this.componentDef.outputs)}create(t,o,l,h){const g=(h=h||this.ngModule)?function(e,t){return{get:(o,l,h)=>{const g=e.get(o,Nm,h);return g!==Nm||l===Nm?g:t.get(o,l,h)}}}(t,h.injector):t,_=g.get(n_,We),b=g.get(wE,null),S=_.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",V=l?function(e,t,o){if(xe(e))return e.selectRootElement(t,o===vn.ShadowDom);let l="string"==typeof t?e.querySelector(t):t;return l.textContent="",l}(S,l,this.componentDef.encapsulation):dt(_.createRenderer(null,this.componentDef),x,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(x)),Q=this.componentDef.onPush?576:528,oe=function(e,t){return{components:[],scheduler:e||$u,clean:zg,playerHandler:t||null,flags:0}}(),ge=Pf(0,null,null,1,0,null,null,null,null,null),Ue=lu(null,ge,oe,Q,null,null,_,S,b,g);let Ze,at;Ys(Ue);try{const gt=function(e,t,o,l,h,g){const _=o[1];o[20]=e;const S=Bl(_,20,2,"#host",null),x=S.mergedAttrs=t.hostAttrs;null!==x&&(jc(S,x,!0),null!==e&&(Ss(h,e,x),null!==S.classes&&bf(h,e,S.classes),null!==S.styles&&Wd(h,e,S.styles)));const V=l.createRenderer(e,t),Q=lu(o,lp(t),null,t.onPush?64:16,o[20],S,l,V,g||null,null);return _.firstCreatePass&&(Ua(yi(S,o),_,t.type),Lg(_,S),dp(S,o.length,1)),Vc(o,Q),o[20]=Q}(V,this.componentDef,Ue,_,S);if(V)if(l)Ss(S,V,["ng-version",i_.full]);else{const{attrs:He,classes:Mt}=function(e){const t=[],o=[];let l=1,h=2;for(;l<e.length;){let g=e[l];if("string"==typeof g)2===h?""!==g&&t.push(g,e[++l]):8===h&&o.push(g);else{if(!Ls(h))break;h=g}l++}return{attrs:t,classes:o}}(this.componentDef.selectors[0]);He&&Ss(S,V,He),Mt&&Mt.length>0&&bf(S,V,Mt.join(" "))}if(at=$n(ge,20),void 0!==o){const He=at.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const un=o[Mt];He.push(null!=un?Array.from(un):null)}}Ze=function(e,t,o,l,h){const g=o[1],_=function(e,t,o){const l=bn();e.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Vh(e,l,t,Hl(e,t,1,null),o));const h=ja(t,e,l.directiveStart,l);Ar(h,t);const g=Ht(l,t);return g&&Ar(g,t),h}(g,o,t);if(l.components.push(_),e[8]=_,h&&h.forEach(S=>S(_,t)),t.contentQueries){const S=bn();t.contentQueries(1,_,S.directiveStart)}const b=bn();return!g.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(z(b.index),kc(o[1],b,0,b.directiveStart,b.directiveEnd,t),Fg(t,_)),_}(gt,this.componentDef,Ue,oe,[im]),cu(ge,Ue,null)}finally{Ti()}return new AE(this.componentType,Ze,Kf(at,Ue),Ue,at)}}class AE extends class{}{constructor(t,o,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new EE(h),this.componentType=t}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Yf{}class a_{}const Qf=new Map;class c_ extends Yf{constructor(t,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new o_(this);const l=Un(t);this._bootstrapComponents=Ki(l.bootstrap),this._r3Injector=Hc(t,o,[{provide:Yf,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver}],Me(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,o=_o.THROW_IF_NOT_FOUND,l=ee.Default){return t===_o||t===Yf||t===Cp?this:this._r3Injector.get(t,o,l)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pm extends a_{constructor(t){super(),this.moduleType=t,null!==Un(t)&&function(e){const t=new Set;!function o(l){const h=Un(l,!0),g=h.id;null!==g&&(function(e,t,o){if(t&&t!==o)throw new Error(`Duplicate module registered for ${e} - ${Me(t)} vs ${Me(t.name)}`)}(g,Qf.get(g),l),Qf.set(g,l));const _=Ki(h.imports);for(const b of _)t.has(b)||(t.add(b),o(b))}(e)}(t)}create(t){return new c_(this.moduleType,t)}}function f_(e,t,o,l){return function(e,t,o,l,h,g){const _=t+o;return ci(e,_,h)?function(e,t,o){return e[t]=o}(e,_+1,g?l.call(g,h):l(h)):function(e,t){const o=e[t];return o===jt?void 0:o}(e,_+1)}($e(),function(){const e=Dt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,o,l)}function Rm(e){return t=>{setTimeout(e,void 0,t)}}const yu=class extends de.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,o,l){var S,x,V;let h=t,g=o||(()=>null),_=l;if(t&&"object"==typeof t){const Q=t;h=null==(S=Q.next)?void 0:S.bind(Q),g=null==(x=Q.error)?void 0:x.bind(Q),_=null==(V=Q.complete)?void 0:V.bind(Q)}this.__isAsync&&(g=Rm(g),h&&(h=Rm(h)),_&&(_=Rm(_)));const b=super.subscribe({next:h,error:g,complete:_});return t instanceof ze.w0&&t.add(b),b}};function qE(){return this._results[Ju()]()}class xm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ju(),l=xm.prototype;l[o]||(l[o]=qE)}get changes(){return this._changes||(this._changes=new yu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,o){return this._results.reduce(t,o)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,o){const l=this;l.dirty=!1;const h=$r(t);(this._changesDetected=!function(e,t,o){if(e.length!==t.length)return!1;for(let l=0;l<e.length;l++){let h=e[l],g=t[l];if(o&&(h=o(h),g=o(g)),g!==h)return!1}return!0}(l._results,h,o))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Id=(()=>{class e{}return e.__NG_ELEMENT_ID__=YE,e})();const WE=Id,KE=class extends WE{constructor(t,o,l){super(),this._declarationLView=t,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(t){const o=this._declarationTContainer.tViews,l=lu(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(o)),cu(o,l,t),new Sd(l)}};function YE(){return rg(bn(),$e())}function rg(e,t){return 4&e.type?new KE(t,e,Kf(e,t)):null}let ig=(()=>{class e{}return e.__NG_ELEMENT_ID__=QE,e})();function QE(){return __(bn(),$e())}const ZE=ig,y_=class extends ZE{constructor(t,o,l){super(),this._lContainer=t,this._hostTNode=o,this._hostLView=l}get element(){return Kf(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const t=Au(this._hostTNode,this._hostLView);if(La(t)){const o=Va(t,this._hostLView),l=ka(t);return new Ro(o[1].data[l+8],o)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const o=v_(this._lContainer);return null!==o&&o[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,o,l){const h=t.createEmbeddedView(o||{});return this.insert(h,l),h}createComponent(t,o,l,h,g){const _=t&&!("function"==typeof t);let b;if(_)b=o;else{const Q=o||{};b=Q.index,l=Q.injector,h=Q.projectableNodes,g=Q.ngModuleRef}const S=_?t:new Om(Vn(t)),x=l||this.parentInjector;if(!g&&null==S.ngModule&&x){const Q=x.get(Yf,null);Q&&(g=Q)}const V=S.create(x,h,void 0,g);return this.insert(V.hostView,b),V}insert(t,o){const l=t._lView,h=l[1];if(Ir(l[3])){const V=this.indexOf(t);if(-1!==V)this.detach(V);else{const Q=l[3],oe=new y_(Q,Q[6],Q[3]);oe.detach(oe.indexOf(t))}}const g=this._adjustIndex(o),_=this._lContainer;!function(e,t,o,l){const h=10+l,g=o.length;l>0&&(o[h-1][4]=t),l<g-10?(t[4]=o[h],ea(o,10+l,t)):(o.push(t),t[4]=null),t[3]=o;const _=t[17];null!==_&&o!==_&&function(e,t){const o=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===o?e[9]=[t]:o.push(t)}(_,t);const b=t[19];null!==b&&b.insertView(e),t[2]|=128}(h,l,_,g);const b=vh(g,_),S=l[11],x=_f(S,_[7]);return null!==x&&function(e,t,o,l,h,g){l[0]=h,l[6]=t,Tc(e,l,o,1,h,g)}(h,_[6],S,l,x,b),t.attachToViewContainerRef(),ea(Fm(_),g,t),t}move(t,o){return this.insert(t,o)}indexOf(t){const o=v_(this._lContainer);return null!==o?o.indexOf(t):-1}remove(t){const o=this._adjustIndex(t,-1),l=Yi(this._lContainer,o);l&&(Mu(Fm(this._lContainer),o),ha(l[1],l))}detach(t){const o=this._adjustIndex(t,-1),l=Yi(this._lContainer,o);return l&&null!=Mu(Fm(this._lContainer),o)?new Sd(l):null}_adjustIndex(t,o=0){return null==t?this.length+o:t}};function v_(e){return e[8]}function Fm(e){return e[8]||(e[8]=[])}function __(e,t){let o;const l=t[e.index];if(Ir(l))o=l;else{let h;if(8&e.type)h=Nt(l);else{const g=t[11];h=g.createComment("");const _=Ht(e,t);au(g,_f(g,_),h,function(e,t){return xe(e)?e.nextSibling(t):t.nextSibling}(g,_),!1)}t[e.index]=o=pp(l,t,h,e),Vc(t,o)}return new y_(o,e,t)}class Lm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class km{constructor(t=[]){this.queries=t}createEmbeddedView(t){const o=t.queries;if(null!==o){const l=null!==t.contentQueries?t.contentQueries[0]:o.length,h=[];for(let g=0;g<l;g++){const _=o.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new km(h)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let o=0;o<this.queries.length;o++)null!==T_(t,o).matches&&this.queries[o].setDirty()}}class w_{constructor(t,o,l=null){this.predicate=t,this.flags=o,this.read=l}}class Vm{constructor(t=[]){this.queries=t}elementStart(t,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(t,o)}elementEnd(t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(t)}embeddedTView(t){let o=null;for(let l=0;l<this.length;l++){const h=null!==o?o.length:0,g=this.getByIndex(l).embeddedTView(t,h);g&&(g.indexInDeclarationView=l,null!==o?o.push(g):o=[g])}return null!==o?new Vm(o):null}template(t,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(t,o)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Um{constructor(t,o=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(t,o){this.isApplyingToNode(o)&&this.matchTNode(t,o)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,o){this.elementStart(t,o)}embeddedTView(t,o){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,o),new Um(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=t.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(t,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(t,o,eb(o,g)),this.matchTNodeWithReadOption(t,o,Ts(o,t,g,!1,!1))}else l===Id?4&o.type&&this.matchTNodeWithReadOption(t,o,-1):this.matchTNodeWithReadOption(t,o,Ts(o,t,l,!1,!1))}matchTNodeWithReadOption(t,o,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Cd||h===ig||h===Id&&4&o.type)this.addMatch(o.index,-2);else{const g=Ts(o,t,h,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,l)}}addMatch(t,o){null===this.matches?this.matches=[t,o]:this.matches.push(t,o)}}function eb(e,t){const o=e.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===t)return o[l+1];return null}function nb(e,t,o,l){return-1===o?function(e,t){return 11&e.type?Kf(e,t):4&e.type?rg(e,t):null}(t,e):-2===o?function(e,t,o){return o===Cd?Kf(t,e):o===Id?rg(t,e):o===ig?__(t,e):void 0}(e,t,l):ja(e,e[1],o,t)}function E_(e,t,o,l){const h=t[19].queries[l];if(null===h.matches){const g=e.data,_=o.matches,b=[];for(let S=0;S<_.length;S+=2){const x=_[S];b.push(x<0?null:nb(t,g[x],_[S+1],o.metadata.read))}h.matches=b}return h.matches}function jm(e,t,o,l){const h=e.queries.getByIndex(o),g=h.matches;if(null!==g){const _=E_(e,t,h,o);for(let b=0;b<g.length;b+=2){const S=g[b];if(S>0)l.push(_[b/2]);else{const x=g[b+1],V=t[-S];for(let Q=10;Q<V.length;Q++){const oe=V[Q];oe[17]===oe[3]&&jm(oe[1],oe,x,l)}if(null!==V[9]){const Q=V[9];for(let oe=0;oe<Q.length;oe++){const ge=Q[oe];jm(ge[1],ge,x,l)}}}}}return l}function b_(e){const t=$e(),o=Yt(),l=cr();No(l+1);const h=T_(o,l);if(e.dirty&&Qr(t)===(2==(2&h.metadata.flags))){if(null===h.matches)e.reset([]);else{const g=h.crossesNgTemplate?jm(o,t,l,[]):E_(o,t,h,l);e.reset(g,mE),e.notifyOnChanges()}return!0}return!1}function D_(e,t,o,l){const h=Yt();if(h.firstCreatePass){const g=bn();(function(e,t,o){null===e.queries&&(e.queries=new Vm),e.queries.track(new Um(t,o))})(h,new w_(t,o,l),g.index),function(e,t){const o=e.contentQueries||(e.contentQueries=[]);t!==(o.length?o[o.length-1]:-1)&&o.push(e.queries.length-1,t)}(h,e),2==(2&o)&&(h.staticContentQueries=!0)}!function(e,t,o){const l=new xm(4==(4&o));fp(e,t,l,l.destroy),null===t[19]&&(t[19]=new km),t[19].queries.push(new Lm(l))}(h,$e(),o)}function C_(){return e=$e(),t=cr(),e[19].queries[t].queryList;var e,t}function T_(e,t){return e.queries.getByIndex(t)}function ag(...e){}const qm=new Lt("Application Initializer");let Jf=(()=>{class e{constructor(o){this.appInits=o,this.resolve=ag,this.reject=ag,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if($o(g))o.push(g);else if(ba(g)){const _=new Promise((b,S)=>{g.subscribe({complete:b,error:S})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(h=>{this.reject(h)}),0===o.length&&l(),this.initialized=!0}}return e.\u0275fac=function(o){return new(o||e)(zr(qm,8))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const z_=new Lt("AppId"),Ab={provide:z_,useFactory:function(){return`${Wm()}${Wm()}${Wm()}`},deps:[]};function Wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q_=new Lt("Platform Initializer"),W_=new Lt("Platform ID"),K_=new Lt("appBootstrapListener");let Y_=(()=>{class e{log(o){console.log(o)}warn(o){console.warn(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const ug=new Lt("LocaleId"),Q_=new Lt("DefaultCurrencyCode");class Tb{constructor(t,o){this.ngModuleFactory=t,this.componentFactories=o}}let Km=(()=>{class e{compileModuleSync(o){return new Pm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),g=Ki(Un(o).declarations).reduce((_,b)=>{const S=Vn(b);return S&&_.push(new Om(S)),_},[]);return new Tb(l,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const Mb=(()=>Promise.resolve(0))();function Ym(e){"undefined"==typeof Zone?Mb.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ms{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&o,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let e=ln.requestAnimationFrame,t=ln.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o);const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ln,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Zm(e),e.isCheckStableRunning=!0,Qm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Zm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,h,g,_,b)=>{try{return Z_(e),o.invokeTask(h,g,_,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),J_(e)}},onInvoke:(o,l,h,g,_,b,S)=>{try{return Z_(e),o.invoke(h,g,_,b,S)}finally{e.shouldCoalesceRunChangeDetection&&t(),J_(e)}},onHasTask:(o,l,h,g)=>{o.hasTask(h,g),l===h&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Zm(e),Qm(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,h,g)=>(o.handleError(h,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,o,l){return this._inner.run(t,o,l)}runTask(t,o,l,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,t,Ob,ag,ag);try{return g.runTask(_,o,l)}finally{g.cancelTask(_)}}runGuarded(t,o,l){return this._inner.runGuarded(t,o,l)}runOutsideAngular(t){return this._outer.run(t)}}const Ob={};function Qm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Z_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function J_(e){e._nesting--,Qm(e)}class xb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(t,o,l){return t.apply(o,l)}runGuarded(t,o,l){return t.apply(o,l)}runOutsideAngular(t){return t()}runTask(t,o,l,h){return t.apply(o,l)}}let X_=(()=>{class e{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),Ym(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ym(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:h})}whenStable(o,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,h){return[]}}return e.\u0275fac=function(o){return new(o||e)(zr(ms))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),ew=(()=>{class e{constructor(){this._applications=new Map,Jm.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Jm.findTestabilityInTree(this,o,l)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();class Fb{addToWindow(t){}findTestabilityInTree(t,o,l){return null}}function Lb(e){Jm=e}let Aa,Jm=new Fb;const tw=new Lt("AllowMultipleToken");class jb{constructor(t,o){this.name=t,this.token=o}}function nw(e,t,o=[]){const l=`Platform: ${t}`,h=new Lt(l);return(g=[])=>{let _=rw();if(!_||_.injector.get(tw,!1))if(e)e(o.concat(g).concat({provide:h,useValue:!0}));else{const b=o.concat(g).concat({provide:h,useValue:!0},{provide:fu,useValue:"platform"});!function(e){if(Aa&&!Aa.destroyed&&!Aa.injector.get(tw,!1))throw new tt("400","");Aa=e.get(iw);const t=e.get(q_,null);t&&t.forEach(o=>o())}(_o.create({providers:b,name:l}))}return function(e){const t=rw();if(!t)throw new tt("401","");return t}()}}function rw(){return Aa&&!Aa.destroyed?Aa:null}let iw=(()=>{class e{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const b=function(e,t){let o;return o="noop"===e?new xb:("zone.js"===e?void 0:e)||new ms({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),S=[{provide:ms,useValue:b}];return b.run(()=>{const x=_o.create({providers:S,parent:this.injector,name:o.moduleType.name}),V=o.create(x),Q=V.injector.get(ca,null);if(!Q)throw new tt("402","");return b.runOutsideAngular(()=>{const oe=b.onError.subscribe({next:ge=>{Q.handleError(ge)}});V.onDestroy(()=>{Xm(this._modules,V),oe.unsubscribe()})}),function(e,t,o){try{const l=o();return $o(l)?l.catch(h=>{throw t.runOutsideAngular(()=>e.handleError(h)),h}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(Q,b,()=>{const oe=V.injector.get(Jf);return oe.runInitializers(),oe.donePromise.then(()=>(function(e){Pe(e,"Expected localeId to be defined"),"string"==typeof e&&(Iv=e.toLowerCase().replace(/_/g,"-"))}(V.injector.get(ug,Zp)||Zp),this._moduleDoBootstrap(V),V))})})}bootstrapModule(o,l=[]){const h=ow({},l);return function(e,t,o){const l=new Pm(o);return Promise.resolve(l)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(o){const l=o.injector.get(Nd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new tt("403","");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt("404","");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(o){return new(o||e)(zr(_o))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();function ow(e,t){return Array.isArray(t)?t.reduce(ow,e):St(St({},e),t)}let Nd=(()=>{class e{constructor(o,l,h,g,_){this._zone=o,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new Ce.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new Ce.y(x=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),Ym(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{V.unsubscribe(),Q.unsubscribe()}});this.isStable=function(...e){const t=(0,ye.yG)(e),o=(0,ye._6)(e,1/0),l=e;return l.length?1===l.length?(0,v.Xf)(l[0]):(0,k.J)(o)((0,ae.D)(l,t)):Ae.E}(b,S.pipe(function(e={}){const{connector:t=(()=>new de.x),resetOnError:o=!0,resetOnComplete:l=!0,resetOnRefCountZero:h=!0}=e;return g=>{let _=null,b=null,S=null,x=0,V=!1,Q=!1;const oe=()=>{null==b||b.unsubscribe(),b=null},ge=()=>{oe(),_=S=null,V=Q=!1},Ue=()=>{const Ze=_;ge(),null==Ze||Ze.unsubscribe()};return(0,_e.e)((Ze,at)=>{x++,!Q&&!V&&oe();const gt=S=null!=S?S:t();at.add(()=>{x--,0===x&&!Q&&!V&&(b=ie(Ue,h))}),gt.subscribe(at),_||(_=new Y.Hp({next:He=>gt.next(He),error:He=>{Q=!0,oe(),b=ie(ge,o,He),gt.error(He)},complete:()=>{V=!0,oe(),b=ie(ge,l),gt.complete()}}),(0,ae.D)(Ze).subscribe(_))})(g)}}()))}bootstrap(o,l){if(!this._initStatus.done)throw new tt("405","");let h;h=o instanceof e_?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(h.componentType);const g=function(e){return e.isBoundToModule}(h)?void 0:this._injector.get(Yf),b=h.create(_o.NULL,[],l||h.selector,g),S=b.location.nativeElement,x=b.injector.get(X_,null),V=x&&b.injector.get(ew);return x&&V&&V.registerApplication(S,x),b.onDestroy(()=>{this.detachView(b.hostView),Xm(this.components,b),V&&V.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new tt("101","");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Xm(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(K_,[]).concat(this._bootstrapListeners).forEach(h=>h(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(o){return new(o||e)(zr(ms),zr(_o),zr(ca),zr(Dd),zr(Jf))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();function Xm(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}let aw=!0;function qb(){aw=!1}let Wb=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kb,e})();function Kb(e){return function(e,t,o){if(wn(e)&&!o){const l=Kt(e.index,t);return new Sd(l,l)}return 47&e.type?new Sd(t[16],t):null}(bn(),$e(),16==(16&e))}class pw{constructor(){}supports(t){return wo(t)}create(t){return new tD(t)}}const eD=(e,t)=>t;class tD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||eD}forEachItem(t){let o;for(o=this._itHead;null!==o;o=o._next)t(o)}forEachOperation(t){let o=this._itHead,l=this._removalsHead,h=0,g=null;for(;o||l;){const _=!l||o&&o.currentIndex<mw(l,h,g)?o:l,b=mw(_,h,g),S=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)h++;else{g||(g=[]);const x=b-h,V=S-h;if(x!=V){for(let oe=0;oe<x;oe++){const ge=oe<g.length?g[oe]:g[oe]=0,Ue=ge+oe;V<=Ue&&Ue<x&&(g[oe]=ge+1)}g[_.previousIndex]=V-x}}b!==S&&t(_,b,S)}}forEachPreviousItem(t){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)t(o)}forEachAddedItem(t){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)t(o)}forEachMovedItem(t){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)t(o)}forEachRemovedItem(t){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)t(o)}forEachIdentityChange(t){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)t(o)}diff(t){if(null==t&&(t=[]),!wo(t))throw new Error(`Error trying to diff '${Me(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let h,g,_,o=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let b=0;b<this.length;b++)g=t[b],_=this._trackByFn(b,g),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,g,_,b)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,_,b),l=!0),o=o._next}else h=0,function(e,t){if(Array.isArray(e))for(let o=0;o<e.length;o++)t(e[o]);else{const o=e[Ju()]();let l;for(;!(l=o.next()).done;)t(l.value)}}(t,b=>{_=this._trackByFn(h,b),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,b,_,h)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,_,h),l=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,o,l,h){let g;return null===t?g=this._itTail:(g=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(t.item,o)||this._addIdentityChange(t,o),this._reinsertAfter(t,g,h)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(t.item,o)||this._addIdentityChange(t,o),this._moveAfter(t,g,h)):t=this._addAfter(new nD(o,l),g,h),t}_verifyReinsertion(t,o,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?t=this._reinsertAfter(g,t._prev,h):t.currentIndex!=h&&(t.currentIndex=h,this._addToMoves(t,h)),t}_truncate(t){for(;null!==t;){const o=t._next;this._addToRemovals(this._unlink(t)),t=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const h=t._prevRemoved,g=t._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(t,o,l),this._addToMoves(t,l),t}_moveAfter(t,o,l){return this._unlink(t),this._insertAfter(t,o,l),this._addToMoves(t,l),t}_addAfter(t,o,l){return this._insertAfter(t,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,o,l){const h=null===o?this._itHead:o._next;return t._next=h,t._prev=o,null===h?this._itTail=t:h._prev=t,null===o?this._itHead=t:o._next=t,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(t),t.currentIndex=l,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const o=t._prev,l=t._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,t}_addToMoves(t,o){return t.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,o){return t.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nD{constructor(t,o){this.item=t,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,t))return l;return null}remove(t){const o=t._prevDup,l=t._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class gw{constructor(){this.map=new Map}put(t){const o=t.trackById;let l=this.map.get(o);l||(l=new rD,this.map.set(o,l)),l.add(t)}get(t,o){const h=this.map.get(t);return h?h.get(t,o):null}remove(t){const o=t.trackById;return this.map.get(o).remove(t)&&this.map.delete(o),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mw(e,t,o){const l=e.previousIndex;if(null===l)return l;let h=0;return o&&l<o.length&&(h=o[l]),l+t+h}class yw{constructor(){}supports(t){return t instanceof Map||od(t)}create(){return new iD}}class iD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let o;for(o=this._mapHead;null!==o;o=o._next)t(o)}forEachPreviousItem(t){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)t(o)}forEachChangedItem(t){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)t(o)}forEachAddedItem(t){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)t(o)}forEachRemovedItem(t){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)t(o)}diff(t){if(t){if(!(t instanceof Map||od(t)))throw new Error(`Error trying to diff '${Me(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(t,(l,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(h,l);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,o){if(t){const l=t._prev;return o._next=t,o._prev=l,t._prev=o,l&&(l._next=o),t===this._mapHead&&(this._mapHead=o),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(t,o){if(this._records.has(t)){const h=this._records.get(t);this._maybeAddToChanges(h,o);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const l=new oD(t);return this._records.set(t,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,o){Object.is(o,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=o,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,o){t instanceof Map?t.forEach(o):Object.keys(t).forEach(l=>o(t[l],l))}}class oD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new cg([new pw])}let cg=(()=>{class e{constructor(o){this.factories=o}static create(o,l){if(null!=l){const h=l.factories.slice();o=o.concat(h)}return new e(o)}static extend(o){return{provide:e,useFactory:l=>e.create(o,l||vw()),deps:[[e,new Oi,new is]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(e){return e.name||typeof e}(o)}'`)}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:vw}),e})();function _w(){return new fg([new yw])}let fg=(()=>{class e{constructor(o){this.factories=o}static create(o,l){if(l){const h=l.factories.slice();o=o.concat(h)}return new e(o)}static extend(o){return{provide:e,useFactory:l=>e.create(o,l||_w()),deps:[[e,new Oi,new is]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:_w}),e})();const aD=[new yw],lD=new cg([new pw]),cD=new fg(aD),fD=nw(null,"core",[{provide:W_,useValue:"unknown"},{provide:iw,deps:[_o]},{provide:ew,deps:[]},{provide:Y_,deps:[]}]),mD=[{provide:Nd,useClass:Nd,deps:[ms,_o,ca,Dd,Jf]},{provide:DE,deps:[ms],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(o){t.push(o)}}},{provide:Jf,useClass:Jf,deps:[[new is,qm]]},{provide:Km,useClass:Km,deps:[]},Ab,{provide:cg,useFactory:function(){return lD},deps:[]},{provide:fg,useFactory:function(){return cD},deps:[]},{provide:ug,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||Zp},deps:[[new xu(ug),new is,new Oi]]},{provide:Q_,useValue:"USD"}];let vD=(()=>{class e{constructor(o){}}return e.\u0275fac=function(o){return new(o||e)(zr(Nd))},e.\u0275mod=no({type:e}),e.\u0275inj=Wt({providers:mD}),e})()}},ht=>{ht(ht.s=9709)}]);